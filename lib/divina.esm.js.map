{"version":3,"file":"divina.esm.js","sources":["../src/Renderer/PixiRenderer/Loop.js","../src/Renderer/PixiRenderer/Container.js","../src/constants.js","../src/utils.js","../src/Renderer/PixiRenderer/Renderer.js","../src/Renderer/PixiRenderer/TextBlock.js","../src/Renderer/PixiRenderer/TextElement.js","../src/Renderer/PixiRenderer/LoadingAnimation.js","../src/Renderer/PixiRenderer/TextureElement.js","../src/Renderer/PixiRenderer/BaseTexture.js","../src/Renderer/PixiRenderer/Texture.js","../src/Renderer/PixiRenderer/Loader.js","../src/Renderer/index.js","../src/Player/TextManager.js","../src/Player/InteractionManager.js","../src/ResourceManager/CoreResource.js","../src/ResourceManager/TextureResource.js","../src/ResourceManager/VideoTextureResource.js","../src/ResourceManager/AudioResource.js","../src/ResourceManager/AsyncTaskQueue.js","../src/ResourceManager/ResourceLoadTaskQueue.js","../src/ResourceManager/Task.js","../src/ResourceManager/ResourceManager.js","../src/Player/TimeAnimationManager.js","../src/Player/EventEmitter.js","../src/Slice/Slice.js","../src/Slice/TextSlice.js","../src/Slice/SequenceSlice.js","../src/DivinaParser/ResourceBuilder.js","../src/DivinaParser/Transition.js","../src/DivinaParser/LinkObject.js","../src/DivinaParser/DivinaParser.js","../src/Player/TagManager.js","../src/StoryBuilder/StateHandler/LayerTransition.js","../src/StoryBuilder/StateHandler/StateHandler.js","../src/StoryBuilder/OverflowHandler/Camera.js","../src/StoryBuilder/OverflowHandler/OverflowHandler.js","../src/StoryBuilder/LayerPile.js","../src/StoryBuilder/PageNavigator.js","../src/StoryBuilder/Slideshow.js","../src/StoryBuilder/Layer.js","../src/StoryBuilder/Page.js","../src/StoryBuilder/Segment.js","../src/StoryBuilder/StoryBuilder.js","../src/Player/Player.js","../src/index.js"],"sourcesContent":["export default class Loop {\n\n\tconstructor(renderFunction) {\n\t\tif (!renderFunction) {\n\t\t\treturn\n\t\t}\n\t\tthis._renderFunction = renderFunction\n\n\t\tthis._loop = () => {\n\t\t\tif (this._dirty === true) {\n\t\t\t\tthis._dirty = false\n\t\t\t\tthis._renderFunction()\n\t\t\t}\n\t\t\trequestAnimationFrame(this._loop)\n\t\t}\n\n\t\tthis._loop()\n\t}\n\n\tsetDirty(dirty) {\n\t\tthis._dirty = dirty\n\t}\n\n\tdestroy() {\n\t\tif (!this._ticker) {\n\t\t\treturn\n\t\t}\n\t\tthis._ticker.destroy()\n\t}\n\n}","import { Container as PixiContainer, Graphics as PixiGraphics } from \"pixi.js-legacy\"\n\nexport default class Container {\n\n\t// Used in TextElement, TextureElement and LoadingAnimation\n\tget name() { return this._name }\n\n\t// Used in TextElement, TextureElement and LayerPile (parent is a Container, not a PixiContainer!)\n\tget parent() { return this._parent }\n\n\t// Used below and in LoadingAnimation\n\tget pixiContainer() { return this._pixiContainer }\n\n\t// Used in TextureElement\n\tget maskingPixiContainer() { return this._maskingPixiContainer }\n\n\tconstructor(type = null, name = null, parent = null, pixiContainer = null) {\n\t\tthis._type = type\n\t\tthis._pixiContainer = pixiContainer || new PixiContainer()\n\t\tthis.setName(name)\n\t\tif (parent) {\n\t\t\tparent.addChild(this)\n\t\t}\n\n\t\tthis._maskingPixiContainer = null\n\t\tthis._mask = null\n\n\t\tthis._position = { x: 0, y: 0 }\n\n\t\tthis._scaleFactor = 1\n\t\tthis._scale = 1\n\n\t\tthis._isXPositionUpdating = false\n\t\tthis._isYPositionUpdating = false\n\t}\n\n\tsetName(name, suffix = null) {\n\t\tthis._name = name\n\t\tif (this._pixiContainer) {\n\t\t\tthis._pixiContainer.name = name\n\t\t\tif (suffix !== null) {\n\t\t\t\tthis._pixiContainer.name += suffix\n\t\t\t}\n\t\t}\n\t\tif (this._maskingPixiContainer) {\n\t\t\tthis._setMaskingPixiContainerName()\n\t\t\tthis._setMaskName()\n\t\t}\n\t}\n\n\t_setMaskingPixiContainerName() {\n\t\tthis._maskingPixiContainer.name = `${this._name}MaskingContainer`\n\t}\n\n\t_setMaskName() {\n\t\tthis._mask.name = `${this._name}Mask`\n\t}\n\n\t// Used here and in Player (on changing page navigators)\n\taddChild(child) {\n\t\tconst { pixiContainer } = child\n\t\tthis._pixiContainer.addChild(pixiContainer)\n\t\tchild.setParent(this)\n\t}\n\n\t// Used here, in TextureElement and LayerPile\n\tsetParent(parent) {\n\t\tthis._parent = parent\n\t}\n\n\t// Mask functions are used in Renderer and TextureElement\n\n\taddMask() {\n\t\tthis._maskingPixiContainer = new PixiContainer()\n\t\tthis._setMaskingPixiContainerName()\n\t\tthis._pixiContainer.addChild(this._maskingPixiContainer)\n\t}\n\n\tsetMaskRect(x, y, w, h) {\n\t\tif (!this._maskingPixiContainer) {\n\t\t\treturn\n\t\t}\n\t\t// The mask is recreated with each resize (it works better)\n\n\t\t// Remove the mask and create it again\n\t\tthis._maskingPixiContainer.removeChildren()\n\t\tthis._mask = new PixiGraphics()\n\t\tthis._setMaskName()\n\t\tthis._maskingPixiContainer.addChild(this._mask)\n\t\tthis._pixiContainer.mask = this._mask\n\n\t\t// Redraw the mask at the right size\n\t\tthis._mask.beginFill(0)\n\t\tthis._mask.drawRect(x, y, w, h)\n\t\tthis._mask.endFill()\n\t}\n\n\tremoveMask() {\n\t\tthis._pixiContainer.mask = null\n\t\tif (this._mask) {\n\t\t\tthis._maskingPixiContainer.removeChild(this._mask)\n\t\t\tthis._mask = null\n\t\t}\n\t\tif (this._maskingPixiContainer) {\n\t\t\tthis._pixiContainer.removeChild(this._maskingPixiContainer)\n\t\t\tthis._maskingPixiContainer = null\n\t\t}\n\t}\n\n\t// Used in Renderer to update the content container on a resize\n\tsetPivot(pivot) {\n\t\tthis._pixiContainer.pivot = pivot\n\t}\n\n\t// Used on destroying TextManager, on changing page navigators and in StateHandler\n\tremoveFromParent() {\n\t\tif (!this._parent) {\n\t\t\treturn\n\t\t}\n\t\tconst { pixiContainer } = this._parent\n\t\tthis.setParent(null)\n\t\tif (!pixiContainer || !this._pixiContainer) {\n\t\t\treturn\n\t\t}\n\t\tpixiContainer.removeChild(this._pixiContainer)\n\t}\n\n\t// Used in StateHandler and LayerPile\n\taddChildAtIndex(container, index) {\n\t\t// First store child PixiJS containers above index value away\n\t\tconst { children } = this._pixiContainer\n\t\tlet i = children.length\n\t\tconst zIndex = Math.min(Math.max(index, 0), i)\n\t\tconst tmpPixiContainer = new PixiContainer()\n\t\ti -= 1\n\t\twhile (i >= 0 && zIndex <= i) {\n\t\t\tconst child = children[i]\n\t\t\ttmpPixiContainer.addChild(child)\n\t\t\ti -= 1\n\t\t}\n\t\t// Now add the new child\n\t\tthis.addChild(container)\n\t\t// Finally put child PixiJS containers back\n\t\tconst childrenToPutBack = [...tmpPixiContainer.children].reverse()\n\t\tchildrenToPutBack.forEach((child) => {\n\t\t\tthis._pixiContainer.addChild(child)\n\t\t})\n\t}\n\n\t// Functions used in Player (for zoom)\n\n\tgetPosition() {\n\t\tconst { x, y } = this._pixiContainer\n\t\treturn { x, y }\n\t}\n\n\t// Functions used in Slice\n\n\tsetAlpha(alpha) { // Also used in StateHandler (for transitions)\n\t\tthis._pixiContainer.alpha = alpha\n\t}\n\n\tsetX(x) {\n\t\tthis._position.x = x * this._scale\n\t\tthis._pixiContainer.x = x * this._scale\n\t}\n\n\tsetY(y) {\n\t\tthis._position.y = y * this._scale\n\t\tthis._pixiContainer.y = y * this._scale\n\t}\n\n\tsetScaleFactor(scaleFactor) {\n\t\tif (!scaleFactor) {\n\t\t\treturn\n\t\t}\n\t\tthis._scaleFactor = scaleFactor\n\t\tconst actualScale = this._scale * this._scaleFactor\n\t\tthis._pixiContainer.scale.set(actualScale)\n\t}\n\n\t// Beware: rotations apply to sprites, not to their enclosing pixiContainer\n\tsetRotation(rotation) {\n\t\tif (this._playableSprite) {\n\t\t\tthis._playableSprite.rotation = rotation\n\t\t} else {\n\t\t\tthis._sprite.rotation = rotation\n\t\t}\n\t}\n\n\tgetAlpha() {\n\t\treturn this._pixiContainer.alpha\n\t}\n\n\tgetX() {\n\t\treturn this._pixiContainer.position.x\n\t}\n\n\tgetY() {\n\t\treturn this._pixiContainer.position.y\n\t}\n\n\tgetScaleFactor() {\n\t\treturn this._scaleFactor\n\t}\n\n\t// Beware: rotations should apply to sprites, not to their enclosing pixiContainer\n\tgetRotation() {\n\t\tif (this._playableSprite) {\n\t\t\treturn this._playableSprite.rotation\n\t\t}\n\t\treturn this._sprite.rotation\n\t}\n\n\t// Function used in OverflowHandler to layout segments\n\n\tsetPosition(position) {\n\t\tif (!position) {\n\t\t\treturn\n\t\t}\n\t\tthis._position = position\n\t\tif (this._isXPositionUpdating === false) {\n\t\t\tthis._pixiContainer.position.x = position.x\n\t\t}\n\t\tif (this._isYPositionUpdating === false) {\n\t\t\tthis._pixiContainer.position.y = position.y\n\t\t}\n\t}\n\n\t// Functions used in StateHandler to handle transitions\n\n\tresetPosition() {\n\t\tthis.setPosition(this._position)\n\t}\n\n\tsetIsXPositionUpdating(isXPositionUpdating) {\n\t\tthis._isXPositionUpdating = isXPositionUpdating\n\t}\n\n\tsetIsYPositionUpdating(isYPositionUpdating) {\n\t\tthis._isYPositionUpdating = isYPositionUpdating\n\t}\n\n\tsetXOffset(xOffset) {\n\t\tthis._pixiContainer.position.x = this._position.x + xOffset\n\t}\n\n\tsetYOffset(yOffset) {\n\t\tthis._pixiContainer.position.y = this._position.y + yOffset\n\t}\n\n\tsetVisibility(shouldBeVisible) {\n\t\tthis._pixiContainer.visible = shouldBeVisible\n\t}\n\n\t// Used in TextureElement - and in Layer to handle (a multi-layered segment's) slice layers\n\tsetScale(scale) {\n\t\tif (!scale) {\n\t\t\treturn\n\t\t}\n\t\tthis._scale = scale\n\t\tconst actualScale = this._scale * this._scaleFactor\n\t\tthis._pixiContainer.scale.set(actualScale)\n\t}\n\n\t// Used in Segment\n\tclipToSize(size) {\n\t\tif (!this._maskingPixiContainer) {\n\t\t\tthis.addMask()\n\t\t}\n\t\tconst { width, height } = size\n\t\tthis.setMaskRect(-width / 2, -height / 2, width, height)\n\t}\n\n}","// General\nexport const DEFAULT_MANIFEST_FILENAME = \"manifest.json\" // Title of the JSON file in a Divina folder\nexport const POSSIBLE_TAG_NAMES = [\"language\"] // List of allowed tags (note that \"type\" can also have variations)\nexport const DEFAULT_DUMMY_COLOR = \"#333333\" // Dark gray\n\n// Loading message\nexport const LOADING_FILL_COLOR = \"#FFFFFF\" // White\nexport const LOADING_FONT_FAMILY = \"Arial\"\nexport const LOADING_FONT_SIZE = { value: 30, unit: \"px\" } // Do not use the \"%\" unit here\n\n// Text and resources\nexport const MAX_FONT_SIZE = 1000 // In pixels (also, percent values cannot be larger than 100%)\nexport const MAX_LETTER_SPACING = 1000\nexport const DEFAULT_MIME_TYPE = \"image/png\"\n// export const ACCEPTED_IMAGE_EXTENSIONS = [\"png\", \"jpg\"] // Not used (see utils.js)\nexport const ACCEPTED_VIDEO_EXTENSIONS = [\"mp4\"]\n\n// Loading parameters\n// Nb of units (pages or segments) after the current one for which resources should be stored\nexport const DEFAULT_MAX_NB_OF_UNITS_TO_LOAD_AFTER = 3\n// Nb of units before the current one for which resources should be stored in memory,\n// as a share of DEFAULT_MAX_NB_OF_PAGES_AFTER\nexport const MIN_SHARE_OF_UNITS_TO_LOAD_BEFORE = 1 / 3\n// Timeout to cancel video load (only in non-parallel loading mode, in milliseconds)\nexport const DEFAULT_VIDEO_LOAD_TIMEOUT = 2000\n\n// Loading animation\nexport const ROTATION_BY_TICK = 0.1\nexport const LINE_WIDTH = 2\nexport const SIZE_COEFFICIENT = 0.1\n\n// Story\nexport const DEFAULT_DURATION = 250 // In milliseconds (used for transitions and snap point jumps)\nexport const POSSIBLE_PIXEL_ERROR = 0.5 // Margin of error for pixel computations\n\nexport const ACCEPTED_VALUES = {\n\tloadingMessage: {\n\t\ttype: \"string\",\n\t\tdefaultValue: \"Loading\",\n\t},\n\tloadingMode: {\n\t\ttype: \"string\",\n\t\tallowed: [\"page\", \"segment\"],\n\t\tdefaultValue: \"page\",\n\t},\n\tallowsDestroy: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false,\n\t},\n\tallowsParallel: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\tallowsSwipe: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\tallowsWheelScroll: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\tallowsZoomOnDoubleTap: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\tallowsZoomOnCtrlOrAltScroll: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\t// To allow discontinuous gestures to trigger pagination jumps (when overflow === \"scrolled\")\n\tallowsPaginatedScroll: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\t// To make pagination sticky (only when overflow === \"paginated\")\n\tisPaginationSticky: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\t// To compute \"fake\" snap points from the page start (vs. from the current position)\n\tisPaginationGridBased: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\tdirection: { // Also used for readingProgression\n\t\ttype: \"string\",\n\t\tallowed: [\"ltr\", \"rtl\", \"ttb\", \"btt\"],\n\t\tdefaultValue: \"ltr\",\n\t},\n\tcontinuous: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true,\n\t},\n\tfit: {\n\t\ttype: \"string\",\n\t\tallowed: [\"contain\", \"cover\", \"width\", \"height\"],\n\t\tdefaultValue: \"contain\",\n\t},\n\tclipped: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false,\n\t},\n\toverflow: {\n\t\ttype: \"string\",\n\t\tallowed: [\"scrolled\", \"paginated\"],\n\t\tdefaultValue: \"scrolled\",\n\t},\n\thAlign: {\n\t\ttype: \"string\",\n\t\tallowed: [\"left\", \"center\", \"right\"],\n\t\tdefaultValue: \"center\",\n\t},\n\tvAlign: {\n\t\ttype: \"string\",\n\t\tallowed: [\"top\", \"center\", \"bottom\"],\n\t\tdefaultValue: \"center\",\n\t},\n\tspread: {\n\t\ttype: \"string\",\n\t\tallowed: [\"none\", \"both\", \"landscape\"],\n\t\tdefaultValue: \"none\",\n\t},\n\tconstraint: {\n\t\ttype: \"string\",\n\t\tallowed: [\"exact\", \"min\", \"max\"],\n\t\tdefaultValue: \"exact\",\n\t},\n\tpageSide: {\n\t\ttype: \"string\",\n\t\tallowed: [\"left\", \"center\", \"right\"],\n\t\tdefaultValue: \"center\",\n\t},\n\tduration: {\n\t\ttype: \"strictlyPositiveNumber\",\n\t\tdefaultValue: DEFAULT_DURATION,\n\t},\n\tpositive: {\n\t\ttype: \"positiveNumber\",\n\t\tdefaultValue: 0,\n\t},\n\tstrictlyPositive: {\n\t\ttype: \"strictlyPositiveNumber\",\n\t\t// No defaultValue\n\t},\n\tlooping: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false,\n\t},\n\ttransitionType: {\n\t\ttype: \"string\",\n\t\tallowed: [\"cut\", \"dissolve\", \"slide-in\", \"slide-out\", \"push\", \"animation\"],\n\t\t// defaultValue: \"cut\", // Actually useless (see Transition)\n\t},\n\thalfTransitionType: {\n\t\ttype: \"string\",\n\t\tallowed: [\"cut\", \"fade-in\", \"fade-out\", \"slide-in\", \"slide-out\"],\n\t\tdefaultValue: \"cut\",\n\t},\n\ttransitionControlled: {\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false,\n\t},\n\tviewport: {\n\t\ttype: \"string\",\n\t\tallowed: [\"start\", \"center\", \"end\"],\n\t\t// defaultValue: \"center\", // Actually useless... for now!\n\t},\n\tanimationType: {\n\t\ttype: \"string\",\n\t\tallowed: [\"time\", \"progress\", \"point\"],\n\t\tdefaultValue: \"time\",\n\t},\n\tanimationVariable: {\n\t\ttype: \"string\",\n\t\tallowed: [\"alpha\", \"x\", \"y\", \"scale\", \"rotation\"],\n\t\t// No default value!\n\t},\n\tbackgroundColor: {\n\t\ttype: \"color\",\n\t\tdefaultValue: \"#000000\", // Black\n\t},\n\tfillColor: {\n\t\ttype: \"color\",\n\t\tdefaultValue: \"#000000\", // Black\n\t},\n\tfontFamily: {\n\t\ttype: \"string\",\n\t\t// No allowed array means that all values are allowed!\n\t\tdefaultValue: \"Arial\",\n\t},\n\tfontSize: {\n\t\ttype: \"value&Unit\",\n\t\tdefaultValue: { value: 20, unit: \"%\" },\n\t},\n\tlineHeight: {\n\t\ttype: \"value&Unit\",\n\t\t// No default value (though should be \"28px\" for a \"24px\" Arial)\n\t},\n\tletterSpacing: {\n\t\ttype: \"number\",\n\t\tdefaultValue: 0,\n\t},\n}\n\n// Interactions\n// Percentage of the relevant viewport dimension (width or height, depending on the story's\n// reading direction) defining an \"active\" hit zone (to detect forward/backward clicks/taps)\nexport const REFERENCE_PERCENT = 0.3\nexport const VELOCITY_FACTOR = 10 // For a kinetic scroll\nexport const TIME_CONSTANT = 325 // For a kinetic scroll\nexport const MAX_ZOOM = 3 // Maximum zoom\nexport const ZOOM_SENSITIVITY = 3 // To compute zoom based on scroll\n// Percentage of the relevant dimension to scroll to trigger a valid controlled transition\nexport const VIEWPORT_DIMENSION_PERCENT = 0.5\n\n// Snap point speeds: speeds are computed such that the viewport will move by 1 relevant dimension\n// (= the viewport's width or height in pixels) in defaultDuration milliseconds\nexport const SNAP_JUMP_SPEED_FACTOR = 1 / DEFAULT_DURATION\n// (with the above, duration of a snap point jump = distance in px / speed,\n// where speed is defaultDuration * snapJumpSpeedFactor (used in Camera))\nexport const STICKY_MOVE_SPEED_FACTOR = 1 / DEFAULT_DURATION\n// (with the above, duration of a sticky snap point move = distance in px / speed,\n// where speed is defaultDuration * stickyMoveSpeedFactor (used in Camera))","import * as constants from \"./constants\"\n\nconst hasAScheme = (url) => {\n\tconst regExp = new RegExp(\"^(?:[a-z]+:)?//\", \"i\")\n\treturn (regExp.test(url) === true)\n}\n\nconst getFolderPathFromManifestPath = (manifestPath) => {\n\tif (!manifestPath || manifestPath.split(\"/\").length === 1) {\n\t\treturn \"\"\n\t}\n\tconst folderPath = manifestPath.split(`/${constants.DEFAULT_MANIFEST_FILENAME}`)[0]\n\treturn folderPath\n}\n\n// For type checking\n\nconst isAString = (value) => (\n\t(typeof value === \"string\" || value instanceof String)\n)\n\nconst isANumber = (value) => (Number.isFinite(value) === true)\n\nconst isAnObject = (value) => ( // Excluding the array case\n\t(value !== null && typeof value === \"object\" && Array.isArray(value) === false)\n)\n\nconst getValidValueAndUnit = (value) => {\n\tconst validValueAndUnit = {}\n\tif (value.slice(-1) === \"%\") {\n\t\tlet validValue = value.substring(0, value.length - 1)\n\t\tvalidValue = Number(validValue)\n\t\tif (isANumber(validValue) === true && validValue >= 0\n\t\t\t&& validValue <= 100) { // Percent values should be between 0 and 100\n\t\t\tvalidValueAndUnit.value = validValue\n\t\t\tvalidValueAndUnit.unit = \"%\"\n\t\t}\n\t} else if (value.length > 1 && value.slice(-2) === \"px\") {\n\t\tlet validValue = value.substring(0, value.length - 2)\n\t\tvalidValue = Number(validValue)\n\t\tif (isANumber(validValue) === true && validValue >= 0) { // Pixel values should be positive\n\t\t\tvalidValueAndUnit.value = validValue\n\t\t\tvalidValueAndUnit.unit = \"px\"\n\t\t}\n\t}\n\tif (validValueAndUnit.unit) {\n\t\treturn validValueAndUnit\n\t}\n\treturn null\n}\n\n// For checking data values\nconst returnValidValue = (valueType, value, shouldReturnDefaultValue) => {\n\tconst { type, allowed, defaultValue } = constants.ACCEPTED_VALUES[valueType] || {}\n\n\tif (type === \"number\") {\n\t\tif (value !== undefined && isANumber(value) === true) {\n\t\t\treturn value\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true && defaultValue !== undefined)\n\t\t\t? defaultValue\n\t\t\t: null\n\t}\n\tif (type === \"positiveNumber\") {\n\t\tif (value !== undefined && isANumber(value) === true && value >= 0) {\n\t\t\treturn value\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true && defaultValue !== undefined)\n\t\t\t? defaultValue\n\t\t\t: null\n\t}\n\tif (type === \"strictlyPositiveNumber\") {\n\t\tif (value !== undefined && isANumber(value) === true && value > 0) {\n\t\t\treturn value\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true && defaultValue !== undefined)\n\t\t\t? defaultValue\n\t\t\t: null\n\t}\n\tif (type === \"value&Unit\") {\n\t\tif (value !== undefined && isAString(value) === true) {\n\t\t\tconst validValueAndUnit = getValidValueAndUnit(value)\n\t\t\tif (validValueAndUnit) {\n\t\t\t\treturn validValueAndUnit\n\t\t\t}\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true) ? defaultValue : null\n\t}\n\tif (type === \"color\") {\n\t\tconst regExp = new RegExp(\"^#[0-9a-f]{6}$\", \"i\")\n\t\tif (value && isAString(value) === true && regExp.test(value) === true) {\n\t\t\treturn value\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true) ? defaultValue : null\n\t}\n\tif (type === \"boolean\") {\n\t\tif (value !== undefined && typeof value === \"boolean\") {\n\t\t\treturn value\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true) ? defaultValue : null\n\t}\n\tif (type === \"string\") {\n\t\tif (value && isAString(value) === true\n\t\t\t&& (allowed === undefined || allowed.includes(value) === true)) {\n\t\t\treturn value\n\t\t}\n\t\treturn (shouldReturnDefaultValue === true) ? defaultValue : null\n\t}\n\treturn null\n}\n\n// For handling resources\n\nconst getFileExtension = (path) => {\n\tif (!path) {\n\t\treturn null\n\t}\n\tconst pathParts = path.split(\".\")\n\tconst extension = pathParts[pathParts.length - 1]\n\treturn extension\n}\n\nconst isOfType = (path, acceptableGeneralType, acceptableExtensions) => {\n\tconst extension = getFileExtension(path)\n\tlet isExtensionAcceptable = false\n\tif (extension && acceptableExtensions) {\n\t\tacceptableExtensions.forEach((acceptableExtension) => {\n\t\t\t// Compare the uppercase versions of the extension strings\n\t\t\tif (extension.toUpperCase() === acceptableExtension.toUpperCase()) {\n\t\t\t\tisExtensionAcceptable = true\n\t\t\t}\n\t\t})\n\t}\n\treturn isExtensionAcceptable\n}\n\nconst hasAVideoExtension = (path) => (\n\tisOfType(path, \"video\", constants.ACCEPTED_VIDEO_EXTENSIONS)\n)\n\n/*const hasAnImageExtension = (path) => (\n\tisOfType(path, \"image\", constants.ACCEPTED_IMAGE_EXTENSIONS)\n)*/\n\nconst getResourceAndMimeTypes = (path, type = null) => {\n\tlet resourceType = null\n\n\t// To assign a general resourceType, first check the specified value for type\n\tif (type) {\n\t\tconst possibleType = type.split(\"/\")[0]\n\t\tif (possibleType === \"image\" || possibleType === \"video\") {\n\t\t\tresourceType = possibleType\n\t\t}\n\t}\n\n\t// If the specified value did not provide a relevant resourceType, check the path's extension\n\tif (!resourceType) {\n\t\tresourceType = (hasAVideoExtension(path) === true) ? \"video\" : \"image\"\n\t}\n\t// Note that the \"image\" resourceType is thus favored by default\n\t// Also note that we do not check that the mime type value is acceptable\n\n\treturn { resourceType, mimeType: type || constants.DEFAULT_MIME_TYPE }\n}\n\n// For parsing the aspect ratio value written as a string in the divina's viewportRatio property\nconst parseAspectRatio = (ratio) => {\n\tif (!ratio || isAString(ratio) === false) {\n\t\treturn null\n\t}\n\tconst parts = ratio.split(\":\")\n\tif (parts.length !== 2) {\n\t\treturn null\n\t}\n\tconst width = Number(parts[0])\n\tconst height = Number(parts[1])\n\tif (isANumber(width) === true && isANumber(height) === true && height !== 0) {\n\t\treturn (width / height)\n\t}\n\treturn null\n}\n\n// For splitting an href into path and mediaFragment\nconst getPathAndMediaFragment = (href) => {\n\tif (!href || isAString(href) === false) {\n\t\treturn { path: \"\" }\n\t}\n\tconst hrefParts = href.split(\"#\")\n\tconst path = hrefParts[0]\n\tif (hrefParts.length === 1 || hrefParts.length > 2) {\n\t\treturn { path }\n\t}\n\tconst mediaFragment = hrefParts[1]\n\treturn { path, mediaFragment }\n}\n\nconst parseStringRect = (stringRect) => {\n\tlet unit = \"pixel\"\n\tlet xywh = null\n\tlet fragmentInfo = stringRect\n\tfragmentInfo = fragmentInfo.split(\":\")\n\tif (fragmentInfo.length === 1) {\n\t\t[xywh] = fragmentInfo\n\t} else if (fragmentInfo.length === 2) {\n\t\t[unit, xywh] = fragmentInfo\n\t} else {\n\t\treturn null\n\t}\n\n\tif (unit !== \"percent\" && unit !== \"pixel\") {\n\t\treturn null\n\t}\n\tconst xywhArray = xywh.split(\",\")\n\tif (xywhArray.length !== 4) {\n\t\treturn null\n\t}\n\n\tlet [x, y, w, h] = xywhArray\n\tx = Number(x)\n\ty = Number(y)\n\tw = Number(w)\n\th = Number(h)\n\tif (isANumber(x) === false\n\t\t|| isANumber(y) === false\n\t\t|| isANumber(w) === false\n\t\t|| isANumber(h) === false) {\n\t\treturn null\n\t}\n\n\treturn {\n\t\tx, y, w, h, unit: (unit === \"percent\") ? \"%\" : \"px\",\n\t}\n}\n\nconst getRectWithSize = (rectWithUnit, { width, height }, shouldLimitSize = false) => {\n\tif (!rectWithUnit\n\t\t|| (rectWithUnit.unit !== \"%\" && rectWithUnit.unit !== \"px\")) {\n\t\treturn null\n\t}\n\n\tlet {\n\t\tx, y, w, h,\n\t} = rectWithUnit\n\tif (isANumber(x) === false\n\t\t|| isANumber(y) === false\n\t\t|| isANumber(w) === false\n\t\t|| isANumber(h) === false) {\n\t\treturn null\n\t}\n\n\tif (rectWithUnit.unit === \"%\") {\n\t\tx *= width / 100\n\t\ty *= height / 100\n\t\tw *= width / 100\n\t\th *= height / 100\n\t}\n\n\t// Correct potential mistakes in the way a media fragment was written\n\t// by limiting the fragment to the natural dimensions of the resource\n\tif (shouldLimitSize === true) {\n\t\tx = Math.min(Math.max(x, 0), width)\n\t\ty = Math.min(Math.max(y, 0), height)\n\t\tw = Math.min(Math.max(w, 0), width - x)\n\t\th = Math.min(Math.max(h, 0), height - y)\n\t}\n\n\treturn {\n\t\tx, y, w, h,\n\t}\n}\n\n// For parsing a media fragment string\n\nconst getRectForMediaFragmentAndSize = (mediaFragment, size) => {\n\tif (!mediaFragment) {\n\t\treturn null\n\t}\n\tconst mediaFragmentParts = mediaFragment.split(\"=\")\n\tif (mediaFragmentParts.length !== 2 || mediaFragmentParts[0] !== \"xywh\") {\n\t\treturn null\n\t}\n\tconst rectWithUnit = parseStringRect(mediaFragmentParts[1])\n\n\tconst shouldLimitSize = true\n\tconst rect = getRectWithSize(rectWithUnit, size, shouldLimitSize)\n\tif (!rect) {\n\t\treturn null\n\t}\n\tconst {\n\t\tx, y, w, h,\n\t} = rect\n\n\treturn {\n\t\tx, y, width: w, height: h,\n\t}\n}\n\nconst getShortenedHref = (href) => {\n\tif (!href) {\n\t\treturn null\n\t}\n\treturn href.split(\"#\")[0]\n}\n\n// For measuring a distance between 2 points (used for pinch)\nconst getDistance = (point1, point2) => (\n\tMath.sqrt((point2.x - point1.x) ** 2 + (point2.y - point1.y) ** 2)\n)\n\n// For converting colors\nconst convertColorStringToNumber = (hex) => {\n\tlet result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n\tif (result) {\n\t\tconst r = parseInt(result[1], 16)\n\t\tconst g = parseInt(result[2], 16)\n\t\tconst b = parseInt(result[3], 16)\n\t\tresult = r * (256 ** 2) + g * 256 + b\n\t\treturn result\n\t}\n\treturn null\n}\n\nexport {\n\thasAScheme,\n\tgetFolderPathFromManifestPath,\n\tisAString,\n\tisANumber,\n\tisAnObject,\n\tgetValidValueAndUnit,\n\treturnValidValue,\n\tgetResourceAndMimeTypes,\n\tparseAspectRatio,\n\tgetRectWithSize,\n\tgetPathAndMediaFragment,\n\tparseStringRect,\n\tgetRectForMediaFragmentAndSize,\n\tgetShortenedHref,\n\tgetDistance,\n\tconvertColorStringToNumber,\n}","import {\n\tautoDetectRenderer,\n\tApplication as PixiApplication,\n\tContainer as PixiContainer,\n\tutils as PixiUtils,\n} from \"pixi.js-legacy\"\n\nimport Loop from \"./Loop\"\nimport Container from \"./Container\"\n\nimport * as Utils from \"../../utils\"\n\nconst RENDERING_MODE = \"renderer\" // Possibilities; \"app\" | renderer\"\n\nexport default class Renderer {\n\n\t// Used in Player\n\n\tget mainContainer() { return this._contentContainer }\n\n\tget size() {\n\t\tconst { width, height } = this._renderer\n\t\treturn { width: width / this._pixelRatio, height: height / this._pixelRatio }\n\t}\n\n\tconstructor(rootElement, backgroundColor = null, player) {\n\t\tthis._player = player\n\n\t\tthis._pixelRatio = (window.devicePixelRatio || 1)\n\n\t\t// Create the Pixi application with a default background color\n\t\tconst options = {\n\t\t\ttransparent: (backgroundColor === \"transparent\"), // The PixiJS documentation is wrong!\n\t\t\tresolution: this._pixelRatio,\n\t\t\tautoDensity: true,\n\t\t\tantialias: true,\n\t\t}\n\n\t\tif (backgroundColor !== \"transparent\") {\n\t\t\tconst shouldReturnDefaultValue = true\n\t\t\tlet color = Utils.returnValidValue(\"backgroundColor\", backgroundColor,\n\t\t\t\tshouldReturnDefaultValue)\n\t\t\tcolor = Utils.convertColorStringToNumber(color)\n\t\t\toptions.backgroundColor = color\n\t\t}\n\t\tif (RENDERING_MODE === \"app\") {\n\t\t\tthis._app = new PixiApplication(options)\n\t\t\tthis._renderer = this._app.renderer\n\t\t\tthis._stage = this._app.stage\n\t\t} else {\n\t\t\tthis._renderer = autoDetectRenderer(options)\n\n\t\t\tthis._stage = new PixiContainer()\n\t\t\tthis._stage.interactive = false\n\t\t\tthis._stage.interactiveChildren = false\n\n\t\t\t// Create the renderer's loop\n\t\t\tthis._renderFunction = () => {\n\t\t\t\tif (!this._renderer) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis._renderer.render(this._stage)\n\t\t\t}\n\t\t\tthis._loop = new Loop(this._renderFunction)\n\t\t}\n\n\t\t// Add the Pixi app's canvas to the DOM\n\t\trootElement.appendChild(this._renderer.view)\n\n\t\t// Create the root container\n\t\tconst parent = null\n\t\tthis._rootContainer = new Container(\"root\", \"root\", parent, this._stage)\n\n\t\t// Create the container that will hold content (i.e. the current pageNavigator's pages)\n\t\tthis._contentContainer = new Container(\"content\", \"content\", this._rootContainer)\n\n\t\tthis._zoomFactor = 1\n\t\tthis._viewportRect = {}\n\t}\n\n\trefreshOnce() {\n\t\tif (!this._loop) {\n\t\t\treturn\n\t\t}\n\t\tthis._loop.setDirty(true)\n\t}\n\n\t// Used in Player on a resize\n\tsetSize(width, height) {\n\t\tif (width === this.size.width && height === this.size.height) {\n\t\t\treturn\n\t\t}\n\n\t\t// Resize the canvas using Pixi's built-in function\n\t\tthis._renderer.resize(width, height)\n\t\tif (RENDERING_MODE === \"app\") {\n\t\t\tthis._app.render() // To avoid flickering\n\t\t} else {\n\t\t\tthis._renderFunction() // To avoid flickering (better than calling the Loop)\n\t\t}\n\t}\n\n\t// Used in Player as a consequence of a zoomFactor change or on a resize\n\tupdateDisplay(zoomFactor, viewportRect) {\n\t\tthis._zoomFactor = zoomFactor\n\t\tthis._viewportRect = viewportRect\n\n\t\tconst {\n\t\t\tx, y, width, height,\n\t\t} = this._viewportRect\n\n\t\t// Update the pivot used to center containers by default\n\t\tthis._contentContainer.setPivot({\n\t\t\tx: -x - width / 2,\n\t\t\ty: -y - height / 2,\n\t\t})\n\n\t\tconst rendererWidth = this.size.width\n\t\tconst rendererHeight = this.size.height\n\t\tconst actualWidth = Math.min(viewportRect.width * zoomFactor, rendererWidth)\n\t\tconst actualHeight = Math.min(viewportRect.height * zoomFactor, rendererHeight)\n\t\tconst actualX = (rendererWidth - actualWidth) / 2\n\t\tconst actualY = (rendererHeight - actualHeight) / 2\n\t\tthis._maskRect = {\n\t\t\tx: actualX,\n\t\t\ty: actualY,\n\t\t\twidth: actualWidth,\n\t\t\theight: actualHeight,\n\t\t}\n\t\tthis.applyMask()\n\t}\n\n\tapplyMask() {\n\t\tif (this._mask || !this._maskRect) {\n\t\t\treturn\n\t\t}\n\t\tconst {\n\t\t\tx, y, width, height,\n\t\t} = this._maskRect\n\t\tthis._rootContainer.setMaskRect(x, y, width, height)\n\t}\n\n\tapplyViewportConstraints() {\n\t\t// Add a global mask (used to express viewportRatio constraints if specified)\n\t\tthis._rootContainer.addMask()\n\t\t// Apply mask\n\t\tthis.applyMask()\n\t}\n\n\t// Used in Player\n\tdestroy() {\n\t\tif (this._loop) {\n\t\t\tthis._loop.destroy()\n\t\t\tthis._loop = null\n\t\t}\n\n\t\tif (RENDERING_MODE === \"app\") {\n\t\t\tthis._app.view.remove()\n\n\t\t\tconst shouldRemoveView = true\n\t\t\tthis._app.destroy(shouldRemoveView)\n\t\t\tthis._app = null\n\n\t\t} else {\n\t\t\tthis._stage.destroy(true)\n\n\t\t\tconst shouldRemoveView = true\n\t\t\tthis._renderer.destroy(shouldRemoveView)\n\t\t\tthis._renderer = null\n\t\t}\n\n\t\tthis._rootContainer = null\n\t\tthis._contentContainer = null\n\n\t\tPixiUtils.clearTextureCache()\n\t}\n\n}","import { TextStyle as PixiTextStyle, Text as PixiTextContainer } from \"pixi.js-legacy\"\n\nimport Container from \"./Container\"\n\nexport default class TextBlock extends Container {\n\n\tconstructor(name, parent, text, textStyle, rect, lineWidth, boundingRect) {\n\t\tconst finalStyle = new PixiTextStyle(textStyle)\n\t\tconst pixiTextContainer = new PixiTextContainer(\"\", finalStyle)\n\t\tpixiTextContainer.anchor.set(0.5)\n\t\tpixiTextContainer.text = text\n\t\tsuper(\"text\", name, parent, pixiTextContainer)\n\n\t\tthis._rect = rect\n\t\tthis._lineWidth = lineWidth\n\t\tthis._boundingRect = boundingRect\n\n\t\tconst { align } = textStyle\n\t\tthis._hAlign = align\n\t}\n\n\tsetReferencePosition(position) {\n\t\tconst actualPosition = { // \"left\"\n\t\t\tx: position.x - this._boundingRect.width / 2 + this._rect.x + this._rect.width / 2,\n\t\t\ty: position.y - this._boundingRect.height / 2 + this._rect.y + this._rect.height / 2,\n\t\t}\n\n\t\tif (this._hAlign === \"center\" && this._lineWidth < this._boundingRect.width) {\n\t\t\tactualPosition.x += (this._boundingRect.width - this._lineWidth) / 2\n\t\t} else if (this._hAlign === \"right\" && this._lineWidth < this._boundingRect.width) {\n\t\t\tactualPosition.x += this._boundingRect.width - this._lineWidth\n\t\t}\n\n\t\tthis.setPosition(actualPosition)\n\t}\n\n\tdestroy() {\n\t\tthis.pixiContainer.destroy({ children: true, texture: true, baseTexture: true })\n\t\tthis.removeFromParent()\n\t}\n\n}","import { TextStyle as PixiTextStyle, TextMetrics as PixiTextMetrics } from \"pixi.js-legacy\"\n\nimport TextBlock from \"./TextBlock\"\n\nimport * as constants from \"../../constants\"\n\nexport default class TextElement {\n\n\tget boundingRect() { return this._boundingRect }\n\n\tconstructor(name, parent, textOptions = {}) {\n\t\tthis._name = name\n\t\tthis._parent = parent\n\n\t\tconst {\n\t\t\tfillColor,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tlineHeight,\n\t\t\tletterSpacing,\n\t\t\trect,\n\t\t\thAlign,\n\t\t} = textOptions\n\n\t\tconst { unscaledSize = {} } = parent\n\t\tconst textStyle = {\n\t\t\tfill: fillColor,\n\t\t\tfontFamily,\n\t\t\twordWrap: true,\n\t\t\twordWrapWidth: undefined, // undefined is better than 0 (e.g. for TextManager)\n\t\t\talign: hAlign,\n\t\t\tletterSpacing: Math.min(letterSpacing || 0, constants.MAX_LETTER_SPACING),\n\t\t}\n\t\tlet maxWidth = unscaledSize.width\n\t\tif (rect) {\n\t\t\tmaxWidth = (rect.unit === \"%\")\n\t\t\t\t? (rect.w * unscaledSize.width) / 100\n\t\t\t\t: rect.w\n\t\t}\n\t\tif (fontSize) {\n\t\t\tlet actualFontSize = (fontSize.unit === \"%\")\n\t\t\t\t? (fontSize.value * unscaledSize.height) / 100\n\t\t\t\t: fontSize.value\n\t\t\tactualFontSize = Math.min(actualFontSize, constants.MAX_FONT_SIZE)\n\t\t\ttextStyle.fontSize = actualFontSize\n\t\t}\n\t\tif (lineHeight) {\n\t\t\ttextStyle.lineHeight = (lineHeight.unit === \"%\")\n\t\t\t\t? (lineHeight.value * unscaledSize.height) / 100\n\t\t\t\t: lineHeight.value\n\t\t}\n\n\t\tthis._maxWidth = maxWidth\n\t\tthis._textStyle = textStyle\n\t\tthis._boundingRect = { width: 0, height: 0 }\n\n\t\tthis._text = null\n\t\tthis._textBlocksArray = []\n\t}\n\n\tsetText(text) {\n\t\tif (this._text === text) {\n\t\t\treturn\n\t\t}\n\t\tthis.destroy()\n\t\tthis._text = text\n\n\t\t// 1. Split the initial text string in substrings separated by specific lookup strings\n\n\t\t// Items in lookupStringsArray are ordered in a way that favors complex tags/markdown\n\t\tconst lookupStringsArray = [\n\t\t\t\" \",\n\t\t\t\"\\\\*\", \"\\\\_\",\n\t\t\t\"\\n\", \"<br>\", \"<br/>\", \"<br />\",\n\t\t\t\"***\", \"_**\", \"___\", \"**_\",\n\t\t\t\"**\", \"__\", \"<b>\", \"</b>\", \"<strong>\", \"</strong>\",\n\t\t\t\"*\", \"_\", \"<i>\", \"</i>\", \"<em>\", \"</em>\",\n\t\t]\n\t\tconst currentStyles = {}\n\t\tconst resultsArray = TextElement._lookupAndSplit(text, lookupStringsArray, false, currentStyles,\n\t\t\t[])\n\n\t\t// 2. Compute text metrics for each substring (i.e. the dimensions of bounding rectangles)\n\n\t\tconst linesArray = []\n\t\tlet currentLine = []\n\t\tlet currentLineWidth = 0\n\t\tlet nbOfSpaces = 0\n\n\t\tresultsArray.forEach((substring) => {\n\t\t\tconst {\n\t\t\t\tstring, isNewLine, isBold, isItalic,\n\t\t\t} = substring\n\n\t\t\tif (string === \" \" && isNewLine === false) {\n\t\t\t\tnbOfSpaces += 1 // All spaces have the same size, whatever their isBold or isItalic\n\n\t\t\t} else {\n\t\t\t\tlet actualString = \"\"\n\t\t\t\tfor (let i = 0; i < nbOfSpaces; i += 1) {\n\t\t\t\t\tactualString += \" \"\n\t\t\t\t}\n\t\t\t\tactualString += string\n\n\t\t\t\tlet actualTextStyle = { ...this._textStyle }\n\t\t\t\tif (isBold === true) {\n\t\t\t\t\tactualTextStyle.fontWeight = \"bold\"\n\t\t\t\t}\n\t\t\t\tif (isItalic === true) {\n\t\t\t\t\tactualTextStyle.fontStyle = \"italic\"\n\t\t\t\t}\n\t\t\t\tactualTextStyle = new PixiTextStyle(actualTextStyle)\n\n\t\t\t\t// IMPORTANT NOTE: PixiJS does not measure spaces at the end of a string,\n\t\t\t\t// but does include the measure of those at the start!\n\t\t\t\tlet textMetrics = PixiTextMetrics.measureText(actualString, actualTextStyle)\n\n\t\t\t\tif (isNewLine === true\n\t\t\t\t\t|| (this._maxWidth && currentLineWidth + textMetrics.width > this._maxWidth)) {\n\t\t\t\t\tcurrentLine.width = currentLineWidth\n\t\t\t\t\tlinesArray.push(currentLine)\n\t\t\t\t\tcurrentLine = []\n\t\t\t\t\tcurrentLineWidth = 0\n\n\t\t\t\t\t// Get rid of spaces\n\t\t\t\t\tactualString = string\n\t\t\t\t\ttextMetrics = PixiTextMetrics.measureText(string, actualTextStyle)\n\t\t\t\t}\n\n\t\t\t\tsubstring.string = actualString\n\t\t\t\tsubstring.textMetrics = textMetrics\n\t\t\t\tcurrentLine.push(substring)\n\t\t\t\tcurrentLineWidth += textMetrics.width\n\n\t\t\t\tnbOfSpaces = 0\n\t\t\t}\n\t\t})\n\n\t\t// Last line\n\t\tif (currentLine.length > 0) {\n\t\t\tcurrentLine.width = currentLineWidth\n\t\t\tlinesArray.push(currentLine)\n\t\t}\n\n\t\t// 3. Merge substrings by style within a line\n\n\t\tconst styledLines = []\n\t\tlet styledLine = []\n\t\tlet styledText = \"\"\n\t\tlet left = 0\n\t\tlet blockWidth = 0\n\t\tlet currentStyle = null\n\t\tlet lineHeight = 0\n\t\tlet maxLineWidth = 0\n\n\t\tlinesArray.forEach((line) => {\n\t\t\tstyledLine = []\n\t\t\tstyledText = \"\"\n\t\t\tleft = 0\n\t\t\tblockWidth = 0\n\t\t\tline.forEach(({\n\t\t\t\tstring, isBold, isItalic, textMetrics,\n\t\t\t}) => {\n\t\t\t\tif (!lineHeight) {\n\t\t\t\t\tlineHeight = Math.max(textMetrics.height, textMetrics.lineHeight)\n\t\t\t\t}\n\t\t\t\tif (!currentStyle) {\n\t\t\t\t\tcurrentStyle = { isBold, isItalic }\n\n\t\t\t\t// If the style changes, store merged substrings\n\t\t\t\t} else if (currentStyle.isBold !== isBold || currentStyle.isItalic !== isItalic) {\n\n\t\t\t\t\tif (styledText.length > 0) {\n\n\t\t\t\t\t\t// Apply style\n\t\t\t\t\t\tconst finalStyle = { ...this._textStyle }\n\t\t\t\t\t\tif (currentStyle.isBold === true) {\n\t\t\t\t\t\t\tfinalStyle.fontWeight = \"bold\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (currentStyle.isItalic === true) {\n\t\t\t\t\t\t\tfinalStyle.fontStyle = \"italic\"\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Store text (blocks)\n\t\t\t\t\t\tlet actualBlockWidth = blockWidth\n\t\t\t\t\t\tif (string.charAt(0) === \" \") {\n\t\t\t\t\t\t\tactualBlockWidth += this._textStyle.letterSpacing\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyledLine.push({\n\t\t\t\t\t\t\ttext: styledText, style: finalStyle, left, width: actualBlockWidth,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tleft += actualBlockWidth\n\t\t\t\t\t}\n\t\t\t\t\tstyledText = \"\"\n\t\t\t\t\tcurrentStyle = { isBold, isItalic }\n\t\t\t\t\tblockWidth = 0\n\t\t\t\t}\n\n\t\t\t\tstyledText += string\n\t\t\t\tblockWidth += textMetrics.width + this._textStyle.letterSpacing\n\t\t\t})\n\t\t\t// Last block\n\t\t\tif (styledText.length > 0) {\n\t\t\t\tconst finalStyle = { ...this._textStyle }\n\t\t\t\tif (currentStyle.isBold === true) {\n\t\t\t\t\tfinalStyle.fontWeight = \"bold\"\n\t\t\t\t}\n\t\t\t\tif (currentStyle.isItalic === true) {\n\t\t\t\t\tfinalStyle.fontStyle = \"italic\"\n\t\t\t\t}\n\t\t\t\tstyledLine.push({\n\t\t\t\t\ttext: styledText, style: finalStyle, left, width: blockWidth,\n\t\t\t\t})\n\t\t\t}\n\t\t\tstyledLine.width = left + blockWidth\n\t\t\tif (!maxLineWidth || maxLineWidth < styledLine.width) {\n\t\t\t\tmaxLineWidth = styledLine.width\n\t\t\t}\n\t\t\tstyledLines.push(styledLine)\n\t\t})\n\n\t\tthis._boundingRect = { width: maxLineWidth, height: lineHeight * styledLines.length }\n\n\t\t// 4. Create all text blocks\n\n\t\tstyledLines.forEach((line, i) => {\n\t\t\tline.forEach((lineItem) => {\n\t\t\t\tconst rect = { // Relative inside boundingRect? Depends on align!\n\t\t\t\t\tx: lineItem.left, y: i * lineHeight, width: lineItem.width, height: lineHeight,\n\t\t\t\t}\n\t\t\t\tconst textBlock = new TextBlock(this._name, this._parent, lineItem.text, lineItem.style,\n\t\t\t\t\trect, line.width, this._boundingRect)\n\t\t\t\tthis._textBlocksArray.push(textBlock)\n\t\t\t})\n\t\t})\n\t}\n\n\tstatic _lookupAndSplit(string, lookupStringsArray, isNewLine, currentStyles, resultsArray) {\n\t\tlet newResultsArray = [...resultsArray]\n\t\tlet firstIndex = null\n\t\tlet firstLookupString = null\n\n\t\t// Look up for specific characters/strings respecting priorities\n\t\tlookupStringsArray.forEach((lookupString) => {\n\t\t\tconst index = string.indexOf(lookupString)\n\t\t\tif (index !== -1 && (firstIndex === null || index < firstIndex)) {\n\t\t\t\tfirstIndex = index\n\t\t\t\tfirstLookupString = lookupString\n\t\t\t}\n\t\t})\n\n\t\tif (firstIndex !== null) {\n\t\t\tlet substring = string.substring(0, firstIndex)\n\t\t\tif (firstLookupString === \"\\\\*\") {\n\t\t\t\tsubstring += \"*\"\n\t\t\t} else if (firstLookupString === \"\\\\_\") {\n\t\t\t\tsubstring += \"_\"\n\t\t\t}\n\t\t\tnewResultsArray = TextElement._addSubstring(substring, isNewLine, currentStyles,\n\t\t\t\tnewResultsArray)\n\t\t\tisNewLine = false\n\n\t\t\tif (firstLookupString === \" \") {\n\t\t\t\tnewResultsArray = TextElement._addSubstring(\" \", isNewLine, currentStyles, newResultsArray)\n\t\t\t}\n\n\t\t\tswitch (firstLookupString) {\n\t\t\tcase \"\\n\":\n\t\t\tcase \"<br>\":\n\t\t\tcase \"<br/>\":\n\t\t\tcase \"<br />\":\n\t\t\t\tisNewLine = true\n\t\t\t\tbreak\n\t\t\tcase \"***\":\n\t\t\t\tcurrentStyles.tripleStar = !currentStyles.tripleStar\n\t\t\t\tbreak\n\t\t\tcase \"___\":\n\t\t\t\tcurrentStyles.tripleUnderscore = !currentStyles.tripleUnderscore\n\t\t\t\tbreak\n\t\t\tcase \"_**\":\n\t\t\t\tcurrentStyles.tripleCompound = true\n\t\t\t\tbreak\n\t\t\tcase \"**_\":\n\t\t\t\tcurrentStyles.tripleCompound = false\n\t\t\t\tbreak\n\t\t\tcase \"**\":\n\t\t\t\tcurrentStyles.doubleStar = !currentStyles.doubleStar\n\t\t\t\tbreak\n\t\t\tcase \"__\":\n\t\t\t\tcurrentStyles.doubleUnderscore = !currentStyles.doubleUnderscore\n\t\t\t\tbreak\n\t\t\tcase \"*\":\n\t\t\t\tcurrentStyles.singleStar = !currentStyles.singleStar\n\t\t\t\tbreak\n\t\t\tcase \"_\":\n\t\t\t\tcurrentStyles.singleUnderscore = !currentStyles.singleUnderscore\n\t\t\t\tbreak\n\t\t\tcase \"<b>\":\n\t\t\t\tcurrentStyles.b = true\n\t\t\t\tbreak\n\t\t\tcase \"</b>\":\n\t\t\t\tcurrentStyles.b = false\n\t\t\t\tbreak\n\t\t\tcase \"<strong>\":\n\t\t\t\tcurrentStyles.strong = true\n\t\t\t\tbreak\n\t\t\tcase \"</strong>\":\n\t\t\t\tcurrentStyles.strong = false\n\t\t\t\tbreak\n\t\t\tcase \"<i>\":\n\t\t\t\tcurrentStyles.i = true\n\t\t\t\tbreak\n\t\t\tcase \"</i>\":\n\t\t\t\tcurrentStyles.i = false\n\t\t\t\tbreak\n\t\t\tcase \"<em>\":\n\t\t\t\tcurrentStyles.em = true\n\t\t\t\tbreak\n\t\t\tcase \"</em>\":\n\t\t\t\tcurrentStyles.em = false\n\t\t\t\tbreak\n\t\t\tdefault: // Including \"\\\\*\" and \"\\\\_\"\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst nextString = string.substring(firstIndex + firstLookupString.length)\n\t\t\tnewResultsArray = TextElement._lookupAndSplit(nextString, lookupStringsArray,\n\t\t\t\tisNewLine, currentStyles, newResultsArray)\n\t\t\treturn newResultsArray\n\t\t}\n\n\t\tnewResultsArray = TextElement._addSubstring(string, isNewLine, currentStyles, newResultsArray)\n\t\treturn newResultsArray\n\t}\n\n\tstatic _addSubstring(string, isNewLine, currentStyles, resultsArray) {\n\t\tif (string.length === 0 && isNewLine === false) { // i.e. if a space (not a line break)\n\t\t\treturn resultsArray\n\t\t}\n\t\tlet isBold = false\n\t\tlet isItalic = false\n\t\tObject.entries(currentStyles).forEach(([style, value]) => {\n\t\t\tif (value === true) {\n\t\t\t\tif (style === \"tripleStar\" || style === \"tripleUnderscore\" || style === \"tripleCompound\"\n\t\t\t\t\t|| style === \"doubleStar\" || style === \"doubleUnderscore\"\n\t\t\t\t\t|| style === \"b\" || style === \"strong\") {\n\t\t\t\t\tisBold = true\n\t\t\t\t}\n\t\t\t\tif (style === \"tripleStar\" || style === \"tripleUnderscore\" || style === \"tripleCompound\"\n\t\t\t\t\t|| style === \"singleStar\" || style === \"singleUnderscore\"\n\t\t\t\t\t|| style === \"i\" || style === \"em\") {\n\t\t\t\t\tisItalic = true\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tconst newSubstring = {\n\t\t\tstring, isNewLine, isBold, isItalic,\n\t\t}\n\t\tconst newResultsArray = [...resultsArray, newSubstring]\n\t\treturn newResultsArray\n\t}\n\n\tsetPosition(position) {\n\t\tthis._textBlocksArray.forEach((textBlock) => {\n\t\t\ttextBlock.setReferencePosition(position)\n\t\t})\n\t}\n\n\tdestroy() {\n\t\tthis._textBlocksArray.forEach((textBlock) => {\n\t\t\ttextBlock.destroy()\n\t\t})\n\t\tthis._textBlocksArray = []\n\t}\n\n}","import {\n\tGraphics as PixiGraphics,\n\tTexture as PixiTexture,\n\tTicker as PixiTicker,\n} from \"pixi.js-legacy\"\n\nimport * as constants from \"../../constants\"\n\n// Used in TextureElement\n\nexport default class LoadingAnimation {\n\n\tconstructor(textureElement, parentContainerScale = 1, player) {\n\t\tthis._textureElement = textureElement\n\t\tthis._parentContainerScale = parentContainerScale\n\t\tthis._player = player\n\n\t\tconst { name, pixiContainer } = textureElement\n\t\tthis._name = name\n\t\tthis._parentContainer = pixiContainer\n\n\t\tthis._ticker = new PixiTicker()\n\t\tthis._ticker.stop()\n\t\tthis._isPlaying = false\n\t\tthis._rotation = 0\n\t\tthis._tickerFunction = () => {\n\t\t\tif (!this._loadingAnimationGraphics || this._isPlaying === false) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis._loadingAnimationGraphics.rotation += constants.ROTATION_BY_TICK\n\n\t\t\tconst { isInViewport } = this._textureElement\n\t\t\tif (isInViewport === true) {\n\t\t\t\tplayer.refreshOnce()\n\t\t\t}\n\t\t}\n\t\tthis._ticker.add(this._tickerFunction)\n\t}\n\n\t_updateGraphics() {\n\t\tif (this._loadingAnimationGraphics) {\n\t\t\tthis._parentContainer.removeChild(this._loadingAnimationGraphics)\n\t\t}\n\n\t\tconst { LINE_WIDTH, SIZE_COEFFICIENT } = constants\n\n\t\tthis._loadingAnimationGraphics = new PixiGraphics()\n\t\tthis._loadingAnimationGraphics.name = `${this._name}LoadingAnimation`\n\t\tthis._parentContainer.addChild(this._loadingAnimationGraphics)\n\t\tconst lineTextureStyle = { width: LINE_WIDTH, texture: PixiTexture.WHITE }\n\t\tthis._loadingAnimationGraphics.lineTextureStyle(lineTextureStyle)\n\n\t\tconst { viewportRect } = this._player\n\t\tconst { width, height } = viewportRect\n\t\tconst radius = Math.min(width, height) * SIZE_COEFFICIENT\n\t\tconst endAngle = -Math.PI / 3\n\t\tthis._loadingAnimationGraphics.arc(0, 0, radius, 0, endAngle)\n\n\t\tthis._loadingAnimationGraphics.scale.set(1 / this._parentContainerScale)\n\t}\n\n\taddAndStart() {\n\t\tthis._ticker.start()\n\t\tthis._isPlaying = true\n\t\tthis._updateGraphics()\n\t}\n\n\tresize(parentContainerScale) {\n\t\tif (this._parentContainerScale === parentContainerScale) {\n\t\t\treturn\n\t\t}\n\t\tthis._parentContainerScale = parentContainerScale\n\t\tif (this._isPlaying === true) {\n\t\t\tthis._updateGraphics()\n\t\t}\n\t}\n\n\tstopAndRemove() {\n\t\tthis._isPlaying = false\n\t\tthis._ticker.stop()\n\t\tif (this._loadingAnimationGraphics) {\n\t\t\tthis._parentContainer.removeChild(this._loadingAnimationGraphics)\n\t\t\tthis._loadingAnimationGraphics = null\n\t\t}\n\t}\n\n}","import {\n\tSprite as PixiSprite,\n\tAnimatedSprite as PixiAnimatedSprite,\n\tTexture as PixiTexture,\n} from \"pixi.js-legacy\"\n\nimport Container from \"./Container\"\nimport LoadingAnimation from \"./LoadingAnimation\"\n\nimport * as Utils from \"../../utils\"\nimport * as constants from \"../../constants\"\n\nexport default class TextureElement extends Container {\n\n\t// Used in LayerPile\n\n\tget scale() { return this._scale } // For a parent slice (i.e. when role is \"layersParent\")\n\n\tget size() {\n\t\t// If the resource is (possibly) clipped, return the (possibly) clipped size\n\t\tif (this._clipped === true) {\n\t\t\tconst { viewportRect } = this._player\n\t\t\treturn {\n\t\t\t\twidth: Math.min(this._width * this._scale, viewportRect.width),\n\t\t\t\theight: Math.min(this._height * this._scale, viewportRect.height),\n\t\t\t}\n\t\t}\n\t\treturn this.unclippedSize\n\t}\n\n\t// Used below\n\tget unclippedSize() {\n\t\t// In double reading mode, empty slices should be considered to have their neighbor's size\n\t\tif (this._role === \"empty\" && this._neighbor) {\n\t\t\treturn this._neighbor.size\n\t\t}\n\t\t// Otherwise just return the actual size of the sprite in the viewport\n\t\treturn {\n\t\t\twidth: this._width * this._scale,\n\t\t\theight: this._height * this._scale,\n\t\t}\n\t}\n\n\t// Used in TextSlice and TextElement\n\tget unscaledSize() { return { width: this._width, height: this._height } }\n\n\t// Used in Slice and LoadingAnimation\n\tget isInViewport() { return this._isInViewport }\n\n\t// Used in Slice and SequenceSlice\n\tget player() { return this._player }\n\n\t// Used in Slice and TextSlice\n\n\tget role() { return this._role }\n\n\tget parentInfo() { return this._parentInfo }\n\n\tconstructor(role, player, parentInfo = null) {\n\t\tsuper()\n\n\t\tthis._role = role\n\t\tthis._player = player\n\t\tthis._parentInfo = parentInfo\n\n\t\tthis._texture = null\n\n\t\tthis._sprite = new PixiSprite()\n\t\tthis._sprite.anchor.set(0.5)\n\t\tthis._pixiContainer.addChild(this._sprite)\n\n\t\tthis._isInViewport = false\n\t\tthis._sprite.visible = false\n\n\t\tthis._playableSprite = null\n\t\tthis._namePrefix = null\n\n\t\tthis._width = 1\n\t\tthis._height = 1\n\t\tthis._scale = 1\n\n\t\tthis._fit = null\n\t\tthis._clipped = false\n\n\t\tthis._neighbor = null\n\n\t\tthis._duration = 0\n\n\t\tthis._loadingAnimation = null\n\n\t\tif (this._role === \"layersParent\") {\n\t\t\tthis._sprite.visible = false\n\t\t}\n\t}\n\n\t// Used in StoryBuilder\n\tsetNeighbor(neighborSlice) {\n\t\tthis._neighbor = neighborSlice\n\t}\n\n\taddAndStartLoadingAnimation() {\n\t\tif (this._loadingAnimation) {\n\t\t\treturn\n\t\t}\n\t\tthis._loadingAnimation = new LoadingAnimation(this, this._scale, this._player)\n\t\tthis._loadingAnimation.addAndStart()\n\t}\n\n\tstopAndRemoveLoadingAnimation() {\n\t\tif (!this._loadingAnimation) {\n\t\t\treturn\n\t\t}\n\t\tthis._loadingAnimation.stopAndRemove()\n\t}\n\n\tsetSize(size) {\n\t\tconst { width, height } = size\n\n\t\t// Canvases cannot draw content less than 1 pixel wide and high\n\t\tthis._width = Math.max(width, 1)\n\t\tthis._height = Math.max(height, 1)\n\n\t\tthis._sprite.width = this._width\n\t\tthis._sprite.height = this._height\n\n\t\tif (this._playableSprite) {\n\t\t\tthis._playableSprite.width = this._width\n\t\t\tthis._playableSprite.height = this._height\n\t\t}\n\t}\n\n\tassignDummyTexture() {\n\t\tthis.setTexture(null)\n\t}\n\n\tsetTexture(texture) {\n\t\t// No need to add a texture to a parent slice\n\t\tif (this._role === \"layersParent\") {\n\t\t\treturn\n\t\t}\n\t\tthis._texture = texture\n\t\tif (!texture) {\n\t\t\tthis.setBackgroundColor(constants.DEFAULT_DUMMY_COLOR)\n\t\t} else {\n\t\t\tthis._sprite.texture = texture.pixiTexture\n\t\t\tthis._setTint(0xFFFFFF)\n\t\t}\n\t}\n\n\tsetBackgroundColor(color) {\n\t\tthis._sprite.texture = PixiTexture.WHITE\n\t\tconst tint = Utils.convertColorStringToNumber(color)\n\t\tthis._setTint(tint)\n\t}\n\n\t_setTint(tint) {\n\t\tthis._sprite.tint = tint\n\t}\n\n\t// Used in Slice\n\tsetVideoTexture(videoTexture) {\n\t\tthis._sprite.texture = null\n\n\t\tif (this._playableSprite) {\n\t\t\tthis.pixiContainer.removeChild(this._playableSprite)\n\t\t}\n\t\tthis._playableSprite = PixiSprite.from(videoTexture.pixiTexture)\n\t\tthis._addPlayableSprite()\n\n\t\tthis._playableSprite.visible = this._isInViewport\n\n\t\tthis._playableSprite.position = this._sprite.position\n\t}\n\n\t_addPlayableSprite() {\n\t\tif (!this._playableSprite) {\n\t\t\treturn\n\t\t}\n\n\t\tthis._playableSprite.anchor.set(0.5)\n\n\t\t// Since a playableSprite for a SequenceSlice has a different way of computing size,\n\t\t// the dimensions are applied for a video playableSprite only via setVideoTexture\n\n\t\tconst spriteName = `${this.name}PlayableSprite`\n\t\tthis._playableSprite.name = spriteName\n\n\t\tthis.pixiContainer.addChild(this._playableSprite)\n\n\t\tif (this.maskingPixiContainer) {\n\t\t\tthis.pixiContainer.addChild(this._maskingPixiContainer)\n\t\t}\n\t}\n\n\t// Used in SequenceSlice (since clipped forced to true, a mask will necessarily be created)\n\tsetTexturesArray(texturesArray) {\n\t\tthis._sprite.texture = null\n\n\t\t// PixiJS does not allow for a direct assignement (playableSprite.textures = texturesArray),\n\t\t// so remove the sequence sprite before recreating it\n\t\tif (this._playableSprite) {\n\t\t\tthis.pixiContainer.removeChild(this._playableSprite)\n\t\t}\n\t\tif (!texturesArray || texturesArray.length === 0) {\n\t\t\treturn\n\t\t}\n\t\tconst pixiTexturesArray = texturesArray.map(({ texture, time }) => (\n\t\t\t{ texture: texture.pixiTexture, time }\n\t\t))\n\t\tthis._playableSprite = new PixiAnimatedSprite(pixiTexturesArray)\n\t\tthis._addPlayableSprite()\n\t}\n\n\tunsetVideoTexture() {\n\t\tif (!this._playableSprite) {\n\t\t\treturn\n\t\t}\n\t\tthis.pixiContainer.removeChild(this._playableSprite)\n\t\tthis._playableSprite.texture = null\n\t}\n\n\t// Used in Container (called with parent = null) and LayerPile (via Slice)\n\t// Bear in mind that the parent of a layersChild slice is a segment (not the parentSlice!)\n\tsetParent(parent = null) {\n\t\tsuper.setParent(parent)\n\n\t\t// Keep the existing name for a transition slice\n\t\tif (!parent || (this.name && this._role === \"transition\")) {\n\t\t\treturn\n\t\t}\n\n\t\tlet { name } = parent\n\t\tif (this._parentInfo) {\n\t\t\tname += `Layer${this._parentInfo.layerIndex}`\n\t\t}\n\t\tif (this._role === \"transition\") {\n\t\t\tname += \"Transition\"\n\t\t}\n\t\tthis._sprite.name = `${name}Sprite`\n\t\tconst suffix = \"Slice\"\n\t\tthis.setName(name, suffix)\n\t}\n\n\tresize(fit, clipped) {\n\t\tthis._fit = fit\n\t\tthis._clipped = clipped\n\n\t\tthis._applyFit(fit)\n\t\tif (clipped === true) {\n\t\t\tthis._applyClip()\n\t\t}\n\n\t\t// If the slice has a parent slice, position it respective to that parent slice\n\t\tif (this._role === \"layersChild\" && this._parentInfo) {\n\t\t\t// Used unclippedSize since to ensure that the position is based\n\t\t\t// on the top left point of the parent slice (instead of the effective viewport)\n\t\t\tconst { unclippedSize } = this._parentInfo.slice\n\t\t\tthis._sprite.position = {\n\t\t\t\tx: (this.size.width - unclippedSize.width / this._scaleFactor) / (2 * this._scale),\n\t\t\t\ty: (this.size.height - unclippedSize.height / this._scaleFactor) / (2 * this._scale),\n\t\t\t}\n\t\t\tif (this._playableSprite) {\n\t\t\t\tthis._playableSprite.position = this._sprite.position\n\t\t\t}\n\t\t\tif (this.maskingPixiContainer) {\n\t\t\t\tthis.maskingPixiContainer.position = this._sprite.position\n\t\t\t}\n\t\t}\n\n\t\tif (this._loadingAnimation) {\n\t\t\tthis._loadingAnimation.resize(this._scale)\n\t\t}\n\t}\n\n\t_applyFit(fit) {\n\t\tif (!this._width || !this._height\n\t\t\t|| this._role === \"layersChild\") { // Scale will remain at 1 for a child\n\t\t\treturn\n\t\t}\n\n\t\tconst ratio = this._width / this._height\n\t\tconst { viewportRect } = this._player\n\t\tconst { height } = viewportRect\n\t\tlet { width } = viewportRect\n\n\t\t// In double reading mode, fit the resource inside a rectangle half the viewport width (maximum)\n\t\tif (this._player.readingMode === \"double\") {\n\t\t\twidth = this._getWidthForHalfSegmentSlice(width)\n\t\t}\n\n\t\t// Compute the scale to be applied to the container based on fit\n\t\tconst viewportRatio = width / height\n\t\tlet scale = 1\n\t\tswitch (fit) {\n\t\tcase \"height\":\n\t\t\tscale = this._getScaleWhenForcingHeight(height)\n\t\t\tbreak\n\t\tcase \"width\":\n\t\t\tscale = this._getScaleWhenForcingWidth(width)\n\t\t\tbreak\n\t\tcase \"contain\":\n\t\t\tif (ratio >= viewportRatio) {\n\t\t\t\tscale = this._getScaleWhenForcingWidth(width)\n\t\t\t} else {\n\t\t\t\tscale = this._getScaleWhenForcingHeight(height)\n\t\t\t}\n\t\t\tbreak\n\t\tcase \"cover\":\n\t\t\tif (ratio >= viewportRatio) {\n\t\t\t\tscale = this._getScaleWhenForcingHeight(height)\n\t\t\t} else {\n\t\t\t\tscale = this._getScaleWhenForcingWidth(width)\n\t\t\t}\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\n\t\t// Now apply the scale to the container\n\t\tif (this._role === \"layersParent\") {\n\t\t\tif (this._scale !== scale) { // So as not to trigger an infinite loop\n\t\t\t\tthis.setScale(scale)\n\t\t\t\tif (this.parent) {\n\t\t\t\t\tthis.parent.resizePage()\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setScale(scale)\n\t\t}\n\t}\n\n\t_getWidthForHalfSegmentSlice(width) {\n\t\tlet actualWidth = width\n\t\tif (this._role === \"empty\" && this._neighbor) {\n\t\t\tconst { size } = this._neighbor\n\t\t\tactualWidth = Math.min(width / 2, size.width)\n\t\t} else {\n\t\t\tactualWidth /= 2\n\t\t}\n\t\treturn actualWidth\n\t}\n\n\t_getScaleWhenForcingHeight(viewportHeight) {\n\t\tconst scale = viewportHeight / this._height\n\t\treturn scale\n\t}\n\n\t_getScaleWhenForcingWidth(viewportWidth) {\n\t\tconst scale = viewportWidth / this._width\n\t\treturn scale\n\t}\n\n\t// Size the clipping mask based on viewport size if the resource needs to be clipped\n\t_applyClip() {\n\t\tconst { viewportRect } = this._player\n\t\tconst { width, height } = viewportRect\n\t\t// Only add a mask if it's absolutely necessary (since masks do have a cost in performance)\n\t\tif (this._fit === \"contain\"\n\t\t\t|| (this._width / this._height) <= ((width + constants.POSSIBLE_PIXEL_ERROR) / height)) {\n\t\t\treturn\n\t\t}\n\t\tif (!this.maskingPixiContainer) {\n\t\t\tthis.addMask()\n\t\t}\n\n\t\tthis.setMaskRect((-width / this._scale) / 2, (-height / this._scale) / 2,\n\t\t\twidth / this._scale, height / this._scale)\n\t}\n\n\t// Used in TextSlice\n\tapplySizeClip() {\n\t\tif (!this.maskingPixiContainer) {\n\t\t\tthis.addMask()\n\t\t}\n\t\tthis.setMaskRect(-this._width / 2, -this._height / 2, this._width, this._height)\n\t}\n\n\t// Used in Layer\n\tsetIsInViewport(isInViewport) {\n\t\tif (isInViewport !== this._isInViewport) {\n\t\t\tthis._sprite.visible = isInViewport\n\t\t\tif (this._playableSprite) {\n\t\t\t\tthis._playableSprite.visible = isInViewport\n\t\t\t}\n\t\t}\n\t\tthis._isInViewport = isInViewport\n\t}\n\n\t// Used in SequenceSlice\n\n\tgoToFrameAndPlay(frameIndex) {\n\t\tif (!this._playableSprite) {\n\t\t\treturn\n\t\t}\n\t\tthis._playableSprite.gotoAndPlay(frameIndex)\n\t}\n\n\tgoToFrameAndStop(frameIndex) {\n\t\tif (!this._playableSprite) {\n\t\t\treturn\n\t\t}\n\t\tthis._playableSprite.gotoAndStop(frameIndex)\n\t}\n\n\t// Used in Slice on final destroy\n\tdestroy() {\n\t\tthis._sprite.texture = null\n\t\tif (this._playableSprite) {\n\t\t\tthis._playableSprite.texture = null\n\t\t}\n\t}\n\n}","export default class BaseTexture {\n\n\t// Used in Loader\n\tget pixiBaseTexture() { return this._pixiBaseTexture }\n\n\tconstructor(pixiBaseTexture) {\n\t\tthis._pixiBaseTexture = pixiBaseTexture\n\t}\n\n\tdestroy() {\n\t\tif (!this._pixiBaseTexture) {\n\t\t\treturn\n\t\t}\n\t\tthis._pixiBaseTexture.destroy()\n\t}\n\n}","import { Texture as PixiTexture, Rectangle as PixiRectangle } from \"pixi.js-legacy\"\n\nimport BaseTexture from \"./BaseTexture\"\n\nimport * as Utils from \"../../utils\"\n\nexport default class Texture {\n\n\t// Used in Loader\n\tget pixiTexture() { return this._pixiTexture }\n\n\t// Used in Slice\n\n\tget video() { return this._video }\n\n\tget size() {\n\t\tif (this._video) {\n\t\t\treturn { width: this._video.videoWidth, height: this._video.videoHeight }\n\t\t}\n\t\treturn (this._pixiTexture) ? this._pixiTexture.frame : { width: 0, height: 0 }\n\t}\n\n\tconstructor(pixiTexture, video = null) {\n\t\tthis._pixiTexture = pixiTexture\n\t\tif (video) {\n\t\t\tthis._video = video\n\t\t}\n\t}\n\n\t// Used in TextureResource\n\tstatic createVideoTexture(videoPath) {\n\t\tconst pixiTexture = PixiTexture.from(videoPath)\n\n\t\t// Prevent autoplay at start\n\t\tpixiTexture.baseTexture.resource.autoPlay = false\n\n\t\tconst baseTexture = new BaseTexture(pixiTexture.baseTexture)\n\n\t\tconst video = pixiTexture.baseTexture.resource.source\n\t\tconst texture = new Texture(pixiTexture, video)\n\n\t\treturn { baseTexture, texture }\n\t}\n\n\t// Used in TextureResource\n\tstatic cropToFragment(uncroppedTexture, mediaFragment) {\n\t\tconst { pixiTexture, video } = uncroppedTexture\n\t\tconst croppedPixiTexture = pixiTexture.clone()\n\n\t\tconst rect = Utils.getRectForMediaFragmentAndSize(mediaFragment, croppedPixiTexture)\n\t\tif (rect) {\n\t\t\tconst {\n\t\t\t\tx, y, width, height,\n\t\t\t} = rect\n\t\t\tconst frame = new PixiRectangle(x, y, width, height)\n\t\t\tcroppedPixiTexture.frame = frame\n\t\t\tcroppedPixiTexture.updateUvs()\n\t\t}\n\n\t\tconst texture = (video)\n\t\t\t? new Texture(croppedPixiTexture, video)\n\t\t\t: new Texture(croppedPixiTexture)\n\n\t\treturn texture\n\t}\n\n\tdestroy() {\n\t\tif (this._pixiTexture) {\n\t\t\tthis._pixiTexture.destroy()\n\t\t}\n\t\tif (this._video) {\n\t\t\tthis._video = null\n\t\t}\n\t}\n\n}","import {\n\tLoader as PixiLoader,\n\tLoaderResource as PixiLoaderResource,\n\tTexture as PixiTexture,\n\tBaseTexture as PixiBaseTexture,\n} from \"pixi.js-legacy\"\n\nimport BaseTexture from \"./BaseTexture\"\nimport Texture from \"./Texture\"\n\nexport default class Loader {\n\n\tget hasTasks() { return (Object.values(this._resourceIdsToLoad).length > 0) }\n\n\tconstructor() {\n\t\tthis._loader = new PixiLoader()\n\t\tthis._loader.onError.add((error, loader, resource) => {\n\t\t\tconst { name } = resource\n\t\t\tconst resourceId = Number(name)\n\t\t\tthis._resourceIdsToLoad[resourceId] = false\n\t\t})\n\t\tthis.reset()\n\t}\n\n\t// Kill the ongoing loading operation (if there is one)\n\treset() {\n\t\tthis._resourceIdsToLoad = {}\n\t\tthis._loader.reset()\n\t}\n\n\t// Add a sourcePath to the list of source paths to load\n\tadd(resourceId, sourcePath) {\n\t\tthis._resourceIdsToLoad[resourceId] = true\n\t\t// Note that loadType is forced to image!\n\t\tconst name = String(resourceId)\n\t\tthis._loader.add(name, sourcePath, {\n\t\t\tcrossOrigin: \"anonymous\", loadType: PixiLoaderResource.LOAD_TYPE.IMAGE,\n\t\t})\n\t}\n\n\t// For each array of resources (source paths) that have been correctly loaded...\n\tonComplete(doWithTextureDataArray) {\n\t\tif (!doWithTextureDataArray) {\n\t\t\treturn\n\t\t}\n\t\t// Even if the loader has failed to load the resource, the function below will be executed\n\t\t// (after that in this._loader.onError, hence the check of this._resourceIdsToLoad[resourceId])\n\t\tthis._loader.onComplete.add((_, resources) => {\n\t\t\tconst textureDataArray = []\n\t\t\tObject.values(resources).forEach((resource) => {\n\t\t\t\tconst { name, texture } = resource // The texture here is a PixiJS texture\n\t\t\t\tconst resourceId = Number(name)\n\t\t\t\tif (this._resourceIdsToLoad[resourceId] === true && texture && texture.baseTexture) {\n\t\t\t\t\tconst { baseTexture } = texture\n\t\t\t\t\tconst textureData = {\n\t\t\t\t\t\tresourceId,\n\t\t\t\t\t\ttexture: {\n\t\t\t\t\t\t\tbase: new BaseTexture(baseTexture),\n\t\t\t\t\t\t\tfull: new Texture(texture),\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\ttextureDataArray.push(textureData)\n\t\t\t\t\tPixiTexture.removeFromCache(texture.pixiTexture)\n\t\t\t\t\tPixiBaseTexture.removeFromCache(baseTexture.pixiBaseTexture)\n\t\t\t\t}\n\t\t\t})\n\t\t\tdoWithTextureDataArray(textureDataArray)\n\t\t})\n\t}\n\n\t// Load stored source paths\n\tload() {\n\t\tthis._loader.load()\n\t}\n\n}","import * as PixiRenderer from \"./PixiRenderer\"\n\nconst chosenRenderer = PixiRenderer\n\nconst {\n\tRenderer,\n\tLoop,\n\tContainer,\n\tTextBlock,\n\tTextElement,\n\tTextureElement,\n\tLoader,\n\tTexture,\n} = chosenRenderer\n\nexport {\n\tRenderer,\n\tLoop,\n\tContainer,\n\tTextBlock,\n\tTextElement,\n\tTextureElement,\n\tLoader,\n\tTexture,\n}","import { TextElement, Container } from \"../Renderer\"\n\nimport * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nconst {\n\tLOADING_FILL_COLOR,\n\tLOADING_FONT_FAMILY,\n\tLOADING_FONT_SIZE,\n} = constants\n\nexport default class TextManager extends Container {\n\n\tconstructor(mainContainer, player) {\n\t\tsuper(\"textManager\", \"textManager\", mainContainer)\n\n\t\tthis._player = player\n\n\t\tconst textOptions = {\n\t\t\tfillColor: LOADING_FILL_COLOR,\n\t\t\tfontFamily: LOADING_FONT_FAMILY,\n\t\t\tfontSize: LOADING_FONT_SIZE,\n\t\t\thAlign: \"center\",\n\t\t}\n\t\tthis._textElement = new TextElement(\"loadingText\", this, textOptions)\n\t}\n\n\tshowMessage(message) { // Where message should be = { type, data }\n\t\t// Beware: we can have message.text = 0 (when a Divina starts loading)\n\t\tif (!message || !message.type || message.data === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\t// Write full text based on message type\n\t\tconst { type, data, loadingMessage } = message\n\t\tconst shouldReturnDefaultValue = true\n\t\tlet text = Utils.returnValidValue(\"loadingMessage\", loadingMessage, shouldReturnDefaultValue)\n\t\tswitch (type) {\n\t\tcase \"loading\":\n\t\t\ttext += `... ${data}%`\n\t\t\tbreak\n\t\tcase \"error\":\n\t\t\ttext = `ERROR!\\n${data}`\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\n\t\tif (!this._textElement || !text) {\n\t\t\treturn\n\t\t}\n\t\tthis._textElement.setText(text)\n\n\t\t// Refresh display\n\t\tthis._player.refreshOnce()\n\t}\n\n\tdestroy() {\n\t\tif (!this._textElement) {\n\t\t\treturn\n\t\t}\n\t\tthis._textElement.destroy()\n\t\tthis._textElement = null\n\n\t\tthis.removeFromParent()\n\t}\n\n}","import * as Hammer from \"hammerjs\"\n\nimport * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nexport default class InteractionManager {\n\n\t// Used below\n\n\tget canConsiderInteractions() { return this._player.canConsiderInteractions }\n\n\tget pageNavigator() { return this._player.pageNavigator }\n\n\tconstructor(player, rootElement) {\n\t\tthis._player = player // Useful only to get viewportRect below\n\t\tthis._rootElement = rootElement\n\n\t\t// Create Hammer object to handle user gestures\n\t\tthis._mc = new Hammer.Manager(rootElement)\n\n\t\t// Implement single tap detection\n\t\tthis._singleTap = new Hammer.Tap({ event: \"singletap\" })\n\t\tthis._mc.add(this._singleTap)\n\n\t\t// Only finalize the implementation of single tap detection at this stage\n\t\tthis._handleSingleTap = this._handleSingleTap.bind(this)\n\t\tthis._mc.on(\"singletap\", this._handleSingleTap)\n\n\t\tthis._doOnCenterTap = null\n\t\tthis._percentFunction = null // For (non-wheel scroll) viewport drags\n\t\tthis._initialTouchPoint = null // For non-wheel scroll zoom\n\t\tthis._lastScrollEvent = null // For non-wheel scroll in general\n\t\tthis._wasLastEventPanend = false // For (non-wheel scroll) viewport drags\n\t}\n\n\t_handleSingleTap(e) {\n\t\t// If story not loaded yet, only allow a center tap\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\tif (this._doOnCenterTap) {\n\t\t\t\tthis._doOnCenterTap()\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tconst { viewportRect } = this._player\n\t\tconst {\n\t\t\tx, y, width, height,\n\t\t} = this._rootElement.getBoundingClientRect()\n\n\t\t// Get coordinates of the canvas' origin in _rootElement\n\t\tconst topLeftCanvasPoint = {\n\t\t\tx: (width - viewportRect.width) / 2,\n\t\t\ty: (height - viewportRect.height) / 2,\n\t\t}\n\n\t\t// Compute the reference lengths used for checking what viewport zone a hit lies in\n\t\tconst { REFERENCE_PERCENT } = constants\n\t\tconst referenceXLength = topLeftCanvasPoint.x + viewportRect.width * REFERENCE_PERCENT\n\t\tconst referenceYLength = topLeftCanvasPoint.y + viewportRect.height * REFERENCE_PERCENT\n\n\t\tconst hitPointer = e.center\n\t\tconst hitX = hitPointer.x - x\n\t\tconst hitY = hitPointer.y - y\n\n\t\t// Based on the PageNavigator's direction and where in the window the user tap lied in,\n\t\t// decide whether the tap was a forward, center or backward tap\n\t\tthis._handleDiscontinuousGesture(true, (hitX >= width - referenceXLength),\n\t\t\t(hitX <= referenceXLength), (hitY >= height - referenceYLength),\n\t\t\t(hitY <= referenceYLength), this._doOnCenterTap)\n\t}\n\n\t_handleDiscontinuousGesture(expression, goRightIntentExpression, goLeftIntentExpression,\n\t\tgoDownIntentExpression, goUpIntentExpression, doOtherwise = null) {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { currentPage } = this.pageNavigator\n\t\tconst { hitZoneToPrevious, hitZoneToNext, secondaryAxis } = currentPage || {}\n\n\t\tlet { goForward, goBackward, goSidewaysIfPossible } = this.pageNavigator\n\t\tgoForward = goForward.bind(this.pageNavigator)\n\t\tgoBackward = goBackward.bind(this.pageNavigator)\n\t\tgoSidewaysIfPossible = goSidewaysIfPossible.bind(this.pageNavigator)\n\n\t\tif ((expression === goRightIntentExpression && hitZoneToNext === \"right\")\n\t\t\t|| (expression === goLeftIntentExpression && hitZoneToNext === \"left\")\n\t\t\t|| (expression === goDownIntentExpression && hitZoneToNext === \"bottom\")\n\t\t\t|| (expression === goUpIntentExpression && hitZoneToNext === \"top\")) {\n\t\t\tgoForward()\n\t\t} else if ((expression === goRightIntentExpression && hitZoneToPrevious === \"right\")\n\t\t\t|| (expression === goLeftIntentExpression && hitZoneToPrevious === \"left\")\n\t\t\t|| (expression === goDownIntentExpression && hitZoneToPrevious === \"bottom\")\n\t\t\t|| (expression === goUpIntentExpression && hitZoneToPrevious === \"top\")) {\n\t\t\tgoBackward()\n\t\t} else if (\n\t\t\t!(secondaryAxis === \"x\" && expression === goRightIntentExpression\n\t\t\t\t&& goSidewaysIfPossible(\"right\") === true)\n\t\t\t&& !(secondaryAxis === \"x\" && expression === goLeftIntentExpression\n\t\t\t\t&& goSidewaysIfPossible(\"left\") === true)\n\t\t\t&& !(secondaryAxis === \"y\" && expression === goDownIntentExpression\n\t\t\t\t&& goSidewaysIfPossible(\"down\") === true)\n\t\t\t&& !(secondaryAxis === \"y\" && expression === goUpIntentExpression\n\t\t\t\t&& goSidewaysIfPossible(\"up\") === true)\n\t\t\t&& doOtherwise) {\n\t\t\tdoOtherwise()\n\t\t}\n\t}\n\n\tsetStoryInteractions(options) {\n\t\tconst {\n\t\t\tdoOnCenterTap,\n\t\t\tallowsWheelScroll,\n\t\t\tallowsZoomOnCtrlOrAltScroll,\n\t\t\tallowsZoomOnDoubleTap,\n\t\t\tallowsSwipe,\n\t\t\tisPaginationSticky,\n\t\t} = options\n\n\t\tthis._doOnCenterTap = doOnCenterTap\n\n\t\tconst shouldReturnDefaultValue = true\n\t\tthis._allowsSwipe = Utils.returnValidValue(\"allowsSwipe\", allowsSwipe, shouldReturnDefaultValue)\n\t\tthis._allowsWheelScroll = Utils.returnValidValue(\"allowsWheelScroll\", allowsWheelScroll,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._allowsZoomOnDoubleTap = Utils.returnValidValue(\"allowsZoomOnDoubleTap\", allowsZoomOnDoubleTap,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._allowsZoomOnCtrlOrAltScroll = Utils.returnValidValue(\"allowsZoomOnCtrlOrAltScroll\",\n\t\t\tallowsZoomOnCtrlOrAltScroll, shouldReturnDefaultValue)\n\t\tthis._isPaginationSticky = Utils.returnValidValue(\"isPaginationSticky\", isPaginationSticky,\n\t\t\tshouldReturnDefaultValue)\n\n\t\t// Implement key press handling\n\t\tthis._handleKeyUp = this._handleKeyUp.bind(this)\n\t\twindow.addEventListener(\"keyup\", this._handleKeyUp)\n\n\t\t// Implement zoom handling if relevant\n\n\t\t// Implement pinch detection for touch devices\n\t\tconst pinch = new Hammer.Pinch()\n\t\tthis._mc.add(pinch)\n\t\tthis._handlePinch = this._handlePinch.bind(this)\n\t\tthis._mc.on(\"pinch\", this._handlePinch)\n\n\t\tif (this._allowsZoomOnDoubleTap === true) {\n\n\t\t\t// Implement single and double tap detection\n\t\t\tconst doubleTap = new Hammer.Tap({ event: \"doubletap\", taps: 2 })\n\t\t\tthis._mc.add([doubleTap, this._singleTap])\n\t\t\tthis._singleTap.requireFailure(doubleTap)\n\t\t\tdoubleTap.recognizeWith(this._singleTap)\n\n\t\t\t// Only finalize the implementation of single tap detection at this stage\n\t\t\tthis._handleDoubleTap = this._handleDoubleTap.bind(this)\n\t\t\tthis._mc.on(\"doubletap\", this._handleDoubleTap)\n\t\t}\n\n\t\t// Note that zooming may also be possible via ctrl/alt + scroll\n\n\t\t// Implement swipe detection if relevant\n\t\tif (this._allowsSwipe === true) {\n\t\t\tconst swipe = new Hammer.Swipe({\n\t\t\t\tdirection: Hammer.DIRECTION_ALL,\n\t\t\t\tvelocity: 0.3, // Default value is 0.3\n\t\t\t})\n\t\t\tthis._mc.add(swipe)\n\t\t\tthis._handleSwipe = this._handleSwipe.bind(this)\n\t\t\tthis._mc.on(\"swipeleft swiperight swipeup swipedown\", this._handleSwipe)\n\t\t}\n\n\t\t// Implement non-wheel (= pan) scroll detection\n\n\t\tconst pan = new Hammer.Pan({ direction: Hammer.DIRECTION_ALL })\n\t\tthis._mc.add(pan)\n\t\tthis._onNonWheelScroll = this._onNonWheelScroll.bind(this)\n\t\tthis._mc.on(\"panleft panright panup pandown panend\", this._onNonWheelScroll)\n\n\t\t// Implement wheel scroll detection if relevant\n\t\tif (this._allowsWheelScroll === true) {\n\t\t\tthis._onWheelScroll = this._onWheelScroll.bind(this)\n\t\t\tthis._rootElement.addEventListener(\"wheel\", this._onWheelScroll)\n\t\t}\n\n\t\t// Reset scroll (works for both wheel and non-wheel scroll)\n\t\tthis._resetScroll()\n\t}\n\n\t// Double tap is used to trigger the \"quick change\" zoom (switching zoomFactor at once\n\t// between the values of 1 and MAX_ZOOM_FACTOR - the value defined in constants.js)\n\t_handleDoubleTap(e) {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst touchPoint = e.center\n\t\tconst zoomData = { isContinuous: false, touchPoint }\n\t\tthis._player.zoom(zoomData)\n\t}\n\n\t_handlePinch(e) {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tif (e.type === \"pinchend\") {\n\t\t\tthis._lastDistance = null\n\t\t} else {\n\t\t\tconst { viewportRect } = this._player\n\t\t\tconst pointers = [\n\t\t\t\t{ x: viewportRect.width / 2, y: viewportRect.height / 2 },\n\t\t\t\t{ x: e.center.x, y: e.center.y },\n\t\t\t]\n\t\t\tconst distance = Utils.getDistance(pointers[0], pointers[1])\n\t\t\tif (!this._lastDistance) {\n\t\t\t\tthis._lastDistance = distance\n\t\t\t} else if (this._lastDistance > 0) {\n\t\t\t\tconst touchPoint = {\n\t\t\t\t\tx: (pointers[0].x + pointers[1].x) / 2,\n\t\t\t\t\ty: (pointers[0].y + pointers[1].y) / 2,\n\t\t\t\t}\n\t\t\t\tconst zoomData = {\n\t\t\t\t\tisContinuous: true,\n\t\t\t\t\ttouchPoint,\n\t\t\t\t\tmultiplier: distance / this._lastDistance,\n\t\t\t\t}\n\t\t\t\tthis._player.zoom(zoomData)\n\t\t\t\tthis._lastDistance = distance\n\t\t\t}\n\t\t}\n\t}\n\n\t_handleKeyUp(e) {\n\t\tthis._handleDiscontinuousGesture(e.code, \"ArrowRight\", \"ArrowLeft\", \"ArrowDown\", \"ArrowUp\")\n\t}\n\n\t_handleSwipe(e) {\n\t\tthis._handleDiscontinuousGesture(e.type, \"swipeleft\", \"swiperight\", \"swipeup\", \"swipedown\")\n\t}\n\n\t// For touch-device and mouse click-and-drag scroll events\n\t_onNonWheelScroll(e) {\n\t\trequestAnimationFrame(() => {\n\t\t\tif (this.canConsiderInteractions === false) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tsrcEvent,\n\t\t\t\ttype,\n\t\t\t\tcenter,\n\t\t\t\tdeltaX,\n\t\t\t\tdeltaY,\n\t\t\t} = e\n\n\t\t\t// For a zoom non-wheel scroll (i.e. ctrl/alt + non-wheel scroll)\n\t\t\tif ((srcEvent.ctrlKey || srcEvent.altKey)\n\t\t\t\t&& this._allowsZoomOnCtrlOrAltScroll === true) {\n\n\t\t\t\t// Store the coordinates of the first touch point of the gesture\n\t\t\t\tif (!this._initialTouchPoint) {\n\t\t\t\t\tthis._initialTouchPoint = center\n\t\t\t\t}\n\n\t\t\t\t// If the gesture has finished, reset zoom handling information\n\t\t\t\tif (type === \"panend\") {\n\t\t\t\t\tthis._resetScroll()\n\t\t\t\t\tthis._initialTouchPoint = null\n\n\t\t\t\t// If the gesture is going on, send zoom data to the current page navigator\n\t\t\t\t} else {\n\t\t\t\t\tconst zoomData = {\n\t\t\t\t\t\tisContinuous: true,\n\t\t\t\t\t\ttouchPoint: this._initialTouchPoint,\n\t\t\t\t\t\tdelta: deltaY - this._lastScrollEvent.deltaY,\n\t\t\t\t\t}\n\t\t\t\t\tthis._player.zoom(zoomData)\n\t\t\t\t\tthis._lastScrollEvent = e\n\t\t\t\t}\n\n\t\t\t// When a non-zoom non-wheel scroll ends\n\t\t\t} else if (type === \"panend\") {\n\t\t\t\t// If this event immediately follows a panend, cancel it\n\t\t\t\tif (this._wasLastEventPanend === true) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Attempt to end a controlled transition; if it fails (because none was currently\n\t\t\t\t// under way), attempt a sticky page change if possible; if it fails as well (if\n\t\t\t\t// viewportPercent was not enough), then only trigger a drag end (via _releaseScroll)\n\t\t\t\tlet viewportPercent = this._percentFunction(e.deltaX, e.deltaY)\n\t\t\t\tviewportPercent = Math.min(Math.max(viewportPercent, -1), 1)\n\n\t\t\t\tif (this.pageNavigator.endControlledTransition(viewportPercent) === false\n\t\t\t\t\t&& (this._isPaginationSticky === false\n\t\t\t\t\t|| this.pageNavigator.attemptStickyStep() === false)) {\n\t\t\t\t\tthis._releaseScroll(e)\n\t\t\t\t}\n\n\t\t\t\tthis._resetScroll()\n\t\t\t\tthis._wasLastEventPanend = true\n\n\t\t\t// For normal non-wheel scroll\n\t\t\t} else {\n\t\t\t\tconst { currentPage } = this.pageNavigator\n\t\t\t\tconst { inScrollDirection } = currentPage\n\n\t\t\t\tconst { viewportRect } = this._player\n\t\t\t\tconst { width, height } = viewportRect\n\t\t\t\tconst { VIEWPORT_DIMENSION_PERCENT } = constants\n\n\t\t\t\tswitch (inScrollDirection) {\n\t\t\t\tcase \"ltr\":\n\t\t\t\t\tthis._percentFunction = (dx) => (-dx / (width * VIEWPORT_DIMENSION_PERCENT))\n\t\t\t\t\tbreak\n\t\t\t\tcase \"rtl\":\n\t\t\t\t\tthis._percentFunction = (dx) => (dx / (width * VIEWPORT_DIMENSION_PERCENT))\n\t\t\t\t\tbreak\n\t\t\t\tcase \"ttb\":\n\t\t\t\t\tthis._percentFunction = (_, dy) => (-dy / (height * VIEWPORT_DIMENSION_PERCENT))\n\t\t\t\t\tbreak\n\t\t\t\tcase \"btt\":\n\t\t\t\t\tthis._percentFunction = (_, dy) => (dy / (height * VIEWPORT_DIMENSION_PERCENT))\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tlet viewportPercent = this._percentFunction(deltaX, deltaY)\n\t\t\t\tviewportPercent = Math.min(Math.max(viewportPercent, -1), 1)\n\n\t\t\t\tconst scrollEvent = {\n\t\t\t\t\tdeltaX: deltaX - this._lastScrollEvent.deltaX,\n\t\t\t\t\tdeltaY: deltaY - this._lastScrollEvent.deltaY,\n\t\t\t\t\tviewportPercent,\n\t\t\t\t}\n\t\t\t\tconst isWheelScroll = false\n\t\t\t\tthis._scroll(scrollEvent, isWheelScroll)\n\t\t\t\tthis._lastScrollEvent = e\n\t\t\t\tthis._wasLastEventPanend = false\n\t\t\t}\n\t\t})\n\t}\n\n\t_resetScroll() {\n\t\tthis._lastScrollEvent = {\n\t\t\tdeltaX: 0,\n\t\t\tdeltaY: 0,\n\t\t\tviewportPercent: 0,\n\t\t}\n\t}\n\n\t// Record velocity and timestamp on drag end (i.e. on scroll release)\n\t_releaseScroll(e) {\n\t\tconst velocity = {\n\t\t\tx: -e.velocityX * constants.VELOCITY_FACTOR,\n\t\t\ty: -e.velocityY * constants.VELOCITY_FACTOR,\n\t\t}\n\t\tconst releaseDate = Date.now()\n\t\tthis._autoScroll(velocity, releaseDate, e)\n\t}\n\n\t// Apply kinetic scrolling formula after drag end (i.e. on scroll release)\n\t_autoScroll(velocity, releaseDate) {\n\t\tconst elapsedTime = Date.now() - releaseDate\n\t\tlet deltaX = -velocity.x * Math.exp(-elapsedTime / constants.TIME_CONSTANT)\n\t\tlet deltaY = -velocity.y * Math.exp(-elapsedTime / constants.TIME_CONSTANT)\n\n\t\t// Simple hack to allow for a smoother stop (using half pixels)\n\t\tif (Math.abs(deltaX) < 1 || Math.abs(deltaY) < 1) {\n\t\t\tdeltaX = Math.round(deltaX * 2) / 2\n\t\t\tdeltaY = Math.round(deltaY * 2) / 2\n\t\t} else {\n\t\t\tdeltaX = Math.round(deltaX)\n\t\t\tdeltaY = Math.round(deltaY)\n\t\t}\n\t\tif (Math.abs(deltaX) >= 0.5 || Math.abs(deltaY) >= 0.5) {\n\t\t\t// On a drag end, viewportPercent information is useless\n\t\t\tthis._scroll({ deltaX, deltaY })\n\t\t\trequestAnimationFrame(this._autoScroll.bind(this, velocity, releaseDate))\n\t\t}\n\t}\n\n\t// Apply scroll to the current page via the pageNavigator\n\t_scroll(e, isWheelScroll) {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst { deltaX, deltaY, viewportPercent } = e\n\t\tthis.pageNavigator.handleScroll({ deltaX, deltaY, viewportPercent }, isWheelScroll)\n\t}\n\n\t// For mouse and trackpad scroll events\n\t_onWheelScroll(e) {\n\t\te.preventDefault()\n\t\trequestAnimationFrame(() => {\n\t\t\tif (this.canConsiderInteractions === false) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif ((e.ctrlKey || e.altKey)\n\t\t\t\t&& this._allowsZoomOnCtrlOrAltScroll === true) {\n\t\t\t\tconst zoomData = {\n\t\t\t\t\tisContinuous: true,\n\t\t\t\t\ttouchPoint: { x: e.x, y: e.y },\n\t\t\t\t\tdelta: e.deltaY,\n\t\t\t\t}\n\t\t\t\tthis._player.zoom(zoomData)\n\n\t\t\t} else {\n\t\t\t\t// There is no end to a wheel event, so no viewportPercent information\n\t\t\t\t// can be constructed to attempt a sticky page change\n\t\t\t\tconst isWheelScroll = true\n\t\t\t\tconst { direction } = this.pageNavigator\n\t\t\t\t// If the story's direction is ltr or rtl, then an \"actual\" mouse wheel\n\t\t\t\t// should prompt the story to move forward/backward\n\t\t\t\tif ((direction === \"ltr\" || direction === \"rtl\") && e.deltaX === 0) {\n\t\t\t\t\tconst sign = (direction === \"rtl\") ? 1 : -1\n\t\t\t\t\tthis._scroll({ deltaX: sign * e.deltaY, deltaY: 0 }, isWheelScroll)\n\t\t\t\t} else {\n\t\t\t\t\tthis._scroll({ deltaX: -e.deltaX, deltaY: -e.deltaY }, isWheelScroll)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t// For button hits\n\n\tgoRight() {\n\t\tthis._handleDiscontinuousGesture(true, true, false, false, false)\n\t}\n\n\tgoLeft() {\n\t\tthis._handleDiscontinuousGesture(true, false, true, false, false)\n\t}\n\n\tgoDown() {\n\t\tthis._handleDiscontinuousGesture(true, false, false, true, false)\n\t}\n\n\tgoUp() {\n\t\tthis._handleDiscontinuousGesture(true, false, false, false, true)\n\t}\n\n\t// Remove all event listeners on destroy\n\tdestroy() {\n\t\tthis._mc.off(\"singletap\", this._handleSingleTap)\n\t\tthis._mc.off(\"doubletap\", this._handleDoubleTap)\n\t\tthis._mc.off(\"pinch\", this._handlePinch)\n\t\tthis._mc.off(\"swipeleft swiperight swipeup swipedown\", this._handleSwipe)\n\t\tthis._mc.off(\"panleft panright panup pandown panend\", this._onNonWheelScroll)\n\t\tthis._rootElement.removeEventListener(\"wheel\", this._onWheelScroll)\n\t\twindow.removeEventListener(\"keyup\", this._handleKeyUp)\n\t}\n\n}","import * as constants from \"../constants\"\n\nexport default class CoreResource {\n\n\tget id() { return this._id }\n\n\tget type() { return this._type }\n\n\tget mimeType() { return this._mimeType }\n\n\tget path() { return this._path }\n\n\tget loadStatus() { return this._loadStatus }\n\n\t// Used in Slice\n\n\tget width() { return this._width }\n\n\tget height() { return this._height }\n\n\tget fallbacksArray() { return this._fallbacksArray }\n\n\t// Used in AudioResource\n\tget player() { return this._player }\n\n\t// Used in Player\n\tget tags() { return this._tags }\n\n\t// Used in ResourceManager\n\n\tget hasNotStartedLoading() { return (this._loadStatus === 0) }\n\n\tget hasLoadedSomething() { return (this._loadStatus === -1 || this._loadStatus === 2) }\n\n\t// Used in AudioResource\n\tset loadStatus(loadStatus) { this._loadStatus = loadStatus }\n\n\tstatic get counter() {\n\t\tCoreResource._counter = (CoreResource._counter === undefined)\n\t\t\t? 0\n\t\t\t: (CoreResource._counter + 1)\n\t\treturn CoreResource._counter\n\t}\n\n\tconstructor(coreResourceData, player) {\n\t\tthis._id = CoreResource.counter\n\t\tthis._player = player\n\n\t\tconst {\n\t\t\ttype, mimeType, path, width, height, fallbacksArray,\n\t\t} = coreResourceData\n\n\t\tthis._type = type\n\t\tthis._mimeType = mimeType\n\t\tthis._path = path\n\t\tif (width) {\n\t\t\tthis._width = width\n\t\t}\n\t\tif (height) {\n\t\t\tthis._height = height\n\t\t}\n\t\tif (fallbacksArray) {\n\t\t\tthis._fallbacksArray = fallbacksArray\n\t\t}\n\n\t\tthis._tags = {}\n\t\tconstants.POSSIBLE_TAG_NAMES.forEach((tagName) => {\n\t\t\tconst tagValue = coreResourceData[tagName]\n\t\t\tif (tagValue !== undefined) {\n\t\t\t\tthis._tags[tagName] = tagValue\n\t\t\t}\n\t\t})\n\n\t\tthis._loadStatus = 0\n\t}\n\n\tnotifyLoadStart() {\n\t\tif (this._loadStatus === 0) {\n\t\t\tthis._loadStatus = 1\n\t\t}\n\t}\n\n\tcancelLoad() {\n\t\tthis._loadStatus = 0\n\t}\n\n\tforceDestroy() {\n\t\tthis._loadStatus = 0\n\t}\n\n}","import CoreResource from \"./CoreResource\"\nimport { Texture } from \"../Renderer\"\n\nexport default class TextureResource extends CoreResource {\n\n\tconstructor(coreResourceData, player) {\n\t\tsuper(coreResourceData, player)\n\n\t\tthis._baseTexture = null\n\t\tthis._textures = {} // Textures represent cropped versions of baseTexture, by fragment\n\n\t\tthis.addOrUpdateFragment(\"full\")\n\t}\n\n\t// Used above (in which case sliceId is undefined) and in ResourceManager\n\taddOrUpdateFragment(fragment = \"full\", sliceId) {\n\t\tif (!this._textures[fragment]) {\n\t\t\tthis._textures[fragment] = {\n\t\t\t\ttexture: null,\n\t\t\t\tsliceIdsSet: new Set(),\n\t\t\t}\n\t\t}\n\n\t\t// On a readingMode change, the baseTexture may already be present,\n\t\t// so adding new fragments implies that the corresponding textures be created\n\t\tif (this._baseTexture && this._textures.full && this._textures.full.texture\n\t\t\t&& !this._textures[fragment].texture) {\n\t\t\tconst fullTexture = this._textures.full.texture\n\t\t\tconst croppedTexture = Texture.cropToFragment(fullTexture, fragment)\n\t\t\tthis._textures[fragment].texture = croppedTexture\n\t\t}\n\n\t\tif (sliceId !== undefined) {\n\t\t\tthis._textures[fragment].sliceIdsSet.add(sliceId)\n\t\t}\n\t}\n\n\tresetSliceIdsSets() {\n\t\tObject.keys(this._textures).forEach((fragment) => {\n\t\t\tthis._textures[fragment].sliceIdsSet = new Set()\n\t\t})\n\t}\n\n\tcancelLoad(slices) {\n\t\tObject.values(this._textures).forEach(({ sliceIdsSet }) => {\n\t\t\tsliceIdsSet.forEach((sliceId) => {\n\t\t\t\tconst slice = slices[sliceId]\n\t\t\t\tslice.cancelTextureLoad()\n\t\t\t})\n\t\t})\n\t\tsuper.cancelLoad()\n\t}\n\n\tsetActualTexture(textureData) { // textureData = { name, texture }\n\t\tif (this.loadStatus === 0 // If loading was cancelled\n\t\t\t|| !textureData || !textureData.texture\n\t\t\t|| !textureData.texture.base || !textureData.texture.full) {\n\t\t\treturn\n\t\t}\n\t\tconst { texture } = textureData\n\t\tconst { base, full } = texture\n\t\tthis._baseTexture = base\n\n\t\t// If loading has failed...\n\t\tif (this.loadStatus === -1) {\n\n\t\t\t// ...then if a fallback was defined, and it is to be cropped,\n\t\t\t// store the cropped (fragment) texture directly everywhere\n\t\t\tif (this._fallbackFragment) {\n\t\t\t\tconst croppedTexture = Texture.cropToFragment(full, this._fallbackFragment)\n\t\t\t\tObject.keys(this._textures).forEach((fragment) => {\n\t\t\t\t\tthis._textures[fragment].texture = croppedTexture\n\t\t\t\t})\n\n\t\t\t// ...otherwise do with the full texture\n\t\t\t} else {\n\t\t\t\tthis._setFullTextureAndCreateFragmentsIfNeeded(full)\n\t\t\t}\n\n\t\t// ...otherwise loadStatus = 1 and loading has succeeded, so proceed with the full texture\n\t\t} else {\n\t\t\tthis._setFullTextureAndCreateFragmentsIfNeeded(full)\n\t\t\tthis.loadStatus = 2\n\t\t}\n\t}\n\n\t_setFullTextureAndCreateFragmentsIfNeeded(fullTexture) {\n\t\tthis._textures.full.texture = fullTexture\n\t\tthis._createFragmentsIfNeeded(fullTexture)\n\t}\n\n\t_createFragmentsIfNeeded(fullTexture) {\n\t\tObject.keys(this._textures).forEach((fragment) => {\n\t\t\tif (fragment !== \"full\") {\n\t\t\t\tconst croppedTexture = Texture.cropToFragment(fullTexture, fragment)\n\t\t\t\tthis._textures[fragment].texture = croppedTexture\n\t\t\t}\n\t\t})\n\t}\n\n\tapplyAllTextures(slices) {\n\t\tconst fullTexture = this._textures.full.texture\n\t\tObject.values(this._textures).forEach(({ texture, sliceIdsSet }) => {\n\t\t\tsliceIdsSet.forEach((sliceId) => {\n\t\t\t\tconst slice = slices[sliceId]\n\t\t\t\tif (slice) {\n\t\t\t\t\tconst sliceTexture = (this.loadStatus === -1) ? fullTexture : texture\n\t\t\t\t\tconst isAFallback = (this.loadStatus === -1)\n\t\t\t\t\tslice.updateTextures(sliceTexture, isAFallback)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t// Used for a SequenceSlice only\n\tgetTextureForFragment(fragment = null) {\n\t\tconst actualFragment = (this.loadStatus !== -1 && fragment) ? fragment : \"full\"\n\t\tconst { texture } = this._textures[actualFragment] || {}\n\t\tif (!texture) {\n\t\t\treturn null\n\t\t}\n\t\treturn texture\n\t}\n\n\tdestroyIfPossible(forceDestroy = false, slices) {\n\t\tif (this.loadStatus === 0) {\n\t\t\treturn\n\t\t}\n\t\tconst canBeDestroyed = (forceDestroy === true)\n\t\t\t|| (this._checkIfCanBeDestroyed(slices) === true)\n\t\tif (canBeDestroyed === true) {\n\t\t\tthis._forceDestroy(slices) // A different function for video and basic texture resources\n\t\t}\n\t}\n\n\t_checkIfCanBeDestroyed(slices) {\n\t\tlet canBeDestroyed = true\n\t\tObject.values(this._textures).forEach((fragmentData) => {\n\t\t\tconst { sliceIdsSet } = fragmentData\n\t\t\tsliceIdsSet.forEach((sliceId) => {\n\t\t\t\tconst slice = slices[sliceId]\n\t\t\t\tif (slice) {\n\t\t\t\t\tconst { isActive } = slice\n\t\t\t\t\tif (isActive === true) {\n\t\t\t\t\t\tcanBeDestroyed = false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\treturn canBeDestroyed\n\t}\n\n\t_forceDestroy(slices) {\n\t\tthis.forceDestroyTextures(slices)\n\t}\n\n\t// Used above and in VideoTextureResource\n\tforceDestroyTextures(slices) {\n\t\tObject.entries(this._textures).forEach(([fragment, fragmentData]) => {\n\t\t\tconst { texture, sliceIdsSet } = fragmentData\n\t\t\tif (texture) {\n\t\t\t\tsliceIdsSet.forEach((sliceId) => {\n\t\t\t\t\tconst slice = slices[sliceId]\n\t\t\t\t\tif (slice) {\n\t\t\t\t\t\tslice.removeTexture()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (texture.destroy) {\n\t\t\t\t\ttexture.destroy()\n\t\t\t\t}\n\t\t\t\tthis._textures[fragment].texture = null\n\t\t\t}\n\t\t})\n\t\tif (this._baseTexture && this._baseTexture.destroy) {\n\t\t\tthis._baseTexture.destroy()\n\t\t}\n\t\tthis._baseTexture = null\n\n\t\tthis.forceDestroy() // CoreResource's function!\n\t}\n\n}","import TextureResource from \"./TextureResource\"\nimport { Texture } from \"../Renderer\"\n\nexport default class VideoTextureResource extends TextureResource {\n\n\tconstructor(coreResourceData, player) {\n\t\tsuper(coreResourceData, player)\n\n\t\tthis._type = \"video\"\n\n\t\tthis._video = null\n\t\tthis._timeout = null\n\t\tthis._doOnLoadSuccess = null\n\t\tthis._doOnLoadFail = null\n\t\tthis._fallbackFragment = null\n\t}\n\n\tattemptToLoadVideo(src, doOnVideoLoadSuccess, doOnVideoLoadFail, videoLoadTimeout,\n\t\tallowsParallel, resolve) {\n\n\t\t// Create video element\n\t\tconst video = document.createElement(\"video\")\n\t\tvideo.preload = \"auto\"\n\t\tvideo.loop = true // All videos will loop by default\n\t\tvideo.autoplay = false // Prevent autoplay at start\n\t\tvideo.muted = true // Only a muted video can autoplay\n\t\tvideo.setAttribute(\"playsinline\", \"\") // Required to play in iOS\n\t\tvideo.crossOrigin = \"anonymous\"\n\t\tvideo.src = src\n\t\tthis._video = video\n\n\t\tconst doOnLoadFail = () => {\n\t\t\tconst forceFailIfNeeded = false\n\t\t\tthis._clear(forceFailIfNeeded)\n\n\t\t\tif (doOnVideoLoadFail && this.fallbacksArray.length > 0) {\n\t\t\t\tthis.loadStatus = -1\n\n\t\t\t\t// Let's create the baseTexture from the appropriate fallback image\n\t\t\t\t// (note that we don't care that the type will not be the right one anymore!)\n\n\t\t\t\tconst { path, fragment } = this.player.getBestMatchForCurrentTags(this.fallbacksArray)\n\t\t\t\tif (fragment) {\n\t\t\t\t\tthis._fallbackFragment = fragment\n\t\t\t\t}\n\n\t\t\t\tconst fallbackPath = path\n\t\t\t\tdoOnVideoLoadFail(resolve, fallbackPath)\n\n\t\t\t} else {\n\t\t\t\tthis.loadStatus = 0\n\t\t\t\tresolve()\n\t\t\t}\n\t\t}\n\t\tthis._doOnLoadFail = doOnLoadFail\n\t\tvideo.addEventListener(\"error\", doOnLoadFail)\n\n\t\t// Event to track should be loadedmetadata, but duration change proved more reliable\n\t\tconst doOnLoadSuccess = () => {\n\t\t\tthis._doOnDurationChange(resolve, doOnVideoLoadSuccess)\n\t\t}\n\t\tthis._doOnLoadSuccess = doOnLoadSuccess\n\t\tvideo.addEventListener(\"durationchange\", doOnLoadSuccess)\n\n\t\t// If resources are loaded serially, a failing video load should not block loading\n\t\tif (allowsParallel === false) {\n\t\t\tthis._timeout = setTimeout(doOnLoadFail, videoLoadTimeout)\n\t\t}\n\t}\n\n\t_clear(forceFailIfNeeded) {\n\t\tthis._removeTracesOfVideoLoad(forceFailIfNeeded)\n\t\tthis._video = null\n\t}\n\n\t_removeTracesOfVideoLoad(forceFailIfNeeded) {\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout)\n\t\t\tthis._timeout = null\n\t\t\tif (forceFailIfNeeded === true) {\n\t\t\t\tthis._doOnLoadFail()\n\t\t\t}\n\t\t}\n\t\tif (this._video && this._doOnLoadFail) {\n\t\t\tthis._video.removeEventListener(\"error\", this._doOnLoadFail)\n\t\t}\n\t\tthis._doOnLoadFail = null\n\t\tif (this._video && this._doOnLoadSuccess) {\n\t\t\tthis._video.removeEventListener(\"durationchange\", this._doOnLoadSuccess)\n\t\t}\n\t\tthis._doOnLoadSuccess = null\n\t\tthis._fallbackFragment = null\n\t}\n\n\t// Once a video's duration is different from zero, get useful information\n\t_doOnDurationChange(resolve, doOnVideoLoadSuccess) {\n\t\tconst { duration } = this._video || {}\n\n\t\tif (this.loadStatus !== 0 // Loading may indeed have been cancelled\n\t\t\t&& duration && doOnVideoLoadSuccess) {\n\t\t\tthis._removeTracesOfVideoLoad() // But keep this._video, so don't clear()!\n\n\t\t\tconst { baseTexture, texture } = Texture.createVideoTexture(this._video)\n\t\t\tconst textureData = {\n\t\t\t\tresourceId: this.id,\n\t\t\t\ttexture: {\n\t\t\t\t\tbase: baseTexture,\n\t\t\t\t\tfull: texture,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tdoOnVideoLoadSuccess(resolve, textureData)\n\n\t\t// If the video failed loading\n\t\t} else if (this._doOnLoadFail) {\n\t\t\tthis._doOnLoadFail()\n\t\t}\n\t}\n\n\tcancelLoad(slices) {\n\t\tconst forceFailIfNeeded = true\n\t\tthis._clear(forceFailIfNeeded)\n\t\tsuper.cancelLoad(slices)\n\t}\n\n\t_forceDestroy(slices) {\n\t\tconst forceFailIfNeeded = true\n\t\tthis._clear(forceFailIfNeeded)\n\t\tthis.forceDestroyTextures(slices)\n\t}\n\n}","import CoreResource from \"./CoreResource\"\n\nexport default class AudioResource extends CoreResource {\n\n\t// Used in Timer\n\tget shouldPlay() { return this._shouldPlay }\n\n\tconstructor(coreResourceData, player) {\n\t\tsuper(coreResourceData, player)\n\n\t\tthis._type = \"audio\"\n\n\t\tthis._audio = null\n\t\tthis._timeout = null\n\t\tthis._doOnLoadSuccess = null\n\t\tthis._doOnLoadFail = null\n\n\t\tconst { looping } = coreResourceData\n\t\tthis._looping = looping\n\n\t\tthis._shouldPlay = false\n\t\tthis._hasPlayedOnceInPage = false\n\t}\n\n\tattemptToLoadAudio(src, doOnAudioLoadSuccess, audioLoadTimeout, allowsParallel, resolve) {\n\n\t\tthis._hasPlayedOnceInPage = false\n\n\t\t// Create audio element\n\t\tconst audio = document.createElement(\"audio\")\n\t\taudio.preload = \"auto\"\n\t\taudio.autoplay = false // Prevent autoplay at start\n\t\taudio.setAttribute(\"playsinline\", \"\") // Required to play in iOS\n\t\taudio.crossOrigin = \"anonymous\"\n\t\taudio.loop = this._looping\n\t\taudio.src = src\n\t\tthis._audio = audio\n\n\t\tconst doOnLoadFail = () => {\n\t\t\tthis._clear()\n\t\t\tthis.loadStatus = 0\n\t\t\tresolve()\n\t\t}\n\t\tthis._doOnLoadFail = doOnLoadFail\n\t\taudio.addEventListener(\"error\", doOnLoadFail)\n\n\t\t// Event to track should be loadedmetadata, but duration change proved more reliable\n\t\tconst doOnLoadSuccess = () => {\n\t\t\tthis._doOnDurationChange(doOnAudioLoadSuccess)\n\t\t}\n\t\tthis._doOnLoadSuccess = doOnLoadSuccess\n\t\taudio.addEventListener(\"durationchange\", doOnLoadSuccess)\n\n\t\t// If resources are loaded serially, a failing audio load should not block loading\n\t\tif (allowsParallel === false) {\n\t\t\tthis._timeout = setTimeout(doOnLoadFail, audioLoadTimeout)\n\t\t}\n\t}\n\n\tmute() {\n\t\tif (!this._audio) {\n\t\t\treturn\n\t\t}\n\t\tthis._audio.volume = 0\n\t}\n\n\tunmute() {\n\t\tif (!this._audio) {\n\t\t\treturn\n\t\t}\n\t\tthis._audio.volume = 0.2\n\t\tif (this._shouldPlay === true) {\n\t\t\tconst shouldCheckVolume = false\n\t\t\tthis._play(shouldCheckVolume)\n\t\t}\n\t}\n\n\t_play(shouldCheckVolume = true) {\n\t\tif (!this._audio || this._hasPlayedOnceInPage === true) {\n\t\t\treturn\n\t\t}\n\n\t\t// Deal with volume\n\t\tif (shouldCheckVolume === true) {\n\t\t\tconst { isMuted } = this.player\n\t\t\tthis._audio.volume = (isMuted === true) ? 0 : 0.2\n\t\t}\n\n\t\tconst playPromise = this._audio.play()\n\t\tif (playPromise !== undefined) {\n\t\t\tplayPromise.then(() => {\n\t\t\t\t// Play\n\t\t\t}).catch(() => {\n\t\t\t\t// Caught error prevents play\n\t\t\t})\n\t\t}\n\t}\n\n\t_clear() {\n\t\tthis._removeTracesOfAudioLoad()\n\t\tif (this._doOnEnded) {\n\t\t\tthis._audio.removeEventListener(\"ended\", this._doOnEnded)\n\t\t}\n\t\tthis._audio = null\n\t}\n\n\t_removeTracesOfAudioLoad() {\n\t\tclearTimeout(this._timeout)\n\t\tthis._timeout = null\n\t\tif (this._audio && this._doOnLoadFail) {\n\t\t\tthis._audio.removeEventListener(\"error\", this._doOnLoadFail)\n\t\t}\n\t\tthis._doOnLoadFail = null\n\t\tif (this._audio && this._doOnLoadSuccess) {\n\t\t\tthis._audio.removeEventListener(\"durationchange\", this._doOnLoadSuccess)\n\t\t}\n\t\tthis._doOnLoadSuccess = null\n\t}\n\n\t// Once an audio's duration is different from zero, get useful information\n\t_doOnDurationChange(doOnAudioLoadSuccess) {\n\t\tif (this.loadStatus === 0) { // If loading was cancelled\n\t\t\tthis._clear()\n\t\t\treturn\n\t\t}\n\n\t\tconst { duration } = this._audio\n\n\t\tif (duration && doOnAudioLoadSuccess) {\n\t\t\tthis._removeTracesOfAudioLoad()\n\n\t\t\tif (this._looping === false) {\n\t\t\t\tthis._doOnEnded = () => {\n\t\t\t\t\tthis._hasPlayedOnceInPage = true\n\t\t\t\t}\n\t\t\t\tthis._audio.addEventListener(\"ended\", this._doOnEnded)\n\t\t\t}\n\n\t\t\tif (this._shouldPlay === true) {\n\t\t\t\tthis._play()\n\t\t\t}\n\n\t\t\tdoOnAudioLoadSuccess()\n\n\t\t// If the audio failed loading\n\t\t} else if (this._doOnLoadFail) {\n\t\t\tthis._doOnLoadFail()\n\t\t}\n\t}\n\n\tplayIfNeeded() {\n\t\tif (this._shouldPlay === true) {\n\t\t\treturn\n\t\t}\n\t\tthis._shouldPlay = true\n\t\tthis._play()\n\t}\n\n\tstopIfNeeded() {\n\t\tthis._shouldPlay = false\n\t\tif (!this._audio) {\n\t\t\treturn\n\t\t}\n\t\tthis._audio.pause()\n\t\tthis._audio.currentTime = 0\n\t}\n\n\tresetForPlay() {\n\t\tthis._shouldPlay = false\n\t\tthis._hasPlayedOnceInPage = false\n\t\tif (!this._audio) {\n\t\t\treturn\n\t\t}\n\t\tthis._audio.pause()\n\t\tthis._audio.currentTime = 0\n\t}\n\n\tcancelLoad() {\n\t\tthis._clear()\n\t\tsuper.cancelLoad()\n\t}\n\n\tforceDestroy() {\n\t\tthis._clear()\n\t\tsuper.forceDestroy()\n\t}\n\n}","export default class AsyncTaskQueue {\n\n\tget nbOfTasks() { return this._tasksArray.length }\n\n\tconstructor(maxPriority, allowsParallel, getPriorityFromTaskData) {\n\t\tthis._maxPriority = maxPriority\n\t\tthis._allowsParallel = allowsParallel\n\t\tthis._getPriorityFromTaskData = getPriorityFromTaskData\n\n\t\tthis._tasksArray = []\n\t\tthis.reset()\n\n\t\tthis._doAfterEachInitialTask = null\n\n\t\tthis._hasStarted = false\n\t}\n\n\treset() {\n\t\tthis._tasksArray.forEach((task) => { task.kill() })\n\n\t\t// Useful in serial mode only\n\t\tthis._isRunning = false\n\t}\n\n\tupdatePriorities() {\n\t\tthis._tasksArray.forEach((task, i) => {\n\t\t\tconst priority = this._getPriorityAndUpdateTaskIfRelevant(task, task.data)\n\n\t\t\t// In parallel mode, remove task if relevant\n\t\t\tif (this._allowsParallel === true && priority > this._maxPriority) {\n\t\t\t\ttask.kill()\n\t\t\t\tthis._tasksArray.splice(i, 1)\n\t\t\t}\n\t\t})\n\t}\n\n\t_getPriorityAndUpdateTaskIfRelevant(task, data) {\n\t\tconst { priority, forcedPriority } = task\n\t\tif (forcedPriority !== null) {\n\t\t\treturn forcedPriority\n\t\t}\n\t\tconst possiblyNewPriority = (this._getPriorityFromTaskData)\n\t\t\t? this._getPriorityFromTaskData(data)\n\t\t\t: 0\n\t\tif (priority === null || possiblyNewPriority <= priority) {\n\t\t\ttask.setData(data)\n\t\t\ttask.setPriority(possiblyNewPriority)\n\t\t}\n\t\treturn possiblyNewPriority\n\t}\n\n\taddTask(task) {\n\t\tconst priority = this._getPriorityAndUpdateTaskIfRelevant(task, task.data)\n\t\tif (this._allowsParallel === false) {\n\t\t\tthis._tasksArray.push(task)\n\t\t\tif (this._hasStarted === true && this._isRunning === false) {\n\t\t\t\tthis._runNextTaskInQueue()\n\t\t\t}\n\t\t} else if (priority <= this._maxPriority) {\n\t\t\tthis._tasksArray.push(task)\n\t\t\tif (this._hasStarted === true) {\n\t\t\t\tthis._runTask(task)\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateTaskWithData(task, data) { // The task cannot be running already at this stage\n\t\tthis._getPriorityAndUpdateTaskIfRelevant(task, data)\n\t}\n\n\t_runTask(task) {\n\t\tif (this._allowsParallel === false) {\n\t\t\tthis._isRunning = true\n\t\t}\n\n\t\tconst doAtTheVeryEnd = () => {\n\t\t\t// Remove task from list\n\t\t\tconst { id } = task\n\t\t\tconst index = this._tasksArray.findIndex((arrayTask) => (arrayTask.id === id))\n\t\t\tthis._tasksArray.splice(index, 1)\n\n\t\t\t// If was an initial task, check whether all initial tasks have been run\n\t\t\tif (this._doAfterEachInitialTask) {\n\t\t\t\tthis._doAfterEachInitialTask()\n\t\t\t}\n\n\t\t\tif (this._allowsParallel === false) {\n\t\t\t\tthis._isRunning = false\n\t\t\t\tthis._runNextTaskInQueue()\n\t\t\t}\n\t\t}\n\n\t\ttask.run(doAtTheVeryEnd)\n\t}\n\n\t_runNextTaskInQueue() { // In serial mode only\n\t\tif (this.nbOfTasks === 0 || this._isRunning === true) {\n\t\t\treturn\n\t\t}\n\t\tconst nextTask = this._getTaskWithHighestPriority()\n\t\tif (!nextTask) {\n\t\t\treturn\n\t\t}\n\t\tthis._runTask(nextTask)\n\t}\n\n\t_getTaskWithHighestPriority() { // Actually the *lowest* possible value for the priority key ;)\n\t\tlet nextTask = null\n\t\tthis._tasksArray.forEach((task) => {\n\t\t\tconst { priority } = task\n\t\t\tif (!nextTask || priority < nextTask.priority) {\n\t\t\t\tnextTask = task\n\t\t\t}\n\t\t})\n\t\treturn nextTask\n\t}\n\n\tsetDoAfterEachInitialTask(doAfterEachInitialTask) {\n\t\tthis._doAfterEachInitialTask = doAfterEachInitialTask\n\t}\n\n\tstart() {\n\t\tthis._hasStarted = true\n\t\tif (this._allowsParallel === true) {\n\t\t\tthis._tasksArray.forEach((task) => {\n\t\t\t\tthis._runTask(task)\n\t\t\t})\n\t\t} else {\n\t\t\tthis._runNextTaskInQueue()\n\t\t}\n\t}\n\n\tgetTaskWithId(id) {\n\t\tconst foundTask = this._tasksArray.find((task) => (task.id === id))\n\t\treturn foundTask\n\t}\n\n}","import AsyncTaskQueue from \"./AsyncTaskQueue\"\n\nexport default class ResourceLoadTaskQueue extends AsyncTaskQueue {\n\n\tconstructor(loadingMode, maxPriority, allowsParallel, priorityFactor) {\n\n\t\t// Task priorities will be evaluated based on segment differences (absolute segmentIndex)\n\t\tconst getPriorityFromTaskData = (data) => {\n\t\t\tlet priority = 0\n\t\t\tif (!data || data.segmentIndex === null || data.pageIndex === null\n\t\t\t\t|| this._targetIndex === null) {\n\t\t\t\treturn priority\n\t\t\t}\n\t\t\tconst taskIndex = (loadingMode === \"segment\") ? data.segmentIndex : data.pageIndex\n\t\t\tpriority = taskIndex - this._targetIndex\n\n\t\t\tif (priority < 0) {\n\t\t\t\tif (priorityFactor) {\n\t\t\t\t\tpriority *= -priorityFactor\n\t\t\t\t\tpriority = Math.ceil(priority)\n\t\t\t\t} else {\n\t\t\t\t\tpriority = -priority\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn priority\n\t\t}\n\n\t\tsuper(maxPriority, allowsParallel, getPriorityFromTaskData)\n\n\t\tthis._loadingMode = loadingMode\n\t\tthis._targetIndex = null\n\t}\n\n\tupdatePriorities(targetPageIndex, targetSegmentIndex) {\n\t\tthis._targetIndex = (this._loadingMode === \"segment\") ? targetSegmentIndex : targetPageIndex\n\t\tsuper.updatePriorities()\n\t}\n\n}","export default class Task {\n\n\t// Used in AsyncTaskQueue\n\n\tget id() { return this._id }\n\n\tget data() { return this._data }\n\n\tget priority() { return this._priority }\n\n\tget forcedPriority() { return this._forcedPriority }\n\n\tconstructor(id, data, doAsync, doOnEnd, doOnKill, forcedPriority) {\n\t\tthis._id = id\n\t\tthis.setData(data)\n\t\tthis._doAsync = doAsync\n\t\tthis._doOnEnd = doOnEnd\n\t\tthis._doOnKill = doOnKill\n\t\tthis._forcedPriority = (forcedPriority !== undefined) ? forcedPriority : null\n\n\t\tthis._priority = this._forcedPriority\n\t\tthis._isRunning = false\n\t}\n\n\tsetData(data) {\n\t\tthis._data = data\n\t}\n\n\tsetPriority(priority) {\n\t\tthis._priority = priority\n\t}\n\n\trun(doAtTheVeryEnd) {\n\t\tthis._isRunning = true\n\n\t\tconst callback = () => {\n\t\t\tthis._isRunning = false\n\t\t\tif (this._doOnEnd) {\n\t\t\t\tthis._doOnEnd()\n\t\t\t}\n\t\t\tif (doAtTheVeryEnd) {\n\t\t\t\tdoAtTheVeryEnd()\n\t\t\t}\n\t\t}\n\n\t\tif (this._doAsync) {\n\t\t\tthis._doAsync()\n\t\t\t\t.then(callback)\n\t\t\t\t.catch(() => {\n\t\t\t\t\tcallback()\n\t\t\t\t})\n\t\t} else {\n\t\t\tcallback()\n\t\t}\n\t}\n\n\tkill() {\n\t\tif (this._isRunning === true && this._doOnKill) {\n\t\t\tthis._doOnKill()\n\t\t}\n\t\tthis._isRunning = false\n\t}\n\n}","import { Loader } from \"../Renderer\"\nimport TextureResource from \"./TextureResource\"\nimport VideoTextureResource from \"./VideoTextureResource\"\nimport AudioResource from \"./AudioResource\"\nimport ResourceLoadTaskQueue from \"./ResourceLoadTaskQueue\"\nimport Task from \"./Task\"\n\nimport * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nexport default class ResourceManager {\n\n\t// Used in PageNavigator\n\n\tget loadingMode() { return this._loadingMode }\n\n\tget allowsDestroy() { return this._allowsDestroy }\n\n\tget maxNbOfUnitsToLoadAfter() { return this._maxNbOfUnitsToLoadAfter }\n\n\tget maxNbOfUnitsToLoadBefore() { return this._maxNbOfUnitsToLoadBefore }\n\n\t// Used in Player\n\n\tget haveFirstResourcesLoaded() { return this._haveAllInitialTasksRun }\n\n\tconstructor(player) {\n\t\tthis._player = player\n\n\t\tthis._doWithLoadPercentChange = null\n\t\tthis._resourceSource = {}\n\n\t\tthis._resources = {}\n\n\t\tthis._taskQueue = null\n\n\t\tthis._haveAllInitialTasksRun = false\n\t\tthis._nbOfCompletedTasks = 0\n\n\t\tthis._maxNbOfUnitsToLoadAfter = 0\n\t\tthis._maxNbOfUnitsToLoadBefore = 0\n\t}\n\n\tgetResourceId(coreResourceData) {\n\t\tconst { type, path } = coreResourceData || {}\n\t\tif (!path || Utils.isAString(path) === false) {\n\t\t\treturn null\n\t\t}\n\n\t\t// Check if a resource with the same path already exists, but consider it\n\t\t// only if it is an image (duplicates are allowed for video and audio resources)\n\t\tlet resource = null\n\t\tlet i = 0\n\t\tconst resourcesArray = Object.values(this._resources)\n\t\twhile (i < resourcesArray.length && !resource) {\n\t\t\t// Duplicates are not allowed for \"image\" and \"audio\" resources\n\t\t\tif (resourcesArray[i].path === path && type !== \"video\") {\n\t\t\t\tresource = resourcesArray[i]\n\t\t\t}\n\t\t\ti += 1\n\t\t}\n\n\t\tif (!resource) { // Create and store new resource\n\t\t\tswitch (type) {\n\t\t\tcase \"image\":\n\t\t\t\tresource = new TextureResource(coreResourceData, this._player)\n\t\t\t\tbreak\n\t\t\tcase \"video\":\n\t\t\t\tresource = new VideoTextureResource(coreResourceData, this._player)\n\t\t\t\tbreak\n\t\t\tcase \"audio\":\n\t\t\t\tresource = new AudioResource(coreResourceData, this._player)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\treturn null\n\t\t\t}\n\t\t\tthis._resources[resource.id] = resource\n\t\t}\n\n\t\tconst { id } = resource\n\t\treturn id\n\t}\n\n\tgetResourceWithId(resourceId) {\n\t\treturn this._resources[resourceId] || {}\n\t}\n\n\t// Used in Player to configure ResourceManager\n\tsetResourceSourceAndOptions(resourceSource, options) {\n\t\tthis._resourceSource = resourceSource\n\n\t\tconst {\n\t\t\tloadingMode,\n\t\t\tallowsDestroy,\n\t\t\tallowsParallel,\n\t\t\tvideoLoadTimeout = constants.DEFAULT_VIDEO_LOAD_TIMEOUT,\n\t\t} = options || {}\n\n\t\tconst shouldReturnDefaultValue = true\n\t\tthis._loadingMode = Utils.returnValidValue(\"loadingMode\", loadingMode,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._allowsDestroy = Utils.returnValidValue(\"allowsDestroy\", allowsDestroy,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._allowsParallel = Utils.returnValidValue(\"allowsParallel\", allowsParallel,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._videoLoadTimeout = videoLoadTimeout\n\n\t\tlet priorityFactor = 1\n\n\t\tconst { maxNbOfUnitsToLoadAfter } = options || {}\n\n\t\tif (maxNbOfUnitsToLoadAfter === null) { // If was explicitly set as null!\n\t\t\tthis._maxNbOfUnitsToLoadAfter = null\n\t\t\tthis._maxNbOfUnitsToLoadBefore = null\n\t\t\tpriorityFactor = Math.max((1 / constants.MIN_SHARE_OF_UNITS_TO_LOAD_BEFORE) - 1, 1)\n\n\t\t} else {\n\t\t\tthis._maxNbOfUnitsToLoadAfter = (Utils.isANumber(maxNbOfUnitsToLoadAfter) === true\n\t\t\t\t&& maxNbOfUnitsToLoadAfter >= 0)\n\t\t\t\t? maxNbOfUnitsToLoadAfter\n\t\t\t\t: constants.DEFAULT_MAX_NB_OF_UNITS_TO_LOAD_AFTER\n\t\t\tthis._maxNbOfUnitsToLoadAfter = Math.ceil(this._maxNbOfUnitsToLoadAfter)\n\n\t\t\tthis._maxNbOfUnitsToLoadBefore = this._maxNbOfUnitsToLoadAfter\n\t\t\tthis._maxNbOfUnitsToLoadBefore *= constants.MIN_SHARE_OF_UNITS_TO_LOAD_BEFORE\n\t\t\tthis._maxNbOfUnitsToLoadBefore = Math.ceil(this._maxNbOfUnitsToLoadBefore)\n\n\t\t\tpriorityFactor = (this._maxNbOfUnitsToLoadAfter / this._maxNbOfUnitsToLoadBefore) || 1\n\t\t}\n\n\t\tthis._buildAsyncTaskQueue(priorityFactor)\n\t}\n\n\t_buildAsyncTaskQueue(priorityFactor) {\n\t\tconst { slices } = this._player\n\t\tconst nbOfSlices = Object.keys(slices).length\n\t\tconst maxPriority = this._maxNbOfUnitsToLoadAfter || nbOfSlices\n\n\t\tthis._taskQueue = new ResourceLoadTaskQueue(this._loadingMode, maxPriority,\n\t\t\tthis._allowsParallel, priorityFactor)\n\t}\n\n\tsetDoWithLoadPercentChange(doWithLoadPercentChange) {\n\t\tif (!doWithLoadPercentChange) {\n\t\t\treturn\n\t\t}\n\t\tthis._doWithLoadPercentChange = doWithLoadPercentChange\n\t\tthis._doWithLoadPercentChange(0)\n\t}\n\n\t// Stop all loading tasks when setting (including changing) the page navigator (used in Player)\n\tkillPendingLoads() {\n\t\tif (!this._taskQueue) {\n\t\t\treturn\n\t\t}\n\t\tthis._taskQueue.reset()\n\t\t// Note that killing all tasks will call their respective resource.cancelLoad()\n\t\tthis._nbOfCompletedTasks = 0\n\t}\n\n\t// Used in PageNavigator (way to update priorities for load tasks if some are still pending))\n\tupdatePriorities(targetPageIndex, targetSegmentIndex) {\n\t\tthis._taskQueue.updatePriorities(targetPageIndex, targetSegmentIndex)\n\t}\n\n\t// Used in PageNavigator (sliceResourceDataArray.length=1 except for a sequence)\n\tloadResources(sliceResourceDataArray, pageIndex, segmentIndex) {\n\t\tlet taskId = null\n\n\t\tconst resourceIdsToLoadArray = []\n\t\tsliceResourceDataArray.forEach(({ resourceId, fragment, sliceId }) => {\n\t\t\tif (this._resources[resourceId]) {\n\t\t\t\tconst resource = this._resources[resourceId] || {}\n\t\t\t\tif (resource.type !== \"audio\") { // addOrUpdateFragment is only defined for a TextureResource\n\t\t\t\t\tresource.addOrUpdateFragment(fragment, sliceId)\n\t\t\t\t}\n\n\t\t\t\t// If has not started loading, start preparing the loading task\n\t\t\t\tif (resource.hasNotStartedLoading === true) {\n\t\t\t\t\tif (taskId === null) {\n\t\t\t\t\t\ttaskId = String(resourceId)\n\t\t\t\t\t} else { // For a sequence, all images are loaded together as just one task\n\t\t\t\t\t\ttaskId += String(resourceId)\n\t\t\t\t\t}\n\t\t\t\t\tresourceIdsToLoadArray.push(resourceId)\n\t\t\t\t\tresource.notifyLoadStart()\n\n\t\t\t\t// Otherwise if a texture has been loaded, ensure it is applied\n\t\t\t\t} else if (resource.hasLoadedSomething === true && resource.type !== \"audio\") {\n\t\t\t\t\tconst { slices } = this._player\n\t\t\t\t\tresource.applyAllTextures(slices)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tconst callback = () => {\n\t\t\tconst { slices } = this._player\n\t\t\tresourceIdsToLoadArray.forEach((resourceId) => {\n\t\t\t\tconst resource = this._resources[resourceId]\n\t\t\t\tif (resource && resource.type !== \"audio\") {\n\t\t\t\t\tresource.applyAllTextures(slices)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\t// Note that callback will ensure slice.loadStatus=2 (or -1),\n\t\t// which will prevent re-triggering loadResourcesWithIds for the slice\n\t\tif (resourceIdsToLoadArray.length === 0) {\n\t\t\tcallback()\n\t\t\treturn\n\t\t}\n\n\t\tlet task = this._taskQueue.getTaskWithId(taskId)\n\t\tconst data = { pageIndex, segmentIndex }\n\n\t\t// Add resource load task to queue if not already in queue\n\t\tif (!task) {\n\t\t\tconst loader = new Loader()\n\t\t\tconst doAsync = () => this._loadResources(resourceIdsToLoadArray, loader)\n\t\t\tconst doOnEnd = callback\n\t\t\tconst doOnKill = () => {\n\t\t\t\t// Cancel loading for resources not loaded yet (and thus change their load status)\n\t\t\t\tloader.reset()\n\t\t\t\tconst { slices } = this._player\n\t\t\t\tresourceIdsToLoadArray.forEach((resourceId) => {\n\t\t\t\t\tif (this._resources[resourceId]) {\n\t\t\t\t\t\tconst resource = this._resources[resourceId]\n\t\t\t\t\t\tif (resource.hasLoadedSomething === false) {\n\t\t\t\t\t\t\tresource.cancelLoad(slices)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\ttask = new Task(taskId, data, doAsync, doOnEnd, doOnKill)\n\t\t\tthis._taskQueue.addTask(task)\n\n\t\t// In serial mode, if task exists, update data to potentially update its priority\n\t\t} else if (this._allowsParallel === false) {\n\t\t\tthis._taskQueue.updateTaskWithData(data)\n\t\t}\n\t}\n\n\t_loadResources(resourceIdsArray, loader) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis._addResourcesToLoaderAndLoad(resourceIdsArray, loader, resolve, reject)\n\t\t})\n\t}\n\n\t_addResourcesToLoaderAndLoad(resourceIdsArray, loader, resolve, reject) {\n\t\tconst firstResourceId = resourceIdsArray[0]\n\t\tconst firstResource = this._resources[firstResourceId]\n\t\tif (!firstResource) {\n\t\t\treject()\n\t\t\treturn\n\t\t}\n\n\t\tif (firstResource.type === \"audio\" || firstResource.type === \"video\") {\n\n\t\t\t// Only consider a video if it is alone, i.e. not in a sequence\n\t\t\t// (more constraining than what the type itself allows)\n\t\t\tif (resourceIdsArray.length !== 1) {\n\t\t\t\treject()\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst { path } = firstResource\n\t\t\tconst src = this._getSrc(path)\n\n\t\t\tif (firstResource.type === \"audio\") {\n\t\t\t\tconst doOnAudioLoadSuccess = (data) => {\n\t\t\t\t\tthis._acknowledgeResourceHandling([data], resolve)\n\t\t\t\t}\n\t\t\t\tfirstResource.attemptToLoadAudio(src, doOnAudioLoadSuccess, this._videoLoadTimeout,\n\t\t\t\t\tthis._allowsParallel, resolve)\n\n\t\t\t} else if (firstResource.type === \"video\") {\n\t\t\t\tconst doOnVideoLoadSuccess = (resolve2, textureData) => {\n\t\t\t\t\tthis._acknowledgeResourceHandling([textureData], resolve2)\n\t\t\t\t}\n\t\t\t\tconst doOnVideoLoadFail = (resolve2, fallbackPath = null) => {\n\t\t\t\t\tif (fallbackPath) {\n\t\t\t\t\t\tconst resourceData = { resourceId: firstResourceId, path, fallbackPath }\n\t\t\t\t\t\tthis._addToLoaderAndLoad([resourceData], loader, resolve2)\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst { slices } = this._player\n\t\t\t\t\t\tfirstResource.cancelLoad(slices)\n\t\t\t\t\t\tresolve2()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfirstResource.attemptToLoadVideo(src, doOnVideoLoadSuccess, doOnVideoLoadFail,\n\t\t\t\t\tthis._videoLoadTimeout, this._allowsParallel, resolve)\n\t\t\t}\n\n\t\t} else {\n\t\t\tconst resourceDataArray = []\n\t\t\tresourceIdsArray.forEach((resourceId) => {\n\t\t\t\tif (this._resources[resourceId]) {\n\t\t\t\t\tconst { type, path } = this._resources[resourceId]\n\t\t\t\t\t// Reminder: a sequence transition forces its resourcesArray\n\t\t\t\t\t// to only contain image types anyway\n\t\t\t\t\tif (type === \"image\") {\n\t\t\t\t\t\tresourceDataArray.push({ resourceId, path })\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis._addToLoaderAndLoad(resourceDataArray, loader, resolve)\n\t\t}\n\t}\n\n\t_getSrc(path, fallbackPath = null) {\n\t\tlet src = fallbackPath || path\n\n\t\tconst { folderPath, data } = this._resourceSource\n\n\t\t// If src has a scheme, use the address as is, otherwise add folderPath as prefix\n\t\tif (folderPath && Utils.hasAScheme(src) === false) {\n\t\t\tsrc = `${folderPath}/${src}`\n\n\t\t// If the story was opened with data (i.e. not from a folder)\n\t\t// and the resource is a video, use the dataURI as src\n\t\t} else if (data && data.base64DataByHref) {\n\t\t\tsrc = data.base64DataByHref[path]\n\t\t}\n\n\t\treturn src\n\t}\n\n\t_addToLoaderAndLoad(resourceDataArray, loader, resolve) {\n\t\tresourceDataArray.forEach(({ resourceId, path, fallbackPath }) => {\n\t\t\tthis._addToLoader(loader, resourceId, path, fallbackPath)\n\t\t})\n\t\tthis._load(loader, resolve)\n\t}\n\n\t_addToLoader(loader, resourceId, path, fallbackPath = null) {\n\t\tconst src = this._getSrc(path, fallbackPath)\n\t\tloader.add(resourceId, src)\n\t}\n\n\t_load(loader, resolve) {\n\t\tif (loader.hasTasks === true) {\n\t\t\t// If loading succeeds, move on\n\t\t\tloader.onComplete((dataArray) => {\n\t\t\t\tthis._acknowledgeResourceHandling(dataArray, resolve)\n\t\t\t})\n\t\t\tloader.load()\n\t\t} else {\n\t\t\tthis._acknowledgeResourceHandling(null, resolve)\n\t\t}\n\t}\n\n\t_acknowledgeResourceHandling(dataArray, resolve) {\n\t\tif (dataArray) {\n\t\t\tdataArray.forEach((textureData) => {\n\t\t\t\tconst { resourceId } = textureData || {}\n\t\t\t\tif (resourceId !== undefined && this._resources[resourceId]\n\t\t\t\t\t&& this._resources[resourceId].type !== \"audio\") {\n\t\t\t\t\tconst textureResource = this._resources[resourceId]\n\t\t\t\t\ttextureResource.setActualTexture(textureData)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tresolve()\n\t}\n\n\t// Used in Player\n\trunInitialTasks(doAfterRunningInitialTasks, forcedNb = null) {\n\t\t// Start the async queue with a function to handle a change in load percent\n\t\tthis._nbOfCompletedTasks = 0\n\t\tlet nbOfTasks = forcedNb || this._taskQueue.nbOfTasks\n\t\tnbOfTasks = Math.min(nbOfTasks, this._taskQueue.nbOfTasks)\n\n\t\tconst doAfterEachInitialTask = () => {\n\t\t\tthis._nbOfCompletedTasks += 1\n\t\t\tif (this._doWithLoadPercentChange) {\n\t\t\t\tconst percent = (nbOfTasks > 0) ? (this._nbOfCompletedTasks / nbOfTasks) : 1\n\t\t\t\tconst loadPercent = Math.round(100 * percent)\n\t\t\t\tthis._doWithLoadPercentChange(loadPercent)\n\t\t\t}\n\n\t\t\tif (this._nbOfCompletedTasks === nbOfTasks && doAfterRunningInitialTasks) {\n\t\t\t\tthis._taskQueue.setDoAfterEachInitialTask(null)\n\t\t\t\tthis._haveAllInitialTasksRun = true\n\t\t\t\tdoAfterRunningInitialTasks()\n\t\t\t}\n\t\t}\n\t\tthis._taskQueue.setDoAfterEachInitialTask(doAfterEachInitialTask)\n\t\tthis._taskQueue.start()\n\t}\n\n\t// Used in SequenceSlice\n\tgetTextureWithId(resourceId, fragment = null) {\n\t\tif (!this._resources[resourceId] || this._resources[resourceId].type === \"audio\") {\n\t\t\treturn null\n\t\t}\n\t\tconst resource = this._resources[resourceId]\n\t\tconst texture = resource.getTextureForFragment(fragment)\n\t\treturn texture\n\t}\n\n\t// Used in Slice (and SequenceSlice)\n\tdestroyResourceForSliceIfPossible(resourceId) {\n\t\tif (!this._resources[resourceId] || this._resources[resourceId].type === \"audio\") {\n\t\t\treturn\n\t\t}\n\t\tconst textureResource = this._resources[resourceId]\n\t\tconst forceDestroy = false\n\t\tconst { slices } = this._player\n\t\ttextureResource.destroyIfPossible(forceDestroy, slices)\n\t}\n\n\t// Used in PageNavigator (after a change in reading mode or tag)\n\tforceDestroyAllResourcesExceptIds(resourceIdsArray) {\n\t\tObject.values(this._resources).forEach((resource) => {\n\t\t\tconst { id, hasLoadedSomething } = resource\n\t\t\tif (hasLoadedSomething === true && resourceIdsArray.includes(id) === false) {\n\t\t\t\tconst forceDestroy = true\n\t\t\t\tconst { slices } = this._player\n\t\t\t\tresource.destroyIfPossible(forceDestroy, slices)\n\t\t\t}\n\t\t})\n\n\t}\n\n\t// Used in Player (on app destroy)\n\tdestroy() {\n\t\tthis.killPendingLoads()\n\t\tObject.values(this._resources).forEach((resource) => {\n\t\t\tif (resource.type !== \"audio\") {\n\t\t\t\tconst forceDestroy = true\n\t\t\t\tconst { slices } = this._player\n\t\t\t\tresource.destroyIfPossible(forceDestroy, slices)\n\t\t\t}\n\t\t})\n\t\tthis._resources = null\n\t\tthis._taskQueue = null\n\t}\n\n}","export default class TimeAnimationManager {\n\n\tconstructor(player) {\n\t\tthis._player = player\n\t\tthis._animations = {}\n\n\t\tthis._oldPageIndex = null\n\t}\n\n\t// Used in StoryBuilder\n\n\taddSoundAnimations(soundAnimations, pageIndex) {\n\t\tif (pageIndex === null) { // Global sound animations\n\t\t\tthis._animations.global = { isActive: false, soundAnimations }\n\t\t} else { // Page sound animations\n\t\t\tif (!this._animations[pageIndex]) {\n\t\t\t\tthis._animations[pageIndex] = { isActive: false }\n\t\t\t}\n\t\t\tthis._animations[pageIndex].soundAnimations = soundAnimations\n\t\t}\n\t}\n\n\taddSliceAnimation(slice, animation, pageIndex) {\n\t\tif (!this._animations[pageIndex]) {\n\t\t\tthis._animations[pageIndex] = { isActive: false }\n\t\t}\n\t\tif (!this._animations[pageIndex].sliceAnimations) {\n\t\t\tthis._animations[pageIndex].sliceAnimations = []\n\t\t}\n\t\tthis._animations[pageIndex].sliceAnimations.push({ slice, animation })\n\t}\n\n\t// Used in PageNavigator (on finalizeEntry, i.e. at the end of a page transition)\n\tinitializeAnimations(pageIndex) {\n\t\t// Ensure global sound animations are playing\n\t\tif (this._animations.global && this._animations.global.isActive === false) {\n\t\t\tthis._animations.global.soundAnimations.forEach(({ resourceId }) => {\n\t\t\t\tconst { resourceManager } = this._player\n\t\t\t\tconst resource = resourceManager.getResourceWithId(resourceId)\n\t\t\t\tif (resource) {\n\t\t\t\t\tresource.playIfNeeded()\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis._animations.global.isActive = true\n\t\t}\n\n\t\tconst audioResourcesToStopSet = this._stopAnimationsAndReturnAudioResources(this._oldPageIndex)\n\n\t\tconst { resourceManager } = this._player\n\n\t\t// Now deal with new page animations\n\n\t\tif (this._animations[pageIndex]) {\n\t\t\tthis._animations[pageIndex].isActive = true\n\n\t\t\tconst initialDate = Date.now()\n\n\t\t\tconst { soundAnimations, sliceAnimations } = this._animations[pageIndex]\n\n\t\t\t// Initiate all sound animations\n\t\t\tif (soundAnimations) {\n\t\t\t\tsoundAnimations.forEach((animation) => {\n\t\t\t\t\tconst { resourceId, start } = animation\n\t\t\t\t\tif (audioResourcesToStopSet.has(resourceId) === true && start === 0) {\n\t\t\t\t\t\taudioResourcesToStopSet.delete(resourceId)\n\t\t\t\t\t}\n\t\t\t\t\tthis._runSoundAnimation(pageIndex, animation, initialDate)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// Initiate all slice animations\n\t\t\tif (sliceAnimations) {\n\t\t\t\tsliceAnimations.forEach(({ slice, animation }) => {\n\t\t\t\t\tthis._runSliceAnimation(pageIndex, animation, initialDate, slice)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t// Stop all remaining old sounds\n\t\taudioResourcesToStopSet.forEach((resourceId) => {\n\t\t\tconst audioResource = resourceManager.getResourceWithId(resourceId)\n\t\t\tif (audioResource) {\n\t\t\t\taudioResource.resetForPlay()\n\t\t\t}\n\t\t})\n\n\t\tthis._oldPageIndex = pageIndex\n\t}\n\n\t_stopAnimationsAndReturnAudioResources(pageIndex) {\n\t\tconst audioResourcesToStopSet = new Set()\n\n\t\tif (pageIndex === null || pageIndex === undefined || !this._animations[pageIndex]) {\n\t\t\treturn audioResourcesToStopSet\n\t\t}\n\n\t\tthis._animations[pageIndex].isActive = false\n\n\t\tconst { soundAnimations, sliceAnimations } = this._animations[pageIndex]\n\n\t\tif (soundAnimations) {\n\t\t\tsoundAnimations.forEach((animation) => {\n\t\t\t\tconst { raf, resourceId } = animation\n\t\t\t\tcancelAnimationFrame(raf)\n\t\t\t\taudioResourcesToStopSet.add(resourceId)\n\t\t\t})\n\t\t}\n\n\t\tif (sliceAnimations) {\n\t\t\tsliceAnimations.forEach(({ slice, animation }) => {\n\t\t\t\t// If the initial value is not defined, then no change has been applied to the slice\n\t\t\t\tconst { raf, variable, initialValue } = animation\n\t\t\t\tcancelAnimationFrame(raf)\n\t\t\t\tif (initialValue !== undefined) {\n\t\t\t\t\tslice.setVariable(variable, initialValue)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn audioResourcesToStopSet\n\t}\n\n\t_runSoundAnimation(pageIndex, animation, initialDate) {\n\t\tlet isFirstPlayInPage = true\n\n\t\tconst { resourceId, start, end } = animation\n\t\tconst { resourceManager } = this._player\n\t\tconst resource = resourceManager.getResourceWithId(resourceId)\n\t\tif (!resource) {\n\t\t\treturn\n\t\t}\n\n\t\tconst loop = () => {\n\t\t\tconst { isActive } = this._animations[pageIndex]\n\t\t\tif (isActive === false) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst date = Date.now()\n\t\t\tif (date < initialDate + start) { // Before start\n\t\t\t\tanimation.raf = requestAnimationFrame(loop)\n\t\t\t} else if (!end) {\n\t\t\t\tif (isFirstPlayInPage === true) {\n\t\t\t\t\tresource.playIfNeeded()\n\t\t\t\t\tisFirstPlayInPage = false\n\t\t\t\t}\n\t\t\t\tanimation.raf = requestAnimationFrame(loop)\n\t\t\t} else if (date < initialDate + end) {\n\t\t\t\tif (isFirstPlayInPage === true) {\n\t\t\t\t\tresource.playIfNeeded()\n\t\t\t\t\tisFirstPlayInPage = false\n\t\t\t\t}\n\t\t\t\tanimation.raf = requestAnimationFrame(loop)\n\t\t\t} else {\n\t\t\t\tresource.stopIfNeeded()\n\t\t\t}\n\t\t}\n\n\t\tanimation.raf = requestAnimationFrame(loop)\n\t}\n\n\t_runSliceAnimation(pageIndex, animation, initialDate, slice) {\n\t\tconst { variable, keyframesArray } = animation\n\t\tif (!keyframesArray || keyframesArray.length <= 1) {\n\t\t\treturn\n\t\t}\n\t\tlet lastKeyframe = null // Then: { key, value }\n\t\tlet keyframeIndex = 0\n\t\tlet keyframe = keyframesArray[keyframeIndex]\n\t\tlet { key, value } = keyframe\n\n\t\tconst initialValue = slice.getVariable(variable) // Get current value for desired variable\n\t\tanimation.initialValue = initialValue\n\n\t\tconst loop = () => {\n\t\t\tconst { isActive } = this._animations[pageIndex]\n\t\t\tif (isActive === false) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst date = Date.now()\n\n\t\t\tif (date < initialDate + key) {\n\n\t\t\t\t// Before start (i.e. before first keyframe)\n\t\t\t\tif (!lastKeyframe) {\n\t\t\t\t\tanimation.raf = requestAnimationFrame(loop)\n\n\t\t\t\t// Between two keyframes (linear easing is assumed)\n\t\t\t\t} else {\n\t\t\t\t\tconst duration = key - lastKeyframe.key\n\t\t\t\t\tif (duration > 0) {\n\t\t\t\t\t\tconst multiplier = (date - lastKeyframe.key - initialDate) / duration\n\t\t\t\t\t\tconst currentValue = lastKeyframe.value + (value - lastKeyframe.value) * multiplier\n\t\t\t\t\t\tslice.setVariable(variable, currentValue)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslice.setVariable(variable, value)\n\t\t\t\t\t}\n\t\t\t\t\tthis._player.refreshOnce()\n\t\t\t\t\tanimation.raf = requestAnimationFrame(loop)\n\t\t\t\t}\n\n\t\t\t} else { // Go to next keyframe (if possible)\n\t\t\t\tslice.setVariable(variable, value)\n\t\t\t\tthis._player.refreshOnce()\n\n\t\t\t\tkeyframeIndex += 1\n\t\t\t\tif (keyframeIndex >= keyframesArray.length) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlastKeyframe = keyframe\n\t\t\t\tkeyframe = keyframesArray[keyframeIndex]\n\t\t\t\tkey = keyframe.key\n\t\t\t\tvalue = keyframe.value\n\n\t\t\t\tanimation.raf = requestAnimationFrame(loop)\n\t\t\t}\n\t\t}\n\n\t\tif (initialValue !== null) {\n\t\t\tanimation.raf = requestAnimationFrame(loop)\n\t\t}\n\t}\n\n\t// Used in Player, on destroying the player\n\tdestroy() {\n\t\tthis._stopAnimationsAndReturnAudioResources(this._oldPageIndex)\n\t\tthis._animations = {}\n\t}\n\n}","export default class EventEmitter {\n\n\tconstructor() {\n\t\tthis._callbacks = {}\n\t}\n\n\ton(event, callback) {\n\t\tif (!this._callbacks[event]) {\n\t\t\tthis._callbacks[event] = []\n\t\t}\n\t\tthis._callbacks[event].push(callback)\n\t}\n\n\temit(event, data) {\n\t\tconst callbacksArray = this._callbacks[event]\n\t\tif (!callbacksArray) {\n\t\t\treturn\n\t\t}\n\t\tcallbacksArray.forEach((callback) => {\n\t\t\tcallback(data)\n\t\t})\n\t}\n\n}","import { TextureElement } from \"../Renderer\"\n\nimport * as constants from \"../constants\"\n\n// Note that size is obtained from underlying TextureElement\n\nexport default class Slice extends TextureElement {\n\n\t// Used in Player\n\tget id() { return this._id }\n\n\t// Used in TagManager\n\tget resourceInfoArray() { return this._resourceInfoArray }\n\n\t// Used in StoryBuilder and Player\n\tget pageNavInfo() { return this._pageNavInfo }\n\n\t// Used in StoryBuilder\n\tget pageSide() { return (this._properties) ? this._properties.pageSide : null }\n\n\t// Used in StateHandler\n\tget canPlay() { return (this._duration > 0) }\n\n\t// Used in SequenceSlice, Layer and ResourceManager\n\tget loadStatus() { return this._loadStatus }\n\n\t// Used in TextSlice\n\tget hasVariableSize() {\n\t\treturn (!this._referenceSize\n\t\t\t|| (this._referenceSize.width === null || this._referenceSize.height === null))\n\t}\n\n\t// Used in TextureResource\n\tget isActive() {\n\t\tif (!this.parent) {\n\t\t\treturn true\n\t\t}\n\t\tconst { pageNavigator } = this.player\n\t\tconst { segmentRange } = pageNavigator\n\t\tconst { startIndex, endIndex } = segmentRange\n\t\tconst { segmentIndex } = this.parent\n\t\treturn (segmentIndex >= startIndex && segmentIndex <= endIndex)\n\t}\n\n\t// Used below\n\n\tstatic get counter() {\n\t\tSlice._counter = (Slice._counter === undefined)\n\t\t\t? 0\n\t\t\t: (Slice._counter + 1)\n\t\treturn Slice._counter\n\t}\n\n\tget _video() { return (this._videoTexture) ? this._videoTexture.video : null }\n\n\tget _resourceManager() { return this.player.resourceManager }\n\n\t// Used in SequenceSlice\n\tget properties() { return this._properties }\n\n\t// Used in SequenceSlice\n\tset loadStatus(loadStatus) { this._loadStatus = loadStatus }\n\n\tconstructor(resourceInfoArray, properties, player, parentInfo = null) {\n\t\tconst { role } = properties\n\t\tsuper(role, player, parentInfo)\n\n\t\tthis._id = Slice.counter\n\n\t\tthis._resourceInfoArray = resourceInfoArray\n\t\tthis._properties = properties\n\n\t\tthis.player.addSlice(this._id, this)\n\n\t\tconst main = (resourceInfoArray && Array.isArray(resourceInfoArray) === true\n\t\t\t&& resourceInfoArray.length > 0)\n\t\t\t? resourceInfoArray[0]\n\t\t\t: null\n\t\tconst { id } = main || {}\n\t\tconst { resourceManager } = player\n\t\tconst mainResource = resourceManager.getResourceWithId(id) || {}\n\t\tconst {\n\t\t\ttype = properties.type,\n\t\t\twidth = properties.width,\n\t\t\theight = properties.height,\n\t\t} = mainResource\n\t\tthis._type = `${type}Slice`\n\n\t\t// Set a (surely temporary) size\n\t\tthis._referenceSize = { width, height }\n\t\tthis._updateSizeFromReferenceSize()\n\n\t\t// Add a dummy texture to begin with\n\t\tthis._hasLoadedOnce = false\n\t\tif (role === \"empty\") {\n\t\t\tthis._loadStatus = 2\n\t\t} else if (type === \"text\") {\n\t\t\tthis._loadStatus = 2\n\t\t} else {\n\t\t\tthis.assignDummyTexture()\n\t\t\tthis._loadStatus = 0\n\t\t}\n\n\t\tthis._pageNavInfo = {}\n\n\t\tthis._videoTexture = null\n\t\tthis._doOnEnd = null\n\n\t\tthis._playLoop = null\n\t}\n\n\t_updateSizeFromReferenceSize() {\n\t\tconst { width, height } = this._referenceSize\n\t\tif (width && height) {\n\t\t\tthis.setSize(this._referenceSize)\n\t\t} else {\n\t\t\tconst { viewportRect } = this.player\n\t\t\tconst viewportRatio = (viewportRect.height > 0)\n\t\t\t\t? (viewportRect.width / viewportRect.height)\n\t\t\t\t: 1\n\t\t\tif (width) {\n\t\t\t\tconst size = { width, height: width / viewportRatio }\n\t\t\t\tthis.setSize(size)\n\t\t\t} else if (height) {\n\t\t\t\tconst size = { height, width: height * viewportRatio }\n\t\t\t\tthis.setSize(size)\n\t\t\t} else {\n\t\t\t\tthis.setSize(viewportRect)\n\t\t\t}\n\t\t}\n\t}\n\n\t// Used in StoryBuilder\n\tsetPageNavInfo(type, pageNavInfo) {\n\t\tthis._pageNavInfo[type] = pageNavInfo\n\t}\n\n\t// Used in Layer (for PageNavigator)\n\tgetResourceIdsToLoad(force = false) { // force = true on changing tags or reading modes\n\t\tif (this.role === \"empty\" || this._type === \"textSlice\"\n\t\t\t|| (force === false && (this._loadStatus === 1 || this._loadStatus === 2))) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst { id, fragment } = this.getRelevantResourceIdAndFragment(this._resourceInfoArray)\n\n\t\tif (id === null) {\n\t\t\tthis._loadStatus = 0\n\t\t\tthis._updateParentLoadStatus()\n\t\t\treturn []\n\t\t}\n\n\t\tthis._loadStatus = 1\n\t\tthis._updateParentLoadStatus()\n\t\tthis.addAndStartLoadingAnimation()\n\t\treturn [[{ sliceId: this._id, resourceId: id, fragment }]]\n\t}\n\n\tgetRelevantResourceIdAndFragment(resourceInfoArray) {\n\t\tlet { id, fragment } = resourceInfoArray[0] || {}\n\n\t\tif (resourceInfoArray.length < 2) {\n\t\t\treturn { id, fragment }\n\t\t}\n\n\t\t// Check which alternate is most appropriate\n\t\tconst reworkedArray = resourceInfoArray.map((resourceInfo) => {\n\t\t\tconst resource = this._resourceManager.getResourceWithId(resourceInfo.id)\n\t\t\tconst { path, tags } = resource || {}\n\t\t\treturn {\n\t\t\t\t...tags, id: resourceInfo.id, path, fragment: resourceInfo.fragment,\n\t\t\t}\n\t\t})\n\n\t\tconst result = this.player.getBestMatchForCurrentTags(reworkedArray)\n\t\tid = result.id\n\t\tfragment = result.fragment\n\n\t\treturn { id, fragment }\n\t}\n\n\t_updateParentLoadStatus() {\n\t\tconst { pageNavigator } = this.player\n\t\tif (!pageNavigator) { // On Player destroy, pageNavigator is already null\n\t\t\treturn\n\t\t}\n\t\tconst { pageNavType } = pageNavigator\n\t\tif (!this._pageNavInfo[pageNavType] // If Slice is not in current pageNavigator anymore...\n\t\t\t|| !this.parent || !this.parent.updateLoadStatus) {\n\t\t\treturn\n\t\t}\n\t\tthis.parent.updateLoadStatus()\n\t}\n\n\t// Once the associated texture has been created, it can be applied to the slice\n\tupdateTextures(texture, isAFallback) {\n\t\tif (!texture) {\n\t\t\tthis._loadStatus = 0\n\t\t\tthis.assignDummyTexture()\n\n\t\t} else {\n\t\t\tthis._loadStatus = (isAFallback === true) ? -1 : 2\n\n\t\t\tif (texture !== this._texture) { // this._texture is to be found in TextureElement\n\t\t\t\tconst { video, size } = texture\n\t\t\t\tconst { width, height } = size\n\n\t\t\t\t// If the texture is a normal image or fallback image\n\t\t\t\tif (!video) {\n\t\t\t\t\tthis.setTexture(texture)\n\t\t\t\t\tthis.player.refreshOnce()\n\n\t\t\t\t\tif (this._hasLoadedOnce === false) {\n\t\t\t\t\t\t// The dimensions are now correct and can be kept\n\t\t\t\t\t\tthis.setSizeFromActualTexture(width, height)\n\t\t\t\t\t\tthis._hasLoadedOnce = true\n\t\t\t\t\t}\n\n\t\t\t\t// Otherwise, if the texture is a video\n\t\t\t\t} else if (video.duration) {\n\t\t\t\t\tthis._videoTexture = texture\n\n\t\t\t\t\tif (this._hasLoadedOnce === false) {\n\t\t\t\t\t\tthis._duration = video.duration\n\n\t\t\t\t\t\t// The dimensions are now correct and can be kept\n\t\t\t\t\t\tthis.setSizeFromActualTexture(width, height)\n\n\t\t\t\t\t\tthis._hasLoadedOnce = true\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._doOnEnd = null\n\n\t\t\t\t\tif (this._shouldPlay === true) {\n\t\t\t\t\t\tthis.play()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._updateParentLoadStatus()\n\t\tthis.stopAndRemoveLoadingAnimation()\n\t}\n\n\t// On the first successful loading of the resource's texture\n\tsetSizeFromActualTexture(width, height) {\n\t\tif (width === this.unscaledSize.width && height === this.unscaledSize.height) {\n\t\t\treturn\n\t\t}\n\t\tthis.setSize({ width, height })\n\n\t\t// Now only resize the page where this slice appears\n\t\tif (this._parent && this.isActive === true) {\n\t\t\tthis._parent.resizePage()\n\t\t}\n\t}\n\n\tcancelTextureLoad() {\n\t\tthis._loadStatus = 0\n\t\tthis._updateParentLoadStatus()\n\t\tthis.stopAndRemoveLoadingAnimation()\n\t}\n\n\tplay() {\n\t\tthis._shouldPlay = true\n\t\tif (!this._video) {\n\t\t\treturn\n\t\t}\n\n\t\tconst shouldUseRaf = ((\"requestVideoFrameCallback\" in HTMLVideoElement.prototype) === false)\n\n\t\tconst playPromise = this._video.play()\n\t\tif (playPromise !== undefined) {\n\t\t\tplayPromise.then(() => {\n\t\t\t\tthis.setVideoTexture(this._videoTexture)\n\t\t\t\tthis._playLoop = () => {\n\t\t\t\t\tif (this.isInViewport === true) {\n\t\t\t\t\t\tthis.player.refreshOnce()\n\t\t\t\t\t}\n\t\t\t\t\tif (this._playLoop) {\n\t\t\t\t\t\tif (shouldUseRaf === false) {\n\t\t\t\t\t\t\tthis._video.requestVideoFrameCallback(this._playLoop)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trequestAnimationFrame(this._playLoop)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._playLoop()\n\t\t\t}).catch(() => {\n\t\t\t\t// Caught error prevents play (keep the catch to avoid issues with video pause)\n\t\t\t})\n\t\t}\n\t}\n\n\t// Stop a video by pausing it and returning to its first frame\n\tstop() {\n\t\tthis._shouldPlay = false\n\t\tif (this._video) {\n\t\t\tthis._video.pause()\n\t\t\tthis._video.currentTime = 0\n\t\t\tthis._video.loop = true\n\t\t\tthis._destroyPlayLoop()\n\t\t}\n\t\t// Since changing pages will force a stop (on reaching the normal end of a transition\n\t\t// or forcing it), now is the appropriate time to remove the \"ended\" event listener\n\t\tif (this._doOnEnd) {\n\t\t\tthis._video.removeEventListener(\"ended\", this._doOnEnd)\n\t\t\tthis._doOnEnd = null\n\t\t}\n\t}\n\n\t_destroyPlayLoop() {\n\t\tcancelAnimationFrame(this._playLoop)\n\t\tthis._playLoop = null\n\t}\n\n\tsetDoOnEnd(doOnEnd) {\n\t\tif (!this._video) {\n\t\t\treturn\n\t\t}\n\t\tthis._video.loop = false\n\t\tthis._doOnEnd = doOnEnd.bind(this)\n\t\tthis._video.addEventListener(\"ended\", this._doOnEnd)\n\t}\n\n\tresize(sequenceFit = null) {\n\t\tif (sequenceFit) {\n\t\t\tconst sequenceClipped = false\n\t\t\tsuper.resize(sequenceFit, sequenceClipped)\n\t\t\treturn\n\t\t}\n\n\t\tif (this._type === \"textSlice\") {\n\t\t\tthis._updateSizeFromReferenceSize()\n\t\t}\n\n\t\tconst { pageNavigator } = this.player\n\t\tconst { metadata } = pageNavigator\n\n\t\tconst fit = metadata.forcedFit || this._properties.fit || metadata.fit\n\n\t\tlet clipped = false\n\t\tif (metadata.forcedClipped !== undefined\n\t\t\t&& (metadata.forcedClipped === true || metadata.forcedClipped === false)) {\n\t\t\tclipped = pageNavigator.metadata.forcedClipped\n\t\t} else if (this._properties !== undefined\n\t\t\t&& (this._properties.clipped === true || this._properties.clipped === false)) {\n\t\t\tclipped = this._properties.clipped\n\t\t} else {\n\t\t\tclipped = metadata.clipped\n\t\t}\n\n\t\tsuper.resize(fit, clipped)\n\t}\n\n\t// Used in Layer\n\n\tsetupForEntry() {\n\t\tthis.resize()\n\t}\n\n\tfinalizeEntry() {\n\t\tthis.play()\n\t}\n\n\tfinalizeExit() {\n\t\tthis.stop()\n\t}\n\n\t// Used in Layer\n\tdestroyResourcesIfPossible() {\n\t\tthis.stopAndRemoveLoadingAnimation()\n\n\t\tif (this._loadStatus !== 2 || this.role === \"empty\" || this._type === \"textSlice\") {\n\t\t\treturn\n\t\t}\n\n\t\tconst idsArray = this._getLoadedIds() // A different function for Slice and SequenceSlice\n\t\tidsArray.forEach((id) => {\n\t\t\tthis._resourceManager.destroyResourceForSliceIfPossible(id)\n\t\t})\n\t}\n\n\t_getLoadedIds() {\n\t\tconst { id } = this.getRelevantResourceIdAndFragment(this._resourceInfoArray)\n\t\treturn (id !== null) ? [id] : []\n\t}\n\n\t// Used in TextureResource\n\tremoveTexture() {\n\t\tif (this._video) {\n\t\t\tthis.unsetVideoTexture()\n\t\t\tthis._videoTexture = null\n\t\t} else {\n\t\t\tthis.setTexture(null)\n\t\t}\n\t\tthis.setAsUnloaded()\n\t}\n\n\t// Used above and in SequenceSlice\n\tsetAsUnloaded() {\n\t\tthis._loadStatus = 0\n\t\tthis._updateParentLoadStatus()\n\t\tthis.stopAndRemoveLoadingAnimation()\n\t}\n\n\t// Used in LayerPile (for Segment, and ultimately for Camera's virtual point)\n\t// ...but also in Player for target hrefs!\n\tgetInfo() {\n\t\tif (this.role === \"empty\" || !this._resourceInfoArray || this._resourceInfoArray.length < 1) {\n\t\t\treturn { href: \"\", path: \"\", mimeType: constants.DEFAULT_MIME_TYPE }\n\t\t}\n\t\tconst { id, fragment } = this._resourceInfoArray[0]\n\t\tconst resource = this._resourceManager.getResourceWithId(id)\n\t\tconst { path, mimeType } = resource\n\t\tlet href = path\n\t\tif (href && fragment) {\n\t\t\thref += `#${fragment}`\n\t\t}\n\t\treturn { href: href || \"\", path: path || \"\", type: mimeType || constants.DEFAULT_MIME_TYPE }\n\t}\n\n\t// Called by Player on final destroy\n\tdestroy() {\n\t\tthis._destroyPlayLoop()\n\n\t\t// Clear textures\n\t\tsuper.destroy()\n\t\tthis._videoTexture = null\n\n\t\t// Remove event listeners\n\t\tif (this._video && this._doOnEnd) {\n\t\t\tthis._video.removeEventListener(\"ended\", this._doOnEnd)\n\t\t\tthis._doOnEnd = null\n\t\t}\n\t}\n\n\t// Used in StoryBuilder\n\tstatic createEmptySlice(player) {\n\t\tconst resourceInfoArray = []\n\t\tconst properties = { role: \"empty\", type: \"empty\" }\n\t\tconst parentInfo = null\n\t\tconst slice = new Slice(resourceInfoArray, properties, player, parentInfo)\n\t\treturn slice\n\t}\n\n\t// Used in TimeAnimationManager\n\n\tsetVariable(variable, value) {\n\t\tswitch (variable) {\n\t\tcase \"alpha\":\n\t\t\tthis.setAlpha(value)\n\t\t\tbreak\n\t\tcase \"x\":\n\t\t\tthis.setX(value)\n\t\t\tbreak\n\t\tcase \"y\":\n\t\t\tthis.setY(value)\n\t\t\tbreak\n\t\tcase \"scale\":\n\t\t\tthis.setScaleFactor(value)\n\t\t\tthis.resize() // So as to reposition child layers based on scaleFactor\n\t\t\tbreak\n\t\tcase \"rotation\":\n\t\t\tthis.setRotation(value)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t}\n\n\tgetVariable(variable) {\n\t\tswitch (variable) {\n\t\tcase \"alpha\":\n\t\t\treturn this.getAlpha()\n\t\tcase \"x\":\n\t\t\treturn this.getX()\n\t\tcase \"y\":\n\t\t\treturn this.getY()\n\t\tcase \"scale\":\n\t\t\treturn this.getScaleFactor()\n\t\tcase \"rotation\":\n\t\t\treturn this.getRotation()\n\t\tdefault:\n\t\t\treturn null\n\t\t}\n\t}\n\n}","import Slice from \"./Slice\"\nimport { TextElement } from \"../Renderer\"\n\nimport * as Utils from \"../utils\"\n\nexport default class TextSlice extends Slice {\n\n\tconstructor(resourceInfoArray, textOptions, properties, player, parentInfo = null) {\n\t\tsuper([], properties, player, parentInfo)\n\n\t\tthis._textOptions = textOptions\n\n\t\tthis._resourceInfoArray = resourceInfoArray // Which is a textVersionsArray\n\n\t\tconst { backgroundColor } = textOptions\n\t\tif (backgroundColor) {\n\t\t\tthis.setBackgroundColor(backgroundColor)\n\t\t}\n\n\t\tthis._text = null\n\t\tthis._textElement = null\n\t}\n\n\tresize() {\n\t\tconst oldSize = this.size\n\t\tsuper.resize()\n\t\tthis.applySizeClip()\n\t\tif (!this._textElement || (this.hasVariableSize === true // At least one dimension is not fixed\n\t\t\t&& (this.size.width !== oldSize.width || this.size.height !== oldSize.height))) {\n\t\t\tthis._createAndPositionTextElement()\n\t\t}\n\t}\n\n\t_createAndPositionTextElement() {\n\t\tif (this._textElement) {\n\t\t\tthis._textElement.destroy()\n\t\t}\n\t\tthis._textElement = new TextElement(\"text\", this, this._textOptions)\n\t\tif (!this._text) {\n\t\t\treturn\n\t\t}\n\t\tthis._textElement.setText(this._text)\n\n\t\tconst { boundingRect } = this._textElement\n\t\tconst { width, height } = boundingRect\n\t\tconst position = {\n\t\t\tx: (width - this.unscaledSize.width) / 2,\n\t\t\ty: (height - this.unscaledSize.height) / 2,\n\t\t}\n\n\t\tconst { rect, hAlign, vAlign } = this._textOptions\n\t\tif (rect) {\n\t\t\tconst shouldLimitSize = false\n\t\t\tconst actualRect = Utils.getRectWithSize(rect, this.size, shouldLimitSize)\n\t\t\tif (actualRect) {\n\t\t\t\tconst {\n\t\t\t\t\tx, y, w, h,\n\t\t\t\t} = actualRect\n\t\t\t\tposition.x += x\n\t\t\t\tif (hAlign !== \"left\") {\n\t\t\t\t\tconst delta = w - width\n\t\t\t\t\tif (hAlign === \"center\") {\n\t\t\t\t\t\tposition.x += delta / 2\n\t\t\t\t\t} else if (hAlign === \"right\") {\n\t\t\t\t\t\tposition.x += delta\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tposition.y += y\n\t\t\t\tif (vAlign !== \"top\") {\n\t\t\t\t\tconst delta = h - height\n\t\t\t\t\tif (vAlign === \"center\") {\n\t\t\t\t\t\tposition.y += delta / 2\n\t\t\t\t\t} else if (vAlign === \"bottom\") {\n\t\t\t\t\t\tposition.y += delta\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (hAlign === \"center\") {\n\t\t\t\tposition.x = 0\n\t\t\t} else if (hAlign === \"right\") {\n\t\t\t\tposition.x = (this.unscaledSize.width - width) / 2\n\t\t\t}\n\t\t\tif (vAlign === \"center\") {\n\t\t\t\tposition.y = 0\n\t\t\t} else if (vAlign === \"bottom\") {\n\t\t\t\tposition.y = (this.unscaledSize.height - height) / 2\n\t\t\t}\n\t\t}\n\n\t\t// Layer child slices need to be offset\n\t\tif (this.role === \"layersChild\" && this.parentInfo) {\n\t\t\tconst parentSlice = this.parentInfo.slice\n\t\t\tconst { unscaledSize } = parentSlice\n\t\t\tposition.x -= (unscaledSize.width - this.unscaledSize.width) / 2\n\t\t\tposition.x -= (unscaledSize.height - this.unscaledSize.height) / 2\n\t\t}\n\n\t\tthis._textElement.setPosition(position)\n\t}\n\n\tsetLanguage(language) {\n\t\tconst text = this._getRelevantText(language)\n\t\tif (this._text === text) {\n\t\t\treturn\n\t\t}\n\t\tthis._text = text\n\t\tthis._createAndPositionTextElement()\n\t}\n\n\t_getRelevantText(language) {\n\t\tif (!this._resourceInfoArray || this._resourceInfoArray.length < 1) {\n\t\t\treturn \"\"\n\t\t}\n\t\tlet { text } = this._resourceInfoArray[0]\n\t\tthis._resourceInfoArray.forEach((textVersion) => {\n\t\t\tif (textVersion.language === language) {\n\t\t\t\ttext = textVersion.text\n\t\t\t}\n\t\t})\n\t\treturn text\n\t}\n\n\tgetInfo() {\n\t\tif (!this._resourceInfoArray || this._resourceInfoArray.length < 1) {\n\t\t\treturn { href: \"\", path: \"\", type: \"text/plain\" }\n\t\t}\n\t\tconst { text } = this._resourceInfoArray[0]\n\t\treturn { href: text, path: text, type: \"text/plain\" }\n\t}\n\n\tdestroy() {\n\t\tif (this._textElement) {\n\t\t\tthis._textElement.destroy()\n\t\t}\n\t\tsuper.destroy()\n\t}\n\n}","import Slice from \"./Slice\"\n\nexport default class SequenceSlice extends Slice {\n\n\t// Used in TagManager\n\tget arrayOfResourceInfoArray() {\n\t\treturn this._arrayOfResourceInfoArray\n\t}\n\n\t// Used in LayerTransition\n\tget canPlay() { return (this._duration > 0 && this._texturesArray.length > 0) }\n\n\tconstructor(resourceInfoArray, arrayOfResourceInfoArray, properties, player, parentInfo = null) {\n\t\tsuper(resourceInfoArray, properties, player, parentInfo)\n\n\t\tthis._arrayOfResourceInfoArray = arrayOfResourceInfoArray\n\t\tconst { duration } = properties\n\t\tthis._duration = duration || 0\n\n\t\tthis._type = \"sequenceSlice\"\n\n\t\tthis._hasLoadedOnce = false\n\t\tthis._texturesArray = []\n\t\tthis._nbOfFrames = 0\n\t\tthis._nbOfLoadedFrameTextures = 0\n\n\t\tthis._stepDuration = null\n\t}\n\n\tgetResourceIdsToLoad(force = false) {\n\t\tif (force === false && (this.loadStatus === 1 || this.loadStatus === 2)) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst resourceDataArray = []\n\t\tthis._arrayOfResourceInfoArray.forEach((resourceInfoArray) => {\n\t\t\tconst { id, fragment } = this.getRelevantResourceIdAndFragment(resourceInfoArray)\n\t\t\tif (id !== null) {\n\t\t\t\tresourceDataArray.push({ sliceId: this._id, resourceId: id, fragment })\n\t\t\t}\n\t\t})\n\n\t\tthis.loadStatus = 1\n\t\tthis._updateParentLoadStatus()\n\t\tthis.addAndStartLoadingAnimation()\n\t\treturn [resourceDataArray]\n\t}\n\n\tupdateTextures() {\n\t\tif (!this._duration) {\n\t\t\treturn\n\t\t}\n\n\t\tthis._texturesArray = this._createTexturesArray()\n\t\tif (this._texturesArray.length === 0) {\n\t\t\tthis.loadStatus = 0\n\t\t\treturn\n\t\t}\n\n\t\tthis.loadStatus = (this._texturesArray.length < this._arrayOfResourceInfoArray.length) ? -1 : 2\n\n\t\tthis.stopAndRemoveLoadingAnimation()\n\n\t\tthis.setTexturesArray(this._texturesArray)\n\t\t// Note: No need to refresh the player (Slice's setVisibility will deal with it)\n\t}\n\n\t_createTexturesArray() {\n\t\tlet texturesArray = []\n\n\t\tif (this._arrayOfResourceInfoArray.length > 0) {\n\n\t\t\t// Build texturesList\n\t\t\tconst texturesList = []\n\t\t\tthis._arrayOfResourceInfoArray.forEach((resourceInfoArray) => {\n\t\t\t\tconst texture = this._getLoadedTexture(resourceInfoArray)\n\n\t\t\t\tif (texture) {\n\t\t\t\t\t// Get natural dimensions from the first valid texture in the list\n\t\t\t\t\tif (this._hasLoadedOnce === false) {\n\t\t\t\t\t\tconst { size } = texture\n\t\t\t\t\t\tconst { width, height } = size\n\t\t\t\t\t\tthis.setSizeFromActualTexture(width, height)\n\t\t\t\t\t\tthis._hasLoadedOnce = true\n\t\t\t\t\t}\n\t\t\t\t\ttexturesList.push(texture)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Now build texturesArray with time information\n\t\t\tif (texturesList.length > 0) {\n\t\t\t\tthis._nbOfFrames = texturesList.length\n\t\t\t\t// Compute how long each image will be displayed\n\t\t\t\t// Note that the textures that have not been created are skipped,\n\t\t\t\t// meaning that the total number of textures may be less than planned,\n\t\t\t\t// and thus the time spent on each actual texture longer than expected\n\t\t\t\tthis._stepDuration = this._duration / texturesList.length\n\t\t\t\ttexturesArray = texturesList.map((texture) => ({ texture, time: this._stepDuration }))\n\t\t\t}\n\n\t\t}\n\t\treturn texturesArray\n\t}\n\n\t// The associated texture can either come from an image or fallback image\n\t_getLoadedTexture(resourceInfoArray) {\n\t\tconst { resourceManager } = this.player\n\t\tconst { id, fragment } = this.getRelevantResourceIdAndFragment(resourceInfoArray)\n\t\tconst texture = resourceManager.getTextureWithId(id, fragment)\n\t\treturn texture\n\t}\n\n\tplay() {\n\t\tif (!this.goToFrameAndPlay) {\n\t\t\treturn\n\t\t}\n\t\tthis.goToFrameAndPlay(0)\n\t\tthis._playLoop = setInterval(() => {\n\t\t\tif (this.isInViewport === true) {\n\t\t\t\tthis.player.refreshOnce()\n\t\t\t}\n\t\t}, this._stepDuration)\n\t}\n\n\tstop() {\n\t\tif (!this.goToFrameAndStop) {\n\t\t\treturn\n\t\t}\n\t\tthis.goToFrameAndStop(0)\n\t\tthis._destroyPlayLoop()\n\t}\n\n\t_destroyPlayLoop() {\n\t\tclearInterval(this._playLoop)\n\t\tthis._playLoop = null\n\t}\n\n\tpauseAtPercent(percent) {\n\t\tif (!this.goToFrameAndStop || this._nbOfFrames < 1) {\n\t\t\treturn\n\t\t}\n\t\tconst frameIndex = Math.min(Math.floor(percent * this._nbOfFrames), this._nbOfFrames - 1)\n\t\tthis.goToFrameAndStop(frameIndex)\n\t\tthis._destroyPlayLoop()\n\t}\n\n\tresize() {\n\t\tconst { pageNavigator } = this.player\n\t\tconst fit = pageNavigator.metadata.forcedFit || this.properties.fit\n\t\t\t|| pageNavigator.metadata.fit\n\t\tsuper.resize(fit)\n\t}\n\n\t// Used in Slice\n\t_getLoadedIds() {\n\t\tconst idsArray = []\n\t\tthis._arrayOfResourceInfoArray.forEach((resourceInfoArray) => {\n\t\t\tconst { id } = this.getRelevantResourceIdAndFragment(resourceInfoArray)\n\t\t\tif (id !== null) {\n\t\t\t\tidsArray.push(id)\n\t\t\t}\n\t\t})\n\t\treturn idsArray\n\t}\n\n\t// Used in TextureResource\n\tremoveTexture() {\n\t\tthis.setTexturesArray(null)\n\t\tthis.setAsUnloaded()\n\t}\n\n\tdestroy() {\n\t\tthis._destroyPlayLoop()\n\t\tsuper.destroy()\n\t}\n\n}","import * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nexport default class ResourceBuilder {\n\n\tstatic createResourceInfoArray(object, player) {\n\t\tconst {\n\t\t\thref,\n\t\t\ttype,\n\t\t\ttext,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tlanguage,\n\t\t\talternate,\n\t\t} = object || {}\n\n\t\tconst shouldReturnDefaultValue = false\n\t\tconst actualWidth = Utils.returnValidValue(\"positive\", width, shouldReturnDefaultValue)\n\t\tconst actualHeight = Utils.returnValidValue(\"positive\", height, shouldReturnDefaultValue)\n\n\t\tlet sliceType = null\n\t\tlet main = {}\n\n\t\tlet mediaFragment = null // Only useful for a \"resource\" slice\n\n\t\tlet resourceInfoArray = []\n\t\tlet result = {}\n\n\t\t// If no valid href is specified, an object will be returned with the specified dimensions\n\t\t// to allow for correctly-sized dummy slices (i.e. slices with dummy textures)\n\t\t// - and we shall use a textSlice with no text string to handle that!\n\n\t\tif (text || !href || Utils.isAString(href) === false) {\n\t\t\tsliceType = \"text\"\n\n\t\t\tconst actualText = (text && Utils.isAString(text) === true) ? text : \"\"\n\t\t\tmain = { text: actualText }\n\n\t\t\tresult = {\n\t\t\t\t...result,\n\t\t\t\twidth: actualWidth,\n\t\t\t\theight: actualHeight,\n\t\t\t}\n\n\t\t} else {\n\t\t\tsliceType = \"resource\"\n\n\t\t\tconst pathAndMediaFragment = Utils.getPathAndMediaFragment(href)\n\t\t\tconst { path } = pathAndMediaFragment\n\t\t\tmediaFragment = pathAndMediaFragment.mediaFragment\n\t\t\tconst { resourceType, mimeType } = Utils.getResourceAndMimeTypes(path, type)\n\t\t\tmain = { type: resourceType, mimeType, path }\n\t\t\tif (actualWidth) {\n\t\t\t\tmain.width = actualWidth\n\t\t\t}\n\t\t\tif (actualHeight) {\n\t\t\t\tmain.height = actualHeight\n\t\t\t}\n\t\t\tif (language && Utils.isAString(language) === true) {\n\t\t\t\tmain.language = language\n\t\t\t}\n\t\t\tif (resourceType === \"video\") {\n\t\t\t\tmain.fallbacksArray = []\n\t\t\t}\n\t\t}\n\n\t\t// Create alternates (and fallbacks) by flattening the alternate tree\n\t\tconst oldAltParts = {}\n\t\tconst alternatesArray = []\n\t\tResourceBuilder._handleAlternateArray(object, alternate, oldAltParts, main, alternatesArray,\n\t\t\tsliceType)\n\n\t\tif (sliceType === \"text\") {\n\t\t\tresourceInfoArray = [main, ...alternatesArray]\n\n\t\t} else { // \"resource\"\n\t\t\t// Process main...\n\t\t\tlet id = ResourceBuilder.getResourceId(main, player)\n\t\t\tmain = { id }\n\t\t\tif (mediaFragment) {\n\t\t\t\tmain.fragment = mediaFragment\n\t\t\t}\n\t\t\tresourceInfoArray = [main]\n\n\t\t\t// ...and alternates\n\t\t\tif (alternatesArray.length > 0) {\n\t\t\t\talternatesArray.forEach((alt) => {\n\t\t\t\t\tid = ResourceBuilder.getResourceId(alt, player)\n\t\t\t\t\tconst newAlt = { id }\n\t\t\t\t\tif (alt.fragment) {\n\t\t\t\t\t\tnewAlt.fragment = alt.fragment\n\t\t\t\t\t}\n\t\t\t\t\tresourceInfoArray.push(newAlt)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tresult = {\n\t\t\t...result,\n\t\t\ttype: sliceType,\n\t\t\tresourceInfoArray,\n\t\t}\n\n\t\treturn result\n\t}\n\n\t// For now, width and height are not taken into account in alternates, however it would be\n\t// possible to add a \"ratio\" tag and compute ratios based on specified widths and heights\n\n\tstatic _handleAlternateArray(object, alternateArray, oldAltParts, parentResource,\n\t\talternatesArray, sliceType) {\n\t\tif (!alternateArray || Array.isArray(alternateArray) === false) {\n\t\t\treturn\n\t\t}\n\t\talternateArray.forEach((alternateObject) => {\n\t\t\tconst key = (sliceType === \"resource\") ? \"href\" : \"text\"\n\t\t\tconst condition = (alternateObject && alternateObject[key]\n\t\t\t\t&& Utils.isAString(alternateObject[key]) === true)\n\t\t\tif (condition === true) {\n\n\t\t\t\tconst newAltParts = { ...oldAltParts }\n\t\t\t\tlet hasAtLeastOneTagChange = false\n\t\t\t\tconstants.POSSIBLE_TAG_NAMES.forEach((tagName) => {\n\t\t\t\t\tconst tagValue = alternateObject[tagName]\n\t\t\t\t\tif (tagValue !== undefined && tagValue !== object[tagName]) {\n\t\t\t\t\t\t// Note that, ideally, we should also check that tagValue is acceptable\n\t\t\t\t\t\tnewAltParts[tagName] = tagValue\n\t\t\t\t\t\thasAtLeastOneTagChange = true\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tconst newAlt = { ...newAltParts }\n\n\t\t\t\tif (sliceType === \"resource\") {\n\t\t\t\t\tconst { path, mediaFragment } = Utils.getPathAndMediaFragment(alternateObject.href)\n\t\t\t\t\tconst { type } = alternateObject\n\t\t\t\t\tconst { resourceType, mimeType } = Utils.getResourceAndMimeTypes(path, type)\n\t\t\t\t\tnewAlt.type = resourceType\n\t\t\t\t\tnewAlt.mimeType = mimeType\n\t\t\t\t\tnewAlt.path = path\n\t\t\t\t\tif (resourceType === \"video\") {\n\t\t\t\t\t\tnewAlt.fallbacksArray = []\n\t\t\t\t\t}\n\t\t\t\t\tif (mediaFragment) {\n\t\t\t\t\t\tnewAlt.fragment = mediaFragment\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewAlt.text = alternateObject.text\n\t\t\t\t}\n\n\t\t\t\tif (hasAtLeastOneTagChange === true\n\t\t\t\t\t|| (sliceType === \"resource\" && parentResource.type !== newAlt.type)) {\n\t\t\t\t\t// If the move was from video to image\n\t\t\t\t\tif (sliceType === \"resource\" && parentResource.type === \"video\"\n\t\t\t\t\t\t&& newAlt.type === \"image\") {\n\t\t\t\t\t\tparentResource.fallbacksArray.push(newAlt)\n\t\t\t\t\t\tif (hasAtLeastOneTagChange === true) {\n\t\t\t\t\t\t\talternatesArray.push(newAlt)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\talternatesArray.push(newAlt)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tResourceBuilder._handleAlternateArray(object, alternateObject.alternate, newAltParts,\n\t\t\t\t\tnewAlt, alternatesArray, sliceType)\n\t\t\t}\n\t\t})\n\t}\n\n\tstatic getResourceId(coreResourceData, player) {\n\t\tconst { resourceManager } = player\n\t\tconst id = resourceManager.getResourceId(coreResourceData)\n\t\treturn id\n\t}\n\n}","import { SequenceSlice } from \"../Slice\"\nimport LinkObject from \"./LinkObject\"\n\nimport * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nexport default class Transition {\n\n\tstatic createTransition(transition, player, textOptions) {\n\t\tconst {\n\t\t\ttype, duration, direction, file, sequence,\n\t\t} = transition || {}\n\n\t\tlet shouldReturnDefaultValue = false\n\n\t\tconst actualType = Utils.returnValidValue(\"transitionType\", type, shouldReturnDefaultValue)\n\t\tif (!actualType) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst actualTransition = { type: actualType }\n\n\t\tconst actualDuration = Utils.returnValidValue(\"duration\", duration, shouldReturnDefaultValue)\n\t\tif (actualDuration) {\n\t\t\tactualTransition.duration = actualDuration\n\t\t}\n\n\t\tif (actualType === \"slide-in\" || actualType === \"slide-out\" || actualType === \"push\") {\n\t\t\tshouldReturnDefaultValue = false\n\t\t\tconst actualDirection = Utils.returnValidValue(\"direction\", direction,\n\t\t\t\tshouldReturnDefaultValue)\n\t\t\tif (!direction) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\tactualTransition.direction = actualDirection\n\t\t}\n\n\t\tif (actualType === \"animation\") {\n\t\t\tif (file && Utils.isAnObject(file) === true) {\n\t\t\t\tactualTransition.sliceType = \"video\"\n\n\t\t\t\tconst fullObject = {\n\t\t\t\t\t...file,\n\t\t\t\t\ttype: \"video\",\n\t\t\t\t}\n\t\t\t\tconst parentInfo = null\n\t\t\t\tconst forcedRole = \"transition\"\n\t\t\t\tconst linkObject = new LinkObject(fullObject, player, textOptions, parentInfo, forcedRole)\n\t\t\t\tconst { slice } = linkObject\n\t\t\t\tactualTransition.slice = slice\n\n\t\t\t} else if (sequence) {\n\t\t\t\tactualTransition.sliceType = \"sequence\"\n\n\t\t\t\tconst sliceProperties = {\n\t\t\t\t\trole: \"transition\",\n\t\t\t\t\tclipped: true,\n\t\t\t\t\tduration: actualDuration || constants.DEFAULT_DURATION,\n\t\t\t\t}\n\n\t\t\t\tconst {\n\t\t\t\t\tarrayOfResourceInfoArray, fit,\n\t\t\t\t} = LinkObject.buildArrayOfResourceInfoArray(sequence, player)\n\t\t\t\tif (fit) {\n\t\t\t\t\tsliceProperties.fit = fit\n\t\t\t\t}\n\n\t\t\t\tshouldReturnDefaultValue = true\n\t\t\t\tsliceProperties.duration = Utils.returnValidValue(\"duration\", duration,\n\t\t\t\t\tshouldReturnDefaultValue)\n\n\t\t\t\tconst resourceInfoArray = []\n\t\t\t\tconst slice = new SequenceSlice(resourceInfoArray, arrayOfResourceInfoArray,\n\t\t\t\t\tsliceProperties, player)\n\t\t\t\tactualTransition.slice = slice\n\t\t\t} else {\n\t\t\t\treturn null\n\t\t\t}\n\t\t}\n\n\t\treturn actualTransition\n\t}\n\n\t// Used in DivinaParser to split each page transition into two layer half transitions\n\tstatic getEntryAndExitTransitions(transition, isForward) {\n\t\tconst {\n\t\t\ttype, duration, direction, sliceType, slice,\n\t\t} = transition\n\t\tlet entry = {\n\t\t\ttype,\n\t\t\tduration, // Duration may remain undefined\n\t\t\tisDiscontinuous: true,\n\t\t}\n\t\tlet exit = {\n\t\t\ttype,\n\t\t\tduration, // Duration may remain undefined\n\t\t\tisDiscontinuous: true,\n\t\t}\n\n\t\tswitch (type) {\n\t\tcase \"cut\": // Duration is not taken into account, i.e. the cut occurs at once\n\t\t\tentry = null\n\t\t\texit = null\n\t\t\tbreak\n\t\tcase \"dissolve\":\n\t\t\tif (isForward === true) {\n\t\t\t\tentry.type = \"fade-in\"\n\t\t\t\texit.type = \"show\"\n\t\t\t} else {\n\t\t\t\texit.type = \"fade-out\"\n\t\t\t\tentry.type = \"show\"\n\t\t\t}\n\t\t\tbreak\n\t\tcase \"slide-in\":\n\t\t\tentry.direction = direction\n\t\t\texit.type = \"show\"\n\t\t\tbreak\n\t\tcase \"slide-out\":\n\t\t\tentry.type = \"show\"\n\t\t\texit.direction = direction\n\t\t\tbreak\n\t\tcase \"push\":\n\t\t\tentry.type = \"slide-in\"\n\t\t\tentry.direction = direction\n\t\t\texit.type = \"slide-out\"\n\t\t\texit.direction = direction\n\t\t\tbreak\n\t\tcase \"animation\":\n\t\t\tentry.sliceType = sliceType\n\t\t\tentry.slice = slice\n\t\t\texit.type = \"hide\"\n\t\t\texit.duration = 0\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\n\t\treturn { entry, exit }\n\t}\n\n\tstatic getValidHalfTransition(entryOrExit) {\n\t\tconst { type, duration, direction } = entryOrExit || {}\n\n\t\tconst shouldReturnDefaultValue = false\n\t\tconst actualType = Utils.returnValidValue(\"halfTransitionType\", type, shouldReturnDefaultValue)\n\t\tif (!actualType) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst actualDuration = Utils.returnValidValue(\"duration\", duration, shouldReturnDefaultValue)\n\n\t\tconst actualEntryOrExit = {\n\t\t\ttype: actualType,\n\t\t\tisDiscontinuous: false,\n\t\t}\n\n\t\tif (!actualDuration && actualDuration !== 0) {\n\t\t\tactualEntryOrExit.duration = actualDuration\n\t\t}\n\n\t\tif (actualType === \"slide-in\" || actualType === \"slide-out\") {\n\t\t\tif (!direction) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\tconst actualDirection = Utils.returnValidValue(\"direction\", direction, shouldReturnDefaultValue)\n\t\t\tif (actualDirection) {\n\t\t\t\tactualEntryOrExit.direction = actualDirection\n\t\t\t}\n\t\t}\n\n\t\treturn actualEntryOrExit\n\t}\n\n}","import { Slice, SequenceSlice, TextSlice } from \"../Slice\"\nimport ResourceBuilder from \"./ResourceBuilder\"\nimport Transition from \"./Transition\"\n\nimport * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nexport default class LinkObject {\n\n\tget slice() { return this._slice }\n\n\tget hAlign() { return this._hAlign }\n\n\tget vAlign() { return this._vAlign }\n\n\tget transitionForward() { return this._transitionForward }\n\n\tget transitionBackward() { return this._transitionBackward }\n\n\tget snapPointsArray() { return this._snapPointsArray }\n\n\tget soundAnimationsArray() { return this._soundAnimationsArray }\n\n\tget childrenArray() { return this._childrenArray }\n\n\tget visualAnimationsArray() { return this._visualAnimationsArray }\n\n\tconstructor(divinaObject, player, textOptions, parentInfo = null, forcedRole = null) {\n\t\tthis._textOptions = textOptions\n\n\t\tthis._slice = null\n\n\t\tthis._hAlign = null\n\t\tthis._vAlign = null\n\n\t\tthis._transitionForward = null\n\t\tthis._transitionBackward = null\n\n\t\tthis._snapPointsArray = null\n\n\t\tthis._soundAnimationsArray = null\n\n\t\t// For link object layers (will eventually result in the creation of a unique segment)\n\t\tthis._childrenArray = null\n\n\t\t// For link object animations (the unique segment holding them may have states)\n\t\tthis._visualAnimationsArray = null\n\n\t\t// Now build the slice associated to the link object (by default),\n\t\t// and also child link objects (and their slices) and transitions (and slices) as needed\n\t\tthis._buildSlicesAndTransitions(divinaObject, player, parentInfo, forcedRole)\n\t}\n\n\t_buildSlicesAndTransitions(divinaObject, player, parentInfo = null, forcedRole = null) {\n\t\tconst { properties } = divinaObject || {}\n\t\tconst {\n\t\t\tfit,\n\t\t\tclipped,\n\t\t\thAlign,\n\t\t\tvAlign,\n\t\t\tpage,\n\t\t\ttransitionForward,\n\t\t\ttransitionBackward,\n\t\t\tsnapPoints,\n\t\t\tsounds,\n\t\t\tlayers,\n\t\t\tanimations,\n\t\t\tbackgroundColor,\n\t\t\tfillColor,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tlineHeight,\n\t\t\tletterSpacing,\n\t\t\trect,\n\t\t\tsequence,\n\t\t} = properties || {}\n\n\t\tlet role = forcedRole || \"standard\"\n\t\tif (parentInfo) {\n\t\t\trole = \"layersChild\" // Will be positioned based on the parent's top left point\n\t\t} else if (layers) {\n\t\t\trole = \"layersParent\" // Will give its dimensions as reference (but won't be displayed)\n\t\t}\n\n\t\tlet shouldReturnDefaultValue = false\n\n\t\tlet sliceFit = null\n\t\tif (parentInfo) { // If a layersChild (i.e. the slice in a child layer)\n\t\t\tsliceFit = \"pixel\"\n\t\t} else {\n\t\t\tsliceFit = Utils.returnValidValue(\"fit\", fit, shouldReturnDefaultValue)\n\t\t}\n\n\t\tconst sliceClipped = Utils.returnValidValue(\"clipped\", clipped, shouldReturnDefaultValue)\n\n\t\tconst sliceHAlign = Utils.returnValidValue(\"hAlign\", hAlign, shouldReturnDefaultValue)\n\t\tconst sliceVAlign = Utils.returnValidValue(\"vAlign\", vAlign, shouldReturnDefaultValue)\n\t\tif (sliceHAlign) {\n\t\t\tthis._hAlign = sliceHAlign\n\t\t}\n\t\tif (sliceVAlign) {\n\t\t\tthis._vAlign = sliceVAlign\n\t\t}\n\n\t\tconst pageSide = Utils.returnValidValue(\"pageSide\", page, shouldReturnDefaultValue)\n\n\t\tconst sliceProperties = {\n\t\t\trole,\n\t\t\tfit: sliceFit,\n\t\t\tclipped: sliceClipped,\n\t\t\thAlign: sliceHAlign,\n\t\t\tvAlign: sliceVAlign,\n\t\t\tpageSide,\n\t\t}\n\n\t\tlet result = ResourceBuilder.createResourceInfoArray(divinaObject, player)\n\t\tconst { resourceInfoArray } = result\n\n\t\t// If the link object is that for a sequence\n\t\tif (sequence) {\n\t\t\tconst { files, duration } = sequence\n\n\t\t\tresult = LinkObject.buildArrayOfResourceInfoArray(files, player)\n\t\t\tif (result.fit) {\n\t\t\t\tsliceProperties.fit = result.fit\n\t\t\t}\n\t\t\tif (result.clipped) {\n\t\t\t\tsliceProperties.clipped = result.clipped\n\t\t\t}\n\t\t\tconst { arrayOfResourceInfoArray } = result\n\n\t\t\tshouldReturnDefaultValue = true\n\t\t\tsliceProperties.duration = Utils.returnValidValue(\"duration\", duration,\n\t\t\t\tshouldReturnDefaultValue)\n\n\t\t\tthis._slice = new SequenceSlice(resourceInfoArray, arrayOfResourceInfoArray, sliceProperties,\n\t\t\t\tplayer, parentInfo)\n\n\t\t// Otherwise the link object has a non-sequence slice: either resource (image or video) or text\n\t\t} else if (result.type === \"resource\") {\n\t\t\tthis._slice = new Slice(resourceInfoArray, sliceProperties, player, parentInfo)\n\n\t\t} else {\n\t\t\tconst textOptions = {\n\t\t\t\tbackgroundColor: Utils.returnValidValue(\"backgroundColor\", backgroundColor,\n\t\t\t\t\tshouldReturnDefaultValue) || this._textOptions.backgroundColor,\n\t\t\t\tfillColor: Utils.returnValidValue(\"fillColor\", fillColor, shouldReturnDefaultValue)\n\t\t\t\t\t|| this._textOptions.fillColor,\n\t\t\t\tfontFamily: Utils.returnValidValue(\"fontFamily\", fontFamily, shouldReturnDefaultValue)\n\t\t\t\t\t|| this._textOptions.fontFamily,\n\t\t\t\tfontSize: Utils.returnValidValue(\"fontSize\", fontSize, shouldReturnDefaultValue)\n\t\t\t\t\t|| this._textOptions.fontSize,\n\t\t\t\tlineHeight: Utils.returnValidValue(\"lineHeight\", lineHeight, shouldReturnDefaultValue)\n\t\t\t\t\t|| this._textOptions.lineHeight,\n\t\t\t\tletterSpacing: Utils.returnValidValue(\"letterSpacing\", letterSpacing,\n\t\t\t\t\tshouldReturnDefaultValue) || this._textOptions.letterSpacing,\n\t\t\t\thAlign: sliceHAlign || this._textOptions.hAlign,\n\t\t\t\tvAlign: sliceVAlign || this._textOptions.vAlign,\n\t\t\t}\n\t\t\tif (rect) {\n\t\t\t\tconst actualRect = Utils.parseStringRect(rect)\n\t\t\t\tif (actualRect) {\n\t\t\t\t\ttextOptions.rect = actualRect\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsliceProperties.width = result.width\n\t\t\tsliceProperties.height = result.height\n\t\t\tsliceProperties.type = \"text\"\n\n\t\t\tthis._slice = new TextSlice(resourceInfoArray, textOptions, sliceProperties, player,\n\t\t\t\tparentInfo)\n\t\t}\n\n\t\t// Handle detailed transition data\n\t\tif (transitionForward) {\n\t\t\tconst transition = Transition.createTransition(transitionForward, player, this._textOptions)\n\t\t\tif (transition) {\n\t\t\t\tthis._transitionForward = transition\n\t\t\t}\n\t\t}\n\t\tif (transitionBackward) {\n\t\t\tconst transition = Transition.createTransition(transitionBackward, player, this._textOptions)\n\t\t\tif (transition) { // An invalid transition has a type forced as null\n\t\t\t\tthis._transitionBackward = transition\n\t\t\t}\n\t\t}\n\n\t\t// Handle snap points\n\t\tif (snapPoints && Array.isArray(snapPoints) === true) {\n\t\t\tthis._snapPointsArray = []\n\t\t\tsnapPoints.forEach((snapPoint) => {\n\t\t\t\tconst validSnapPoint = LinkObject._getValidPoint(snapPoint)\n\t\t\t\tif (validSnapPoint !== null) {\n\t\t\t\t\tthis._snapPointsArray.push(validSnapPoint)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\t// Handle sounds\n\t\tif (sounds) {\n\t\t\tthis._soundAnimationsArray = []\n\t\t\tsounds.forEach((sound) => {\n\t\t\t\tconst shouldConsiderStartAndEnd = true\n\t\t\t\tconst soundAnimation = LinkObject.getValidSoundAnimation(sound, player,\n\t\t\t\t\tshouldConsiderStartAndEnd)\n\t\t\t\tif (soundAnimation) {\n\t\t\t\t\tthis._soundAnimationsArray.push(soundAnimation)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\t// Handle layers (note that we do not consider layers for a child layer object)\n\t\tif (!parentInfo && layers && Array.isArray(layers) === true) {\n\t\t\tthis._childrenArray = this._getChildrenArray(layers, this._slice, player)\n\t\t}\n\n\t\t// Handle animations\n\t\tif (animations) {\n\t\t\tthis._visualAnimationsArray = LinkObject._getVisualAnimationsArray(animations)\n\t\t}\n\t}\n\n\t// Used above and in Transition\n\tstatic buildArrayOfResourceInfoArray(sequenceImagesArray, player) {\n\t\tconst result = { arrayOfResourceInfoArray: [] }\n\n\t\tif (!sequenceImagesArray || Array.isArray(sequenceImagesArray) === false\n\t\t\t|| sequenceImagesArray.length === 0) {\n\t\t\treturn result\n\t\t}\n\n\t\tsequenceImagesArray.forEach((sequenceImage, i) => {\n\t\t\tif (sequenceImage && Utils.isAnObject(sequenceImage) === true) {\n\n\t\t\t\t// We allow fit and clipped information to be gathered from first file\n\t\t\t\t// (note that if the first file was empty, too bad, i=0 has passed!)\n\t\t\t\tif (i === 0 && sequenceImage.properties) {\n\t\t\t\t\tconst shouldReturnDefaultValue = false\n\n\t\t\t\t\tlet fileFit = sequenceImage.properties.fit\n\t\t\t\t\tfileFit = Utils.returnValidValue(\"fit\", fileFit,\n\t\t\t\t\t\tshouldReturnDefaultValue)\n\t\t\t\t\tif (fileFit !== null) {\n\t\t\t\t\t\tresult.fit = fileFit\n\t\t\t\t\t}\n\n\t\t\t\t\tlet fileClipped = sequenceImage.properties.clipped\n\t\t\t\t\tfileClipped = Utils.returnValidValue(\"clipped\", fileClipped,\n\t\t\t\t\t\tshouldReturnDefaultValue)\n\t\t\t\t\tif (fileClipped !== null) {\n\t\t\t\t\t\tresult.clipped = fileClipped\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst fullObject = {\n\t\t\t\t\t...sequenceImage,\n\t\t\t\t\ttype: sequenceImage.type || constants.DEFAULT_MIME_TYPE,\n\t\t\t\t}\n\t\t\t\tconst { resourceInfoArray } = ResourceBuilder.createResourceInfoArray(fullObject, player)\n\t\t\t\tresult.arrayOfResourceInfoArray.push(resourceInfoArray)\n\t\t\t}\n\t\t})\n\t\treturn result\n\t}\n\n\tstatic _getValidPoint(point) {\n\t\tlet validPoint = null\n\n\t\tconst { viewport, x, y } = point || {}\n\t\tconst shouldReturnDefaultValue = false\n\t\tconst actualViewport = Utils.returnValidValue(\"viewport\", viewport,\n\t\t\tshouldReturnDefaultValue)\n\t\tif (actualViewport === null\n\t\t\t|| (Utils.isAString(x) === false && Utils.isAString(y) === false)) {\n\t\t\treturn validPoint\n\t\t}\n\n\t\tvalidPoint = { viewport: actualViewport }\n\n\t\tif (x !== undefined && x.length > 0) {\n\t\t\tconst validValueAndUnit = Utils.getValidValueAndUnit(x)\n\t\t\tif (validValueAndUnit) {\n\t\t\t\tconst { value, unit } = validValueAndUnit\n\t\t\t\tvalidPoint.x = value\n\t\t\t\tvalidPoint.unit = unit\n\t\t\t}\n\t\t}\n\t\tif (y !== undefined && y.length > 0) {\n\t\t\tconst validValueAndUnit = Utils.getValidValueAndUnit(y)\n\t\t\tif (validValueAndUnit) {\n\t\t\t\tconst { value, unit } = validValueAndUnit\n\t\t\t\tvalidPoint.y = value\n\t\t\t\tvalidPoint.unit = unit\n\t\t\t}\n\t\t}\n\n\t\tif (validPoint.unit) { // Note that x and y cannot cannot have different units\n\t\t\treturn validPoint\n\t\t}\n\t\treturn null\n\t}\n\n\t// Used above and in DivinaParser\n\tstatic getValidSoundAnimation(sound, player, shouldConsiderStartAndEnd = false) {\n\t\tconst { href, properties } = sound || {}\n\t\tconst { looping, animation } = properties || {}\n\t\tif (!href) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst { path } = Utils.getPathAndMediaFragment(href)\n\t\tconst coreResourceData = { path, type: \"audio\" }\n\t\tif (sound.type) {\n\t\t\tcoreResourceData.mimeType = sound.type\n\t\t}\n\t\tconst shouldReturnDefaultValue = true\n\t\tcoreResourceData.looping = Utils.returnValidValue(\"looping\", looping,\n\t\t\tshouldReturnDefaultValue)\n\n\t\tconst resourceId = ResourceBuilder.getResourceId(coreResourceData, player)\n\t\tif (resourceId === null) {\n\t\t\treturn null\n\t\t}\n\n\t\tif (shouldConsiderStartAndEnd === false) {\n\t\t\treturn { resourceId }\n\t\t}\n\n\t\tlet soundAnimation = null\n\t\tif (!animation) {\n\t\t\treturn {\n\t\t\t\tresourceId,\n\t\t\t\ttype: \"time\",\n\t\t\t\tstart: 0,\n\t\t\t}\n\t\t}\n\n\t\tconst { type, start, end } = animation\n\t\tconst actualType = Utils.returnValidValue(\"animationType\", type, shouldReturnDefaultValue)\n\t\tconst actualStart = LinkObject._processSoundStartOrEnd(actualType, start)\n\n\t\tif (actualStart === null) {\n\t\t\treturn null\n\t\t}\n\t\tsoundAnimation = {\n\t\t\tresourceId,\n\t\t\ttype: actualType,\n\t\t\tstart: actualStart,\n\t\t}\n\t\tif (end) {\n\t\t\tconst actualEnd = LinkObject._processSoundStartOrEnd(actualType, end)\n\t\t\tif (actualEnd) {\n\t\t\t\tsoundAnimation.end = actualEnd\n\t\t\t}\n\t\t}\n\n\t\treturn soundAnimation\n\t}\n\n\tstatic _processSoundStartOrEnd(type, value) { // value is that for start or end\n\t\tconst shouldReturnDefaultValue = false\n\t\tlet actualValue = null\n\t\tswitch (type) {\n\t\tcase \"time\":\n\t\t\tactualValue = Utils.returnValidValue(\"positive\", value, shouldReturnDefaultValue)\n\t\t\tbreak\n\t\tcase \"progress\":\n\t\t\tactualValue = Utils.returnValidValue(\"positive\", value, shouldReturnDefaultValue)\n\t\t\tif (actualValue !== null && actualValue > 1) {\n\t\t\t\tactualValue = null\n\t\t\t}\n\t\t\tbreak\n\t\tcase \"point\":\n\t\t\tactualValue = LinkObject._getValidPoint(value)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t\treturn actualValue\n\t}\n\n\t_getChildrenArray(layers, slice, player) {\n\t\tconst childrenArray = []\n\t\tlayers.forEach((layerObject) => {\n\t\t\tif (layerObject) {\n\t\t\t\tconst layerProperties = layerObject.properties || {}\n\t\t\t\tconst {\n\t\t\t\t\tentryForward, exitBackward, exitForward, entryBackward,\n\t\t\t\t} = layerProperties\n\n\t\t\t\t// Create a new link object, using this link object's slice as the parent slice\n\t\t\t\tconst parentInformation = {\n\t\t\t\t\tslice,\n\t\t\t\t\tlayerIndex: childrenArray.length,\n\t\t\t\t}\n\t\t\t\tconst linkObject = new LinkObject(layerObject, player, this._textOptions,\n\t\t\t\t\tparentInformation)\n\n\t\t\t\tconst child = { linkObject }\n\t\t\t\tlet actualHalfTransition = null\n\n\t\t\t\t// Handle half transitions\n\t\t\t\tactualHalfTransition = Transition.getValidHalfTransition(entryForward)\n\t\t\t\tif (actualHalfTransition) {\n\t\t\t\t\tchild.entryForward = actualHalfTransition\n\t\t\t\t}\n\t\t\t\tactualHalfTransition = Transition.getValidHalfTransition(entryBackward)\n\t\t\t\tif (actualHalfTransition) {\n\t\t\t\t\tchild.entryBackward = actualHalfTransition\n\t\t\t\t}\n\t\t\t\tactualHalfTransition = Transition.getValidHalfTransition(exitForward)\n\t\t\t\tif (actualHalfTransition) {\n\t\t\t\t\tchild.exitForward = actualHalfTransition\n\t\t\t\t}\n\t\t\t\tactualHalfTransition = Transition.getValidHalfTransition(exitBackward)\n\t\t\t\tif (actualHalfTransition) {\n\t\t\t\t\tchild.exitBackward = actualHalfTransition\n\t\t\t\t}\n\n\t\t\t\t// Handle transitions - which shall take precedence over half transitions\n\t\t\t\tif (layerProperties.transitionForward) {\n\t\t\t\t\tconst transition = Transition.createTransition(layerProperties.transitionForward,\n\t\t\t\t\t\tplayer, this._textOptions)\n\t\t\t\t\tif (transition) {\n\t\t\t\t\t\tchild.transitionForward = transition\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (layerProperties.transitionBackward) {\n\t\t\t\t\tconst transition = Transition.createTransition(layerProperties.transitionBackward,\n\t\t\t\t\t\tplayer, this._textOptions)\n\t\t\t\t\tif (transition) {\n\t\t\t\t\t\tchild.transitionBackward = transition\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchildrenArray.push(child)\n\t\t\t}\n\t\t})\n\t\treturn childrenArray\n\t}\n\n\tstatic _getVisualAnimationsArray(animations) {\n\t\tconst animationsArray = []\n\t\tanimations.forEach((animation) => {\n\t\t\tconst { type, variable, keyframes } = animation || {}\n\n\t\t\tlet shouldReturnDefaultValue = true\n\t\t\tconst animationType = Utils.returnValidValue(\"animationType\", type,\n\t\t\t\tshouldReturnDefaultValue)\n\n\t\t\tshouldReturnDefaultValue = false // No default value for an animation variable\n\t\t\tconst animationVariable = Utils.returnValidValue(\"animationVariable\", variable,\n\t\t\t\tshouldReturnDefaultValue)\n\n\t\t\tif (animationVariable !== null && keyframes && Array.isArray(keyframes)\n\t\t\t\t&& keyframes.length > 0) {\n\n\t\t\t\tconst keyframesArray = []\n\t\t\t\tkeyframes.forEach((keyframe) => {\n\t\t\t\t\tconst { key, value } = keyframe || {}\n\t\t\t\t\tconst actualKeyframe = { key }\n\n\t\t\t\t\tlet isKeyValid = (Utils.isANumber(key) === true && key >= 0)\n\t\t\t\t\tif (animationType === \"point\") {\n\t\t\t\t\t\tconst validPoint = LinkObject._getValidPoint(key)\n\t\t\t\t\t\tif (validPoint) {\n\t\t\t\t\t\t\tactualKeyframe.key = validPoint\n\t\t\t\t\t\t\tisKeyValid = true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tisKeyValid = false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note that only numbers are accepted as animation values\n\t\t\t\t\tif (isKeyValid === true && Utils.isANumber(value) === true) {\n\t\t\t\t\t\tactualKeyframe.value = value\n\t\t\t\t\t\tkeyframesArray.push(actualKeyframe)\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif (keyframesArray.length > 0) {\n\t\t\t\t\tanimationsArray.push({ type: animationType, variable, keyframesArray })\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn animationsArray\n\t}\n\n}","import LinkObject from \"./LinkObject\"\nimport Transition from \"./Transition\"\n\nimport * as Utils from \"../utils\"\nimport * as constants from \"../constants\"\n\nexport default class DivinaParser {\n\n\tconstructor(player) {\n\t\tthis._player = player\n\t}\n\n\tloadFromPath(path, pathType) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tDivinaParser.loadJson(path, pathType)\n\t\t\t\t.then((json) => {\n\t\t\t\t\tresolve(this._buildStoryFromJson(json))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\treject(error)\n\t\t\t\t})\n\t\t})\n\t}\n\n\tstatic loadJson(path, pathType) { // pathType = \"manifest\" || \"folder\"\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!path) {\n\t\t\t\treject(new Error(\"No path was specified\"))\n\t\t\t}\n\t\t\tconst xhr = new XMLHttpRequest()\n\t\t\tconst manifestPath = (pathType === \"manifest\")\n\t\t\t\t? path\n\t\t\t\t: `${path}/${constants.DEFAULT_MANIFEST_FILENAME}`\n\t\t\txhr.open(\"GET\", manifestPath)\n\t\t\txhr.responseType = \"text\"\n\t\t\txhr.onload = () => {\n\t\t\t\tconst text = xhr.response\n\t\t\t\ttry {\n\t\t\t\t\tconst json = JSON.parse(text)\n\t\t\t\t\tresolve(json)\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error)\n\t\t\t\t}\n\t\t\t}\n\t\t\txhr.onerror = (error) => {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t\txhr.send()\n\t\t})\n\t}\n\n\tloadFromJson(json = null) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (json) {\n\t\t\t\tresolve(this._buildStoryFromJson(json))\n\t\t\t} else {\n\t\t\t\treject(new Error(\"No json was passed\"))\n\t\t\t}\n\t\t})\n\t}\n\n\t_buildStoryFromJson(json) {\n\t\tif (!json) {\n\t\t\treturn { error: new Error(\"Manifest is null\") }\n\t\t}\n\n\t\tconst {\n\t\t\tmetadata, links, readingOrder, guided,\n\t\t} = json\n\t\tif (!metadata) {\n\t\t\treturn { error: new Error(\"No metadata\") }\n\t\t}\n\t\tif (!readingOrder) {\n\t\t\treturn { error: new Error(\"No readingOrder\") }\n\t\t}\n\n\t\t// If there is a link with rel=\"self\" that has a scheme, then use the part of the href\n\t\t// before the manifest's filename as the default folder path\n\t\tconst folderPath = DivinaParser._getFolderPathFromLinks(links)\n\n\t\t// Get relevant metadata\n\t\tthis._metadata = this._parseMetadata(metadata)\n\n\t\t// Create link objects for readingOrder and guided (if present)\n\t\tthis._mainLinkObjectsArray = this._parseObjectsList(readingOrder)\n\t\tif (guided) {\n\t\t\tthis._guidedLinkObjectsArray = this._parseObjectsList(guided)\n\t\t}\n\n\t\t// Now create relevant building information for all possible page navigators\n\t\tconst pageNavigatorsData = this._createPageNavigatorsData()\n\n\t\treturn { folderPath, pageNavigatorsData }\n\t}\n\n\tstatic _getFolderPathFromLinks(links) {\n\t\tif (!links || Array.isArray(links) === false || links.length === 0) {\n\t\t\treturn null\n\t\t}\n\t\tlet folderPath = null\n\t\tlinks.forEach((link) => {\n\t\t\tconst { rel, href } = link\n\t\t\tif (rel === \"self\" && href && Utils.hasAScheme(href) === true) {\n\t\t\t\tfolderPath = Utils.getFolderPathFromManifestPath(href)\n\t\t\t}\n\t\t})\n\t\treturn folderPath\n\t}\n\n\t_parseMetadata(metadata) {\n\t\tconst {\n\t\t\treadingProgression,\n\t\t\tlanguage,\n\t\t\tpresentation,\n\t\t} = metadata\n\n\t\tconst shouldReturnDefaultValue = true\n\n\t\tconst direction = Utils.returnValidValue(\"direction\", readingProgression, shouldReturnDefaultValue)\n\n\t\tconst {\n\t\t\tcontinuous,\n\t\t\tfit,\n\t\t\tclipped,\n\t\t\toverflow,\n\t\t\thAlign,\n\t\t\tvAlign,\n\t\t\tspread,\n\t\t\tviewportRatio,\n\t\t\t// orientation,\n\t\t\tsounds,\n\t\t\tbackgroundColor,\n\t\t\tfillColor,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tlineHeight,\n\t\t\tletterSpacing,\n\t\t} = presentation || {}\n\n\t\tconst storyContinuous = Utils.returnValidValue(\"continuous\", continuous, shouldReturnDefaultValue)\n\t\tconst storyFit = Utils.returnValidValue(\"fit\", fit, shouldReturnDefaultValue)\n\t\tconst storyClipped = Utils.returnValidValue(\"clipped\", clipped, shouldReturnDefaultValue)\n\t\tconst storyOverflow = Utils.returnValidValue(\"overflow\", overflow, shouldReturnDefaultValue)\n\t\tconst storyHAlign = Utils.returnValidValue(\"hAlign\", hAlign, shouldReturnDefaultValue)\n\t\tconst storyVAlign = Utils.returnValidValue(\"vAlign\", vAlign, shouldReturnDefaultValue)\n\t\tconst storySpread = Utils.returnValidValue(\"spread\", spread, shouldReturnDefaultValue)\n\n\t\t// Keep viewport ratio if valid\n\t\tconst storyViewportRatio = DivinaParser._getValidViewportRatio(viewportRatio)\n\n\t\t// Create a languagesArray that will always contain at least \"unspecified\"\n\t\tlet languagesArray = [\"unspecified\"]\n\t\tif (language) {\n\t\t\tif (Array.isArray(language) === true) {\n\t\t\t\tlanguagesArray = []\n\t\t\t\tlanguage.forEach((languageItem) => {\n\t\t\t\t\tif (Utils.isAString(languageItem) === true) {\n\t\t\t\t\t\tlanguagesArray.push(languageItem)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else if (Utils.isAString(language) === true) {\n\t\t\t\tlanguagesArray = [language]\n\t\t\t}\n\t\t}\n\n\t\t// Create a soundsArray with valid (global) sounds only (global => no start or end values!)\n\t\tconst soundsArray = []\n\t\tif (sounds && Array.isArray(sounds) === true && sounds.length > 0) {\n\t\t\tsounds.forEach((sound) => {\n\t\t\t\tconst shouldConsiderStartAndEnd = false\n\t\t\t\tconst soundAnimation = LinkObject.getValidSoundAnimation(sound, this._player,\n\t\t\t\t\tshouldConsiderStartAndEnd)\n\t\t\t\tif (soundAnimation) {\n\t\t\t\t\tsoundsArray.push(soundAnimation)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\t// Create text options\n\n\t\tconst storyBackgroundColor = Utils.returnValidValue(\"backgroundColor\", backgroundColor,\n\t\t\tshouldReturnDefaultValue)\n\t\tconst storyFillColor = Utils.returnValidValue(\"fillColor\", fillColor, shouldReturnDefaultValue)\n\t\tconst storyFontFamily = Utils.returnValidValue(\"fontFamily\", fontFamily, shouldReturnDefaultValue)\n\t\tconst storyFontSize = Utils.returnValidValue(\"fontSize\", fontSize, shouldReturnDefaultValue)\n\t\tconst storyLineHeight = Utils.returnValidValue(\"lineHeight\", lineHeight, shouldReturnDefaultValue)\n\t\tconst storyLetterSpacing = Utils.returnValidValue(\"letterSpacing\", letterSpacing,\n\t\t\tshouldReturnDefaultValue)\n\n\t\tthis._textOptions = {\n\t\t\thAlign: storyHAlign,\n\t\t\tvAlign: storyVAlign,\n\t\t\tbackgroundColor: storyBackgroundColor,\n\t\t\tfillColor: storyFillColor,\n\t\t\tfontFamily: storyFontFamily,\n\t\t\tfontSize: storyFontSize,\n\t\t\tlineHeight: storyLineHeight,\n\t\t\tletterSpacing: storyLetterSpacing,\n\t\t}\n\n\t\treturn {\n\t\t\tdirection,\n\t\t\tcontinuous: storyContinuous,\n\t\t\tfit: storyFit,\n\t\t\tclipped: storyClipped,\n\t\t\toverflow: storyOverflow,\n\t\t\thAlign: storyHAlign,\n\t\t\tvAlign: storyVAlign,\n\t\t\tspread: storySpread,\n\t\t\tviewportRatio: storyViewportRatio || {},\n\t\t\tlanguagesArray,\n\t\t\tsoundsArray,\n\t\t}\n\t}\n\n\t// Check viewport ratio (note that the \"exact\" constraint is forced as the default)\n\tstatic _getValidViewportRatio(viewportRatio) {\n\t\tif (!viewportRatio) {\n\t\t\treturn null\n\t\t}\n\t\tconst { constraint, aspectRatio } = viewportRatio\n\t\tif (Utils.isAString(aspectRatio) === false) {\n\t\t\treturn null\n\t\t}\n\t\tconst numeratorAndDenominator = aspectRatio.split(\":\")\n\t\tif (numeratorAndDenominator.length !== 2) {\n\t\t\treturn null\n\t\t}\n\t\tconst numerator = Number(numeratorAndDenominator[0])\n\t\tconst denominator = Number(numeratorAndDenominator[1])\n\t\tif (Utils.isANumber(numerator) === false || numerator <= 0\n\t\t\t|| Utils.isANumber(denominator) === false || denominator <= 0) {\n\t\t\treturn null\n\t\t}\n\t\tconst shouldReturnDefaultValue = true\n\t\tconst storyConstraint = Utils.returnValidValue(\"constraint\", constraint, shouldReturnDefaultValue)\n\t\treturn { constraint: storyConstraint, aspectRatio }\n\t}\n\n\t_parseObjectsList(divinaObjectsList) {\n\t\tif (!divinaObjectsList || Array.isArray(divinaObjectsList) === false) {\n\t\t\treturn []\n\t\t}\n\t\tconst objectsArray = []\n\t\tdivinaObjectsList.forEach((divinaObject) => {\n\t\t\tif (divinaObject) {\n\t\t\t\tconst linkObject = new LinkObject(divinaObject, this._player, this._textOptions)\n\t\t\t\tobjectsArray.push(linkObject)\n\t\t\t}\n\t\t})\n\t\treturn objectsArray\n\t}\n\n\t_createPageNavigatorsData() {\n\t\tconst {\n\t\t\tdirection,\n\t\t\tcontinuous,\n\t\t\tfit,\n\t\t\tclipped,\n\t\t\toverflow,\n\t\t\thAlign,\n\t\t\tvAlign,\n\t\t\tspread,\n\t\t\tviewportRatio,\n\t\t\tlanguagesArray,\n\t\t\tsoundsArray,\n\t\t} = this._metadata\n\n\t\t// Keep only useful data in the metadata object shared by all page navigators\n\t\tconst cleanMetadata = {\n\t\t\tdirection,\n\t\t\tcontinuous,\n\t\t\tfit,\n\t\t\tclipped,\n\t\t\toverflow,\n\t\t\thAlign,\n\t\t\tvAlign,\n\t\t\tspread,\n\t\t\tviewportRatio,\n\t\t\tlanguagesArray,\n\t\t}\n\t\tconst pageNavigatorsData = { metadata: cleanMetadata }\n\n\t\t// Create a \"scroll\" page navigator for a Divina with continuous=true\n\t\tif (continuous === true) {\n\t\t\tpageNavigatorsData.scroll = DivinaParser._createPageNavigatorData(\"scroll\",\n\t\t\t\tthis._mainLinkObjectsArray, soundsArray)\n\n\t\t// Create a \"single\" page navigator for a Divina with continuous=false\n\t\t} else {\n\t\t\tpageNavigatorsData.single = DivinaParser._createPageNavigatorData(\"single\",\n\t\t\t\tthis._mainLinkObjectsArray, soundsArray)\n\n\t\t\t// Also create a \"double\" page navigator if the double page reading mode is allowed\n\t\t\tif (spread !== \"none\") {\n\t\t\t\tconst pageNavDirection = (direction === \"rtl\") ? \"rtl\" : \"ltr\"\n\t\t\t\tpageNavigatorsData.double = DivinaParser._createPageNavigatorData(\"double\",\n\t\t\t\t\tthis._mainLinkObjectsArray, soundsArray, pageNavDirection)\n\t\t\t}\n\t\t}\n\n\t\t// Create a \"guided\" page navigator if the Divina has a guided object\n\t\tif (this._guidedLinkObjectsArray && this._guidedLinkObjectsArray.length > 0) {\n\t\t\tpageNavigatorsData.guided = DivinaParser._createPageNavigatorData(\"guided\",\n\t\t\t\tthis._guidedLinkObjectsArray, soundsArray)\n\t\t}\n\n\t\treturn pageNavigatorsData\n\t}\n\n\tstatic _createPageNavigatorData(pageNavType, linkObjectsArray, globalSoundsArray, direction) {\n\t\t// Each page navigator will also have a metadata object\n\t\t// (in adddition to shared metadata) with specific information\n\t\tlet metadata = { hasSounds: false }\n\t\tlet grouping = null\n\n\t\tswitch (pageNavType) {\n\t\tcase \"single\":\n\t\t\tgrouping = \"single\"\n\t\t\tbreak\n\t\tcase \"double\":\n\t\t\tmetadata = {\n\t\t\t\tdirection, // Direction will be forced to either \"ltr\" or \"rtl\"\n\t\t\t\tforcedFit: \"contain\",\n\t\t\t\tforcedClipped: false,\n\t\t\t\tforcedTransitionType: \"cut\", // Transitions will be discarded\n\t\t\t}\n\t\t\tgrouping = \"double\"\n\t\t\tbreak\n\t\tcase \"scroll\":\n\t\t\tgrouping = \"stitched\"\n\t\t\tbreak\n\t\tcase \"guided\":\n\t\t\tmetadata = {\n\t\t\t\tforcedFit: \"contain\",\n\t\t\t\tforcedClipped: false,\n\t\t\t}\n\t\t\tgrouping = \"single\"\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\n\t\tconst pageNavData = { metadata, pagesDataArray: [] }\n\n\t\tif (globalSoundsArray && globalSoundsArray.length > 0) {\n\t\t\tpageNavData.metadata.hasSounds = true\n\t\t\tpageNavData.globalSoundsArray = globalSoundsArray\n\t\t}\n\n\t\tlet pageData = { segmentsDataArray: [] }\n\t\tlet segmentData = {}\n\n\t\tlet pageIndex = -1\n\t\tlet pageSegmentIndex = 0\n\t\tlet segmentIndex = 0\n\n\t\tif (grouping === \"single\" || grouping === \"stitched\") {\n\t\t\tlinkObjectsArray.forEach((linkObject) => {\n\t\t\t\tconst {\n\t\t\t\t\tslice,\n\t\t\t\t\thAlign,\n\t\t\t\t\tvAlign,\n\t\t\t\t\ttransitionForward,\n\t\t\t\t\ttransitionBackward,\n\t\t\t\t\tsnapPointsArray,\n\t\t\t\t\tsoundAnimationsArray,\n\t\t\t\t\tchildrenArray,\n\t\t\t\t} = linkObject\n\t\t\t\t// Note that visualAnimationsArray will only be considered in a child link object\n\n\t\t\t\t// It is time to create a new page...\n\t\t\t\tif (pageIndex === -1 // ... if we are at the beginning of the story\n\t\t\t\t\t|| grouping === \"single\" // ... or with each new resource in a discontinuous story\n\t\t\t\t\t|| transitionForward) { // ... or with each new \"chapter\" in a \"chaptered webtoon\"\n\t\t\t\t\tif (pageIndex !== -1) {\n\t\t\t\t\t\tpageNavData.pagesDataArray.push(pageData)\n\t\t\t\t\t}\n\t\t\t\t\tpageIndex += 1\n\t\t\t\t\tpageSegmentIndex = 0\n\t\t\t\t\tpageData = { segmentsDataArray: [] }\n\t\t\t\t\tsegmentData = {}\n\t\t\t\t}\n\n\t\t\t\t// Add information to the slice to specify in which page and segment it appears\n\t\t\t\tslice.setPageNavInfo(pageNavType, { pageIndex, pageSegmentIndex, segmentIndex })\n\t\t\t\tsegmentData.sliceId = slice.id\n\n\t\t\t\t// Store align values at segment level for future use (see below)\n\t\t\t\tif (hAlign) {\n\t\t\t\t\tsegmentData.hAlign = hAlign\n\t\t\t\t}\n\t\t\t\tif (vAlign) {\n\t\t\t\t\tsegmentData.vAlign = vAlign\n\t\t\t\t}\n\n\t\t\t\t// Only consider transitions on the first segment of a page\n\t\t\t\tif (transitionForward && pageSegmentIndex === 0) {\n\t\t\t\t\tconst isForward = true\n\t\t\t\t\tconst { entry, exit } = Transition.getEntryAndExitTransitions(transitionForward,\n\t\t\t\t\t\tisForward)\n\t\t\t\t\tif (pageIndex > 0 && exit) {\n\t\t\t\t\t\tpageNavData.pagesDataArray[pageIndex - 1].exitForward = exit\n\t\t\t\t\t}\n\t\t\t\t\tpageData.entryForward = entry\n\n\t\t\t\t\tif (transitionForward.slice) {\n\t\t\t\t\t\ttransitionForward.slice.setPageNavInfo(pageNavType, {\n\t\t\t\t\t\t\tpageIndex, pageSegmentIndex, segmentIndex,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (transitionBackward && pageSegmentIndex === 0) {\n\t\t\t\t\tconst isForward = false\n\t\t\t\t\tconst { entry, exit } = Transition.getEntryAndExitTransitions(transitionBackward,\n\t\t\t\t\t\tisForward)\n\t\t\t\t\tif (pageIndex > 0 && entry) {\n\t\t\t\t\t\tpageNavData.pagesDataArray[pageIndex - 1].entryBackward = entry\n\t\t\t\t\t}\n\t\t\t\t\tpageData.exitBackward = exit\n\n\t\t\t\t\tif (transitionBackward.slice) {\n\t\t\t\t\t\ttransitionBackward.slice.setPageNavInfo(pageNavType, {\n\t\t\t\t\t\t\tpageIndex, pageSegmentIndex, segmentIndex,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Handle snap points\n\t\t\t\tif (snapPointsArray && snapPointsArray.length > 0) {\n\t\t\t\t\tsegmentData.snapPointsArray = snapPointsArray\n\t\t\t\t}\n\n\t\t\t\t// Handle sounds\n\t\t\t\tif (soundAnimationsArray && soundAnimationsArray.length > 0) {\n\t\t\t\t\tpageNavData.metadata.hasSounds = true\n\t\t\t\t\tsegmentData.soundAnimationsArray = soundAnimationsArray\n\t\t\t\t}\n\n\t\t\t\t// Handle child link objects\n\t\t\t\tif (childrenArray && childrenArray.length > 0) {\n\t\t\t\t\tsegmentData.childrenArray = []\n\t\t\t\t\tchildrenArray.forEach((child, i) => {\n\t\t\t\t\t\tif (child.linkObject && child.linkObject.slice) {\n\t\t\t\t\t\t\tconst childLinkObject = child.linkObject\n\t\t\t\t\t\t\tconst childSlice = childLinkObject.slice\n\t\t\t\t\t\t\tchildSlice.setPageNavInfo(pageNavType, {\n\t\t\t\t\t\t\t\tpageIndex, pageSegmentIndex, segmentIndex,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconst childData = { sliceId: childSlice.id }\n\n\t\t\t\t\t\t\t// Deal with transitions\n\t\t\t\t\t\t\tif (child.entryForward) {\n\t\t\t\t\t\t\t\tchildData.entryForward = child.entryForward\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (child.entryBackward) {\n\t\t\t\t\t\t\t\tchildData.entryBackward = child.entryBackward\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (child.exitForward) {\n\t\t\t\t\t\t\t\tchildData.exitForward = child.exitForward\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (child.exitBackward) {\n\t\t\t\t\t\t\t\tchildData.exitBackward = child.exitBackward\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (childLinkObject.transitionForward) {\n\t\t\t\t\t\t\t\tconst transition = childLinkObject.transitionForward\n\t\t\t\t\t\t\t\tconst isForward = true\n\t\t\t\t\t\t\t\tconst { entry, exit } = Transition.getEntryAndExitTransitions(transition, isForward)\n\t\t\t\t\t\t\t\tif (i > 0 && exit) {\n\t\t\t\t\t\t\t\t\tsegmentData.childrenArray[i - 1].exitForward = exit\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchildData.entryForward = entry\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (childLinkObject.transitionBackward) {\n\t\t\t\t\t\t\t\tconst transition = childLinkObject.transitionBackward\n\t\t\t\t\t\t\t\tconst isForward = false\n\t\t\t\t\t\t\t\tconst { entry, exit } = Transition.getEntryAndExitTransitions(transition, isForward)\n\t\t\t\t\t\t\t\tif (i > 0 && entry) {\n\t\t\t\t\t\t\t\t\tsegmentData.childrenArray[i - 1].entryBackward = entry\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchildData.exitBackward = exit\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// For visual animations (necessarily carried by a child)\n\t\t\t\t\t\t\tif (childLinkObject.visualAnimationsArray\n\t\t\t\t\t\t\t\t&& childLinkObject.visualAnimationsArray.length > 0) {\n\t\t\t\t\t\t\t\tchildData.visualAnimationsArray = childLinkObject.visualAnimationsArray\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Note that animation transitions are not allowed for child layers\n\t\t\t\t\t\t\tsegmentData.childrenArray.push(childData)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tpageSegmentIndex += 1\n\t\t\t\tsegmentIndex += 1\n\n\t\t\t\tpageData.segmentsDataArray.push(segmentData)\n\t\t\t\tsegmentData = {}\n\t\t\t})\n\n\t\t} else if (grouping === \"double\") {\n\t\t\t// Snap points, animations and non-global sounds are discarded - and transitions forced to cut\n\n\t\t\tlet lastPageSide = null\n\t\t\tlet isLonely = false\n\n\t\t\tlinkObjectsArray.forEach((linkObject, i) => {\n\t\t\t\tconst { slice } = linkObject\n\t\t\t\tconst { pageSide } = slice || {}\n\n\t\t\t\tif (pageIndex === -1\n\t\t\t\t\t|| (direction === \"ltr\" && (lastPageSide !== \"left\" || pageSide !== \"right\"))\n\t\t\t\t\t|| (direction === \"rtl\" && (lastPageSide !== \"right\" || pageSide !== \"left\"))) {\n\n\t\t\t\t\tif (pageIndex !== -1) {\n\t\t\t\t\t\tpageNavData.pagesDataArray.push(pageData)\n\t\t\t\t\t}\n\n\t\t\t\t\tpageIndex += 1\n\t\t\t\t\tpageSegmentIndex = 0\n\t\t\t\t\tpageData = { segmentsDataArray: [] }\n\n\t\t\t\t\tconst nextLinkObject = (i < linkObjectsArray.length - 1)\n\t\t\t\t\t\t? linkObjectsArray[i + 1]\n\t\t\t\t\t\t: null\n\t\t\t\t\tconst nextPageSide = (nextLinkObject && nextLinkObject.slice)\n\t\t\t\t\t\t? nextLinkObject.slice.pageSide\n\t\t\t\t\t\t: null\n\t\t\t\t\tif (direction === \"ltr\") {\n\t\t\t\t\t\tpageSegmentIndex = (pageSide === \"right\") ? 1 : 0\n\t\t\t\t\t\tif (pageSide === \"right\"\n\t\t\t\t\t\t\t|| (pageSide === \"left\" && nextPageSide !== \"right\")) {\n\t\t\t\t\t\t\t// A segment is \"alone\" if pageSide=\"center\", but it is not \"lonely\",\n\t\t\t\t\t\t\t// in the sense that we don't need to create an empty segment next to it\n\t\t\t\t\t\t\tisLonely = true\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // direction === \"rtl\"\n\t\t\t\t\t\tpageSegmentIndex = (pageSide === \"left\") ? 1 : 0\n\t\t\t\t\t\tif (pageSide === \"left\"\n\t\t\t\t\t\t\t|| (pageSide === \"right\" && nextPageSide !== \"left\")) {\n\t\t\t\t\t\t\t// Same as above\n\t\t\t\t\t\t\tisLonely = true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tslice.setPageNavInfo(pageNavType, {\n\t\t\t\t\tpageIndex, pageSegmentIndex, segmentIndex, isLonely,\n\t\t\t\t})\n\n\t\t\t\tif (isLonely === true) {\n\t\t\t\t\tif (pageSegmentIndex === 0) {\n\t\t\t\t\t\tsegmentData = { sliceId: slice.id }\n\t\t\t\t\t\tpageData.segmentsDataArray.push(segmentData)\n\n\t\t\t\t\t\t// Add an empty segment\n\t\t\t\t\t\tsegmentData = {}\n\t\t\t\t\t\tpageData.segmentsDataArray.push(segmentData)\n\t\t\t\t\t\tsegmentIndex += 1 // Note that empty segments will also have an index\n\n\t\t\t\t\t} else { // pageSegmentIndex === 1\n\t\t\t\t\t\t// Add an empty segment\n\t\t\t\t\t\tsegmentData = {}\n\t\t\t\t\t\tpageData.segmentsDataArray.push(segmentData)\n\t\t\t\t\t\tsegmentIndex += 1 // Note that empty segments will also have an index\n\n\t\t\t\t\t\tsegmentData = { sliceId: slice.id }\n\t\t\t\t\t\tpageData.segmentsDataArray.push(segmentData)\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tsegmentData = { sliceId: slice.id }\n\t\t\t\t\tpageData.segmentsDataArray.push(segmentData)\n\t\t\t\t}\n\n\t\t\t\tisLonely = false\n\t\t\t\tlastPageSide = pageSide\n\n\t\t\t\tpageSegmentIndex += 1\n\t\t\t\tsegmentIndex += 1\n\t\t\t})\n\t\t}\n\n\t\t// Do not forget to add the last created page to the page count and pagesDataArray\n\t\tpageIndex += 1\n\t\tpageNavData.pagesDataArray.push(pageData)\n\n\t\t// Set hAlign and vAlign for each page based on their first link objects (if there is\n\t\t// more than one link object in the page, hAlign and vAlign will not be taken into account\n\t\t// in Camera anyway, since the size getter in Page will force a non-overflowing size)\n\t\tpageNavData.pagesDataArray.forEach(({ segmentsDataArray = [] }, i) => {\n\t\t\tif (segmentsDataArray.length === 1) {\n\t\t\t\tconst firstSegmentData = segmentsDataArray[0]\n\t\t\t\tif (firstSegmentData.hAlign) {\n\t\t\t\t\tpageNavData.pagesDataArray[i].hAlign = firstSegmentData.hAlign\n\t\t\t\t}\n\t\t\t\tif (firstSegmentData.vAlign) {\n\t\t\t\t\tpageNavData.pagesDataArray[i].vAlign = firstSegmentData.vAlign\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn pageNavData\n\t}\n\n}","import * as constants from \"../constants\"\n\nexport default class TagManager {\n\n\tget tags() { return this._tags }\n\n\tconstructor(languagesArray, slices, resourceManager) {\n\t\tthis._tags = {\n\t\t\tlanguage: {\n\t\t\t\tarray: languagesArray,\n\t\t\t\tindex: null,\n\t\t\t},\n\t\t}\n\t\tthis._populateTags(slices, resourceManager)\n\t}\n\n\t_populateTags(slices, resourceManager) {\n\t\tObject.values(slices).forEach((slice) => {\n\t\t\tconst {\n\t\t\t\tresourceInfoArray, arrayOfResourceInfoArray,\n\t\t\t} = slice\n\t\t\tconst fullResourcesArray = arrayOfResourceInfoArray || [resourceInfoArray]\n\t\t\tfullResourcesArray.forEach((individualResourceInfoArray) => {\n\t\t\t\tthis._populateTagsForResourceInfoArray(individualResourceInfoArray, resourceManager)\n\t\t\t})\n\t\t})\n\t}\n\n\t_populateTagsForResourceInfoArray(resourceInfoArray, resourceManager) {\n\t\tresourceInfoArray.forEach((mainOrAlt) => {\n\n\t\t\tconst { id } = mainOrAlt\n\n\t\t\tif (id === undefined && mainOrAlt.language) { // For a text version\n\t\t\t\tconst languagesArray = this._tags.language.array\n\t\t\t\tif (languagesArray.includes(mainOrAlt.language) === false) {\n\t\t\t\t\tlanguagesArray.push(mainOrAlt.language)\n\t\t\t\t}\n\n\t\t\t} else { // For a resource version\n\t\t\t\tconst resource = resourceManager.getResourceWithId(id)\n\t\t\t\tconst { tags = {} } = resource || {}\n\t\t\t\tObject.entries(tags).forEach(([tagName, tagValue]) => {\n\t\t\t\t\tif (constants.POSSIBLE_TAG_NAMES.includes(tagName) === true) {\n\t\t\t\t\t\tif (!this._tags[tagName]) {\n\t\t\t\t\t\t\tthis._tags[tagName] = {\n\t\t\t\t\t\t\t\tarray: [tagValue],\n\t\t\t\t\t\t\t\tindex: null,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (this._tags[tagName].array.includes(tagValue) === false) {\n\t\t\t\t\t\t\tthis._tags[tagName].array.push(tagValue)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tsetTag(tagName, tagValue) {\n\t\tif (!this._tags[tagName]) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { array } = this._tags[tagName]\n\t\tconst index = array.indexOf(tagValue)\n\t\tif (index < 0) {\n\t\t\treturn false\n\t\t}\n\n\t\tthis._tags[tagName].index = index\n\n\t\treturn true\n\t}\n\n\t// Used in VideoTexture (for fallbacks) and Slice (for alternates)\n\tgetBestMatchForCurrentTags(idPathFragmentAndTagsArray) {\n\t\tlet id = null\n\t\tlet path = null\n\t\tlet fragment = null\n\n\t\tlet nbOfExactlyMatchingConditions = 0\n\t\tlet nbOfPassableConditions = 0\n\t\tlet maxReachedNbOfExactlyMatchingConditions = 0\n\t\tlet maxReachedNbOfPassableConditions = 0\n\n\t\t// Check which fallback is most appropriate\n\t\tidPathFragmentAndTagsArray.forEach((idPathFragmentAndTagsItem) => {\n\t\t\tnbOfExactlyMatchingConditions = 0\n\t\t\tnbOfPassableConditions = 0\n\n\t\t\tconstants.POSSIBLE_TAG_NAMES.forEach((tagName) => {\n\t\t\t\tconst { array, index } = this._tags[tagName] || {}\n\t\t\t\tif (index !== undefined && array && index < array.length) {\n\t\t\t\t\tconst tagValue = array[index]\n\t\t\t\t\tif (idPathFragmentAndTagsItem[tagName] === tagValue) {\n\t\t\t\t\t\tnbOfExactlyMatchingConditions += 1\n\t\t\t\t\t} else if (idPathFragmentAndTagsItem[tagName] === undefined) {\n\t\t\t\t\t\tnbOfPassableConditions += 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (nbOfExactlyMatchingConditions > maxReachedNbOfExactlyMatchingConditions) {\n\t\t\t\tmaxReachedNbOfExactlyMatchingConditions = nbOfExactlyMatchingConditions\n\t\t\t\tmaxReachedNbOfPassableConditions = nbOfPassableConditions\n\t\t\t\tid = idPathFragmentAndTagsItem.id\n\t\t\t\tpath = idPathFragmentAndTagsItem.path\n\t\t\t\tfragment = idPathFragmentAndTagsItem.fragment\n\n\t\t\t} else if (nbOfExactlyMatchingConditions === maxReachedNbOfExactlyMatchingConditions\n\t\t\t\t&& nbOfPassableConditions > maxReachedNbOfPassableConditions) {\n\t\t\t\tmaxReachedNbOfPassableConditions = nbOfPassableConditions\n\t\t\t\tid = idPathFragmentAndTagsItem.id\n\t\t\t\tpath = idPathFragmentAndTagsItem.path\n\t\t\t\tfragment = idPathFragmentAndTagsItem.fragment\n\t\t\t}\n\t\t})\n\n\t\treturn { id, path, fragment }\n\t}\n\n}","import * as constants from \"../../constants\"\n\nexport default class LayerTransition {\n\n\tget controlled() { return this._controlled }\n\n\tget slice() { return this._slice }\n\n\tget isRunning() { return this._isRunning }\n\n\tconstructor(handler, layer, isExiting, entryOrExit, player) {\n\t\tthis._handler = handler\n\t\tthis._layer = layer\n\t\tthis._isExiting = isExiting\n\t\tthis._player = player\n\n\t\tthis._type = \"cut\"\n\t\tthis._controlled = false\n\n\t\tthis._startTime = null\n\t\tthis._isRunning = true\n\n\t\tconst {\n\t\t\ttype, duration, direction, sliceType, slice, controlled,\n\t\t} = entryOrExit || {}\n\n\t\tif (!entryOrExit) {\n\t\t\treturn\n\t\t}\n\t\tthis._type = type\n\t\tthis._controlled = controlled\n\n\t\tlet actualDuration = duration\n\t\tif (type !== \"animation\" || sliceType !== \"video\") {\n\t\t\tactualDuration = (duration !== undefined) ? duration : constants.DEFAULT_DURATION\n\t\t\t// A video animation is allowed to have no defined duration (it will play until the end)\n\t\t\t// Also, duration can be 0 for a \"hide\" layer transition\n\t\t}\n\t\tthis._duration = actualDuration // May still be undefined (but only for a video)\n\n\t\tif (type === \"slide-in\" || type === \"slide-out\") {\n\t\t\tthis._direction = direction\n\n\t\t} else if (type === \"animation\" && slice) {\n\t\t\tthis._sliceType = sliceType\n\t\t\tthis._slice = slice\n\n\t\t\tif (sliceType === \"video\" && slice && !actualDuration) {\n\t\t\t\tthis._slice.setDoOnEnd(this.end.bind(this))\n\t\t\t}\n\t\t\tthis._slice.resize()\n\t\t}\n\t}\n\n\tstart(startTime) {\n\t\t// If the layerTransition is a video or sequence with no duration,\n\t\t// or a sequence with no frames loaded, skip it\n\t\tif (this._sliceType && (!this._slice || this._slice.canPlay === false)) {\n\t\t\tthis.end()\n\n\t\t// Otherwise play the layerTransition\n\t\t} else {\n\n\t\t\tif (this._slice) {\n\t\t\t\tthis._slice.setIsInViewport(true)\n\t\t\t\tthis._slice.finalizeEntry() // Start playing the transition sequence or video\n\n\t\t\t} else if (this._type === \"slide-in\" || this._type === \"slide-out\") {\n\t\t\t\t// Prevent resize from impacting the content's position\n\t\t\t\tconst { content } = this._layer\n\t\t\t\tif (this._direction === \"ltr\" || this._direction === \"rtl\") {\n\t\t\t\t\tcontent.setIsXPositionUpdating(true)\n\t\t\t\t} else if (this._direction === \"ttb\" || this._direction === \"btt\") {\n\t\t\t\t\tcontent.setIsYPositionUpdating(true)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._startTime = startTime\n\t\t\tthis._run(null)\n\t\t}\n\t}\n\n\t// The function will below shall loop if layerTransitionPercent !== null\n\t_run(layerTransitionPercent = null) {\n\t\tthis._player.refreshOnce()\n\n\t\tif (this._isRunning === false) {\n\t\t\treturn\n\t\t}\n\n\t\tlet percent = 1\n\t\tif (layerTransitionPercent !== null) {\n\t\t\tpercent = layerTransitionPercent\n\n\t\t// Note that this._duration may still be undefined for a video\n\t\t} else if (this._duration && this._duration > 0) {\n\t\t\tpercent = (Date.now() - this._startTime) / this._duration\n\n\t\t// Play a video transition until percent=1\n\t\t} else if (this._sliceType === \"video\" && this._slice) {\n\t\t\tpercent = 0\n\t\t}\n\n\t\tconst { stateChange } = this._handler\n\n\t\t// If the user has forced the transition to its end...\n\t\tif (stateChange.shouldForceToEnd === true\n\t\t\t// ... or if it is not a video running to its end, and it has actually ended,\n\t\t\t// end transition if percent=1, except if percent is given by layerTransitionPercent\n\t\t\t|| (percent >= 1 && layerTransitionPercent !== 1)) {\n\t\t\tthis.end()\n\n\t\t// Otherwise just apply the required changes based on time\n\t\t} else if (this._type === \"animation\") {\n\t\t\tif (layerTransitionPercent === null) {\n\t\t\t\t// Continue playing the layerTransition, waiting for its eventual end\n\t\t\t\trequestAnimationFrame(this._run.bind(this, null))\n\t\t\t}\n\n\t\t} else {\n\t\t\tconst { viewportRect } = this._handler\n\t\t\tconst { width, height } = viewportRect\n\t\t\tconst { content } = this._layer\n\n\t\t\tif (this._type === \"fade-in\") {\n\t\t\t\tcontent.setAlpha(percent)\n\t\t\t} else if (this._type === \"fade-out\") {\n\t\t\t\tcontent.setAlpha(1 - percent)\n\t\t\t} else if (this._type === \"slide-in\") {\n\t\t\t\tswitch (this._direction) {\n\t\t\t\tcase \"ltr\":\n\t\t\t\t\tcontent.setXOffset((percent - 1) * width)\n\t\t\t\t\tbreak\n\t\t\t\tcase \"rtl\":\n\t\t\t\t\tcontent.setXOffset((1 - percent) * width)\n\t\t\t\t\tbreak\n\t\t\t\tcase \"ttb\":\n\t\t\t\t\tcontent.setYOffset((percent - 1) * height)\n\t\t\t\t\tbreak\n\t\t\t\tcase \"btt\":\n\t\t\t\t\tcontent.setYOffset((1 - percent) * height)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t} else if (this._type === \"slide-out\") {\n\t\t\t\tswitch (this._direction) {\n\t\t\t\tcase \"ltr\":\n\t\t\t\t\tcontent.setXOffset(percent * width)\n\t\t\t\t\tbreak\n\t\t\t\tcase \"rtl\":\n\t\t\t\t\tcontent.setXOffset(-percent * width)\n\t\t\t\t\tbreak\n\t\t\t\tcase \"ttb\":\n\t\t\t\t\tcontent.setYOffset(percent * height)\n\t\t\t\t\tbreak\n\t\t\t\tcase \"btt\":\n\t\t\t\t\tcontent.setYOffset(-percent * height)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._type !== \"hide\") {\n\t\t\t\tcontent.setVisibility(true)\n\t\t\t}\n\n\t\t\tif (layerTransitionPercent === null) {\n\t\t\t\trequestAnimationFrame(this._run.bind(this, null))\n\t\t\t}\n\t\t}\n\t}\n\n\tend() {\n\t\tthis._player.refreshOnce()\n\t\tthis._isRunning = false\n\n\t\tconst { content } = this._layer || {}\n\t\tLayerTransition._resetLayerContent(content)\n\t\tLayerTransition._removeTemporarySlice(this._slice)\n\n\t\tif (this._isExiting === true) {\n\t\t\tthis._layer.finalizeExit()\n\t\t\tcontent.removeFromParent()\n\t\t} else {\n\t\t\tthis._layer.finalizeEntry()\n\t\t}\n\n\t\tthis._handler.notifyTransitionEnd()\n\t}\n\n\tstatic _resetLayerContent(content) {\n\t\tif (!content) {\n\t\t\treturn\n\t\t}\n\t\tcontent.setAlpha(1)\n\t\tcontent.setVisibility(true)\n\t\tcontent.setIsXPositionUpdating(false)\n\t\tcontent.setIsYPositionUpdating(false)\n\t\tcontent.resetPosition()\n\t}\n\n\tstatic _removeTemporarySlice(sequenceOrVideoSlice) {\n\t\tif (!sequenceOrVideoSlice) {\n\t\t\treturn\n\t\t}\n\t\tsequenceOrVideoSlice.finalizeExit()\n\t\tsequenceOrVideoSlice.removeFromParent()\n\t}\n\n\tgoToIntermediateState(percent) {\n\t\tthis._run(percent)\n\t}\n\n\tcancel() {\n\t\tthis._isRunning = false\n\n\t\tconst { content } = this._layer || {}\n\t\tLayerTransition._resetLayerContent(content)\n\t\tLayerTransition._removeTemporarySlice(this._slice)\n\n\t\t// Stop and remove an added layer\n\t\tif (this._isExiting === false) {\n\t\t\tthis._layer.finalizeExit()\n\t\t\tcontent.removeFromParent()\n\t\t}\n\t}\n\n\tresize() {\n\t\tif (!this._slice) {\n\t\t\treturn\n\t\t}\n\t\tthis._slice.resize()\n\t}\n\n}","import LayerTransition from \"./LayerTransition\"\n\nexport default class StateHandler {\n\n\tget type() { return this._type }\n\n\t// Used in LayerPile\n\n\tget isAtStart() { return (this._statesArray.length === 0 || this._stateIndex === 0) }\n\n\tget isAtEnd() {\n\t\treturn (this._statesArray.length === 0\n\t\t\t|| this._stateIndex === this._statesArray.length - 1)\n\t}\n\n\tget isUndergoingChanges() { return (this._currentStateChange.status !== \"none\") }\n\n\t// Used in PageNavigator\n\n\tget isUndergoingControlledChanges() { return (this._currentStateChange.status === \"controlled\") }\n\n\tget stateIndex() { return this._stateIndex }\n\n\t// Used in LayerTransition\n\n\tget stateChange() { return this._currentStateChange }\n\n\tget viewportRect() { return this._player.viewportRect }\n\n\tconstructor(layerPile, shouldStateLayersCoexistOutsideTransitions = false, player) {\n\t\tthis._layerPile = layerPile\n\t\tthis._shouldStateLayersCoexistOutsideTransitions = shouldStateLayersCoexistOutsideTransitions\n\t\tthis._player = player\n\n\t\tthis._type = \"stateHandler\"\n\n\t\t// this._isLooping = false\n\n\t\tconst { layersArray } = layerPile\n\n\t\t// The _statesArray lists for each state the indices of the layers to add\n\t\t// (shouldStateLayersCoexistOutsideTransitions specifies what to do with already present layers)\n\t\tthis._statesArray = this._createStatesArray(layersArray)\n\n\t\tthis._stateIndex = null\n\t\tthis._resetStateChange()\n\n\t\tthis._stateDeltaForTransitionControl = null\n\t}\n\n\t_createStatesArray(layersArray) {\n\t\t// For a PageNavigator (in particular)\n\t\tif (this._shouldStateLayersCoexistOutsideTransitions === false) {\n\t\t\treturn layersArray.map((_, i) => ([i]))\n\t\t}\n\n\t\t// While for a multi-layer Segment...\n\t\tconst statesArray = []\n\t\tlet newLayerIndicesForState = []\n\t\tfor (let i = 0; i < layersArray.length; i += 1) {\n\t\t\tconst layer = layersArray[i]\n\t\t\tconst { entryForward } = layer || {} // Strong decision: only those are taken into account\n\t\t\t// (i.e. we're not considering possibly mismatched backwardEntries to build the list)\n\t\t\tif (entryForward && entryForward.isDiscontinuous === true && i !== 0) {\n\t\t\t\tstatesArray.push(newLayerIndicesForState)\n\t\t\t\tnewLayerIndicesForState = [i]\n\t\t\t} else {\n\t\t\t\tnewLayerIndicesForState.push(i)\n\t\t\t}\n\t\t}\n\t\tstatesArray.push(newLayerIndicesForState)\n\t\treturn statesArray\n\t}\n\n\t_resetStateChange() {\n\t\tthis._currentStateChange = {\n\t\t\tstatus: \"none\",\n\t\t\tisGoingForward: true,\n\t\t\tlayerTransitionsArray: [],\n\t\t\tshouldForceToEnd: false,\n\t\t\tendCallback: null,\n\t\t\tnewStateIndex: null,\n\t\t}\n\t}\n\n\t// Used here and in PageNavigator\n\tforceChangesToEnd(callback, isGoingForward) {\n\t\t// Only run the callback if the movement directions differ\n\t\tif (isGoingForward !== this._currentStateChange.isGoingForward) {\n\t\t\tif (this._currentStateChange.status === \"none\") {\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback()\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t} // else\n\t\t\tthis._currentStateChange.endCallback = callback\n\t\t}\n\t\tthis._currentStateChange.shouldForceToEnd = true\n\t}\n\n\tgoToState(stateIndex, isGoingForward, shouldSkipTransition = false, isChangeControlled = false) {\n\t\tif (stateIndex < 0 || stateIndex >= this._statesArray.length) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst {\n\t\t\tlayerIndicesToAdd, layerIndicesToRemove,\n\t\t} = this._createLayerIndicesToAddAndRemove(stateIndex, isGoingForward)\n\n\t\tif (layerIndicesToAdd.length === 0 && layerIndicesToRemove === 0) {\n\t\t\tthis._resetStateChange() // To counter the above shouldForceToEnd = true\n\t\t\treturn false\n\t\t}\n\n\t\tconst layerTransitionsArray = this._createLayerTransitions(layerIndicesToAdd,\n\t\t\tlayerIndicesToRemove, isGoingForward)\n\n\t\tif (isChangeControlled === true) {\n\t\t\tlet hasControlledTransitions = false\n\t\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\t\tconst { controlled } = layerTransition\n\t\t\t\tif (controlled === true) {\n\t\t\t\t\thasControlledTransitions = true\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (hasControlledTransitions === false) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\n\t\tconst oldStateIndex = this._stateIndex\n\t\tlayerIndicesToAdd.forEach((layerIndex) => {\n\t\t\tconst layer = this._layerPile.getLayerAtIndex(layerIndex)\n\t\t\tthis._addLayerContent(layer, layerIndex, isGoingForward, oldStateIndex)\n\t\t})\n\n\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\tconst { slice } = layerTransition\n\t\t\tif (slice) {\n\t\t\t\tthis._layerPile.addChild(slice)\n\t\t\t}\n\t\t})\n\n\t\tthis._currentStateChange.status = \"initiated\"\n\t\tthis._currentStateChange.isGoingForward = isGoingForward\n\t\tthis._currentStateChange.layerTransitionsArray = layerTransitionsArray\n\t\tthis._currentStateChange.newStateIndex = stateIndex\n\n\t\t// If transitions are to be cancelled, force them to end\n\t\tif (shouldSkipTransition === true) {\n\t\t\tthis._currentStateChange.shouldForceToEnd = true\n\t\t}\n\n\t\tif (this._layerPile.doOnStateChangeStartOrCancel) {\n\t\t\tthis._layerPile.doOnStateChangeStartOrCancel(stateIndex, isGoingForward)\n\t\t}\n\n\t\tif (isChangeControlled === true) {\n\t\t\tthis._currentStateChange.status = \"controlled\"\n\n\t\t} else {\n\t\t\tthis._currentStateChange.status = \"looping\"\n\n\t\t\t// Start all layer transitions\n\t\t\tconst startTime = Date.now()\n\t\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\t\tlayerTransition.start(startTime)\n\t\t\t})\n\t\t}\n\n\t\treturn true\n\t}\n\n\t_createLayerIndicesToAddAndRemove(stateIndex, isGoingForward) {\n\t\tlet layerIndicesToRemove = []\n\t\tlet layerIndicesToAdd = []\n\n\t\t// For page transitions\n\t\tif (this._shouldStateLayersCoexistOutsideTransitions === false) {\n\t\t\tif (this._stateIndex !== null) { // No this._stateIndex on first goToState\n\t\t\t\tlayerIndicesToRemove = this._statesArray[this._stateIndex]\n\t\t\t}\n\t\t\tlayerIndicesToAdd = this._statesArray[stateIndex]\n\n\t\t// For layer transitions\n\t\t} else if (isGoingForward === true\n\t\t\t|| stateIndex === this._statesArray.length - 1) { // Same approach when coming back indeed\n\t\t\tlet i = (stateIndex === this._statesArray.length - 1) ? 0 : (this._stateIndex || 0)\n\t\t\twhile (i < stateIndex && i < this._statesArray.length) {\n\t\t\t\tthis._statesArray[i].forEach((layerIndex) => {\n\t\t\t\t\tconst layer = this._layerPile.getLayerAtIndex(layerIndex)\n\t\t\t\t\tthis._addLayerContent(layer, layerIndex, isGoingForward, this._stateIndex || 0)\n\t\t\t\t\tconst { content } = layer || {}\n\t\t\t\t\tcontent.setVisibility(true)\n\t\t\t\t\tlayer.finalizeEntry()\n\t\t\t\t\t// Do note that those layers are added right away, and thus will not appear\n\t\t\t\t\t// in layerIndicesToAdd, which is only concerned with the final layer,\n\t\t\t\t\t// for which an entry layerTransition may play!\n\t\t\t\t})\n\t\t\t\ti += 1\n\t\t\t}\n\t\t\tif (i === stateIndex) {\n\t\t\t\tlayerIndicesToAdd.push(...this._statesArray[i])\n\t\t\t}\n\t\t} else { // Going backward (i.e. stateIndex < this._stateIndex)\n\t\t\tlet i = this._statesArray.length - 1\n\t\t\twhile (i > stateIndex && i >= 0) {\n\t\t\t\tlayerIndicesToRemove.push(...this._statesArray[i])\n\t\t\t\ti -= 1\n\t\t\t}\n\t\t}\n\n\t\treturn { layerIndicesToAdd, layerIndicesToRemove }\n\t}\n\n\t_addLayerContent(layer, layerIndex, isGoingForward, oldStateIndex) {\n\t\t// Make content invisible (in case a fade-in has to be run)\n\t\tconst { content } = layer || {}\n\t\tcontent.setVisibility(false)\n\n\t\t// Add new layer at appropriate depth\n\t\tconst depth = this._layerPile.getDepthOfNewLayer(oldStateIndex, isGoingForward)\n\t\tthis._layerPile.addChildAtIndex(content, depth)\n\n\t\tlayer.setupForEntry(isGoingForward)\n\t}\n\n\t_createLayerTransitions(layerIndicesToAdd, layerIndicesToRemove, isGoingForward) {\n\t\tconst layerTransitionsArray = []\n\n\t\tlayerIndicesToAdd.forEach((layerIndex) => {\n\t\t\tconst layer = this._layerPile.getLayerAtIndex(layerIndex)\n\t\t\tconst { entryForward, entryBackward } = layer || {}\n\t\t\tconst entry = (isGoingForward === true) ? entryForward : entryBackward\n\t\t\tconst isExiting = false\n\t\t\tconst layerTransition = new LayerTransition(this, layer, isExiting, entry, this._player)\n\t\t\tlayerTransitionsArray.push(layerTransition)\n\t\t})\n\n\t\tlayerIndicesToRemove.forEach((layerIndex) => {\n\t\t\tconst layer = this._layerPile.getLayerAtIndex(layerIndex)\n\t\t\tconst { exitForward, exitBackward } = layer || {}\n\t\t\tconst exit = (isGoingForward === true) ? exitForward : exitBackward\n\t\t\tconst isExiting = true\n\t\t\tconst layerTransition = new LayerTransition(this, layer, isExiting, exit, this._player)\n\t\t\tlayerTransitionsArray.push(layerTransition)\n\t\t})\n\n\t\treturn layerTransitionsArray\n\t}\n\n\tnotifyTransitionEnd() {\n\t\tconst { layerTransitionsArray } = this._currentStateChange\n\t\tconst runningLayerTransitions = layerTransitionsArray.filter(\n\t\t\t({ isRunning }) => (isRunning === true),\n\t\t)\n\t\tconst nbOfRunningLayerTransitions = runningLayerTransitions.length\n\t\tif (nbOfRunningLayerTransitions === 0) {\n\t\t\tthis._endStateChange()\n\t\t}\n\t}\n\n\t_endStateChange() {\n\t\tconst { newStateIndex, endCallback } = this._currentStateChange\n\n\t\tthis._stateIndex = newStateIndex\n\n\t\tthis._layerPile.finalizeEntry()\n\t\t// Note that, in all rigor, this is not a true entry, since a PageNavigator hasn't\n\t\t// actually achieved an \"entry\" when a transition has ruled a page change (however the\n\t\t// recursive nature of the function also allows the slices of a multi-layered segments\n\t\t// with a layer transition to play automatically on the transition's end, for instance)\n\n\t\tthis._resetStateChange()\n\n\t\t// Run the callback if there was one\n\t\tif (endCallback) {\n\t\t\tendCallback()\n\t\t}\n\t}\n\n\t_cancelStateChange() {\n\t\tconst { layerTransitionsArray } = this._currentStateChange\n\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\tlayerTransition.cancel()\n\t\t})\n\n\t\tthis._resetStateChange()\n\n\t\tif (this._layerPile.doOnStateChangeStartOrCancel) {\n\t\t\tthis._layerPile.doOnStateChangeStartOrCancel(this.stateIndex)\n\t\t}\n\t}\n\n\t// Functions linked to role in LayerPile\n\n\tattemptToGoForward(shouldSkipTransition = false, doIfIsUndergoingChanges = null,\n\t\tpercent = null) {\n\t\t// Disable any new change while a controlled state change is under way\n\t\tif (this.isUndergoingControlledChanges === true) {\n\t\t\treturn true\n\t\t}\n\t\tconst isGoingForward = true\n\t\t// If a (discontinuous) state change is under way\n\t\tif (this.isUndergoingChanges === true) {\n\t\t\t// Force it to end if the movement goes the same way\n\t\t\tif (this._currentStateChange.isGoingForward === true) {\n\t\t\t\tthis._currentStateChange.shouldForceToEnd = true\n\t\t\t// Otherwise cancel it to bring the situation back to the initial state\n\t\t\t} else {\n\t\t\t\tthis._cancelStateChange()\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\tif (this._statesArray.length === 0 || this._stateIndex >= this._statesArray.length - 1) {\n\t\t\treturn false\n\t\t}\n\t\tthis.goToState(this._stateIndex + 1, isGoingForward, shouldSkipTransition, percent)\n\t\treturn true\n\t}\n\n\tattemptToGoBackward(shouldSkipTransition = false, doIfIsUndergoingChanges = null,\n\t\tpercent = null) {\n\t\tif (this.isUndergoingControlledChanges === true) {\n\t\t\treturn true\n\t\t}\n\t\tconst isGoingForward = false\n\t\tif (this.isUndergoingChanges === true) {\n\t\t\tif (this._currentStateChange.isGoingForward === false) {\n\t\t\t\tthis._currentStateChange.shouldForceToEnd = true\n\t\t\t} else {\n\t\t\t\tthis._cancelStateChange()\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\tif (this._statesArray.length === 0 || this._stateIndex === 0) {\n\t\t\treturn false\n\t\t}\n\t\tthis.goToState(this._stateIndex - 1, isGoingForward, shouldSkipTransition, percent)\n\t\treturn true\n\t}\n\n\t// Go to start or end state depending on whether goes forward or not\n\tsetupForEntry(isGoingForward) {\n\t\tthis._resetStateChange()\n\n\t\tif (isGoingForward === true) {\n\t\t\tthis.goToState(0, isGoingForward)\n\t\t} else { // Go to last state\n\t\t\tthis.goToState(this._statesArray.length - 1, isGoingForward)\n\t\t}\n\t}\n\n\tfinalizeExit() {\n\t\tthis._stateIndex = null\n\t}\n\n\tresize() {\n\t\tif (this.isUndergoingChanges === false) {\n\t\t\treturn\n\t\t}\n\t\tconst { layerTransitionsArray } = this._currentStateChange\n\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\tlayerTransition.resize()\n\t\t})\n\t}\n\n\thandleScroll(scrollData, isWheelScroll) {\n\t\tif (this._stateIndex === null) {\n\t\t\treturn true\n\t\t}\n\n\t\tconst layersArray = this._statesArray[this._stateIndex]\n\t\tif (layersArray.length === 1) {\n\t\t\tconst layerIndex = layersArray[0]\n\t\t\tconst layer = this._layerPile.getLayerAtIndex(layerIndex)\n\t\t\tconst { content } = layer\n\t\t\tif (content.handleScroll\n\t\t\t\t&& content.handleScroll(scrollData, isWheelScroll) === true) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\tif (isWheelScroll === true) {\n\t\t\treturn true\n\t\t}\n\n\t\tconst { viewportPercent } = scrollData\n\n\t\tif (!this._stateDeltaForTransitionControl\n\t\t\t|| this.isUndergoingControlledChanges === false) {\n\t\t\tif (viewportPercent > 0) {\n\t\t\t\tthis._stateDeltaForTransitionControl = 1\n\t\t\t} else if (viewportPercent < 0) {\n\t\t\t\tthis._stateDeltaForTransitionControl = -1\n\t\t\t}\n\n\t\t} else if (this.isUndergoingControlledChanges === true) {\n\t\t\tlet newStateDelta = null\n\t\t\tif (viewportPercent > 0) {\n\t\t\t\tnewStateDelta = 1\n\t\t\t} else if (viewportPercent < 0) {\n\t\t\t\tnewStateDelta = -1\n\t\t\t}\n\t\t\tif (newStateDelta !== this._stateDeltaForTransitionControl) {\n\t\t\t\tconst shouldBeAnimated = false\n\t\t\t\tthis.endControlledTransition(0, shouldBeAnimated)\n\n\t\t\t\tthis._stateDeltaForTransitionControl = newStateDelta\n\t\t\t\tconst isGoingForward = (this._stateDeltaForTransitionControl > 0)\n\t\t\t\tconst shouldSkipTransition = false\n\t\t\t\tconst isChangeControlled = true\n\t\t\t\treturn (this.goToState(this._stateIndex + this._stateDeltaForTransitionControl,\n\t\t\t\t\tisGoingForward, shouldSkipTransition, isChangeControlled) === true)\n\t\t\t}\n\t\t}\n\n\t\tif (this._stateDeltaForTransitionControl === 1\n\t\t\t|| this._stateDeltaForTransitionControl === -1) {\n\n\t\t\t// Continue controlling changes if controlled changed are under way\n\t\t\tif (this.isUndergoingControlledChanges === true) {\n\t\t\t\tlet percent = viewportPercent * this._stateDeltaForTransitionControl\n\t\t\t\tpercent = Math.min(Math.max(percent, 0), 1)\n\t\t\t\tthis.goToIntermediateState(percent)\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\t// Otherwise attempt to start controlled changes\n\t\t\tconst isGoingForward = (this._stateDeltaForTransitionControl > 0)\n\t\t\tconst shouldSkipTransition = false\n\t\t\tconst isChangeControlled = true\n\t\t\treturn (this.goToState(this._stateIndex + this._stateDeltaForTransitionControl,\n\t\t\t\tisGoingForward, shouldSkipTransition, isChangeControlled) === true)\n\t\t}\n\n\t\treturn false\n\t}\n\n\tgoToIntermediateState(percent) {\n\t\tconst { layerTransitionsArray } = this._currentStateChange\n\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\tlayerTransition.goToIntermediateState(percent)\n\t\t})\n\t}\n\n\tendControlledTransition(viewportPercent, shouldBeAnimated) {\n\t\tif (this._stateIndex === null) {\n\t\t\treturn true\n\t\t}\n\n\t\tconst layersArray = this._statesArray[this._stateIndex]\n\t\tif (layersArray.length === 1) {\n\t\t\tconst layerIndex = layersArray[0]\n\t\t\tconst layer = this._layerPile.getLayerAtIndex(layerIndex)\n\t\t\tconst { content } = layer\n\t\t\tif (content.endControlledTransition\n\t\t\t\t&& content.endControlledTransition(viewportPercent, shouldBeAnimated) === true) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\tif (this.isUndergoingControlledChanges === false) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst percent = Math.abs(viewportPercent)\n\t\tif (percent >= 0.5) {\n\t\t\tconst { layerTransitionsArray } = this._currentStateChange\n\t\t\tlayerTransitionsArray.forEach((layerTransition) => {\n\t\t\t\tlayerTransition.end()\n\t\t\t})\n\n\t\t} else {\n\t\t\tthis._cancelStateChange()\n\t\t}\n\n\t\tthis._stateDeltaForTransitionControl = null\n\t\treturn true\n\t}\n\n}","import * as Utils from \"../../utils\"\nimport * as constants from \"../../constants\"\n\nexport default class Camera {\n\n\tget isZoomed() { return (this._zoomFactor !== 1) }\n\n\t// When the scene is jumping between two snap points, isAutoScrolling === true\n\tget isAutoScrolling() {\n\t\treturn (this._jumpData) ? this._jumpData.isAutoScrolling : false\n\t}\n\n\t// In a scene that is larger than the viewport, isAtStart = true on reaching it going forward\n\t// (while a scene that is not larger than the viewport is considered to be always at its start)\n\tget isAtStart() {\n\t\treturn (this.isZoomed === false && (this._progress === null || this._progress === 0))\n\t}\n\n\t// In a scene larger than the viewport, isAtEnd = true before leaving the scene going forward\n\t// (while a scene that is not larger than the viewport is considered to be always at its end)\n\tget isAtEnd() {\n\t\treturn (this.isZoomed === false && (this._progress === null || this._progress === 1))\n\t}\n\n\tget _hasSpaceToMove() {\n\t\treturn (Math.abs(this._maxX - this._minX) + Math.abs(this._maxY - this._minY) > 0)\n\t}\n\n\tconstructor(scene, overflow, hAlign, vAlign, player) {\n\t\t// A scene is just a layerPile (in the Divina case, can only be a page)\n\t\tthis._scene = scene\n\t\tthis._overflow = overflow\n\t\tthis._hAlign = hAlign\n\t\tthis._vAlign = vAlign\n\n\t\t// Useful for viewportRect and updateDisplayForZoomFactor (and options just below)\n\t\tthis._player = player\n\t\tconst { eventEmitter } = this._player\n\t\tthis._eventEmitter = eventEmitter\n\n\t\tconst { options } = player\n\t\tconst {\n\t\t\tallowsPaginatedScroll,\n\t\t\tisPaginationSticky,\n\t\t\tisPaginationGridBased,\n\t\t} = options\n\t\tconst shouldReturnDefaultValue = true\n\t\tthis._allowsPaginatedScroll = Utils.returnValidValue(\"allowsPaginatedScroll\", allowsPaginatedScroll,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._isPaginationSticky = Utils.returnValidValue(\"isPaginationSticky\", isPaginationSticky,\n\t\t\tshouldReturnDefaultValue)\n\t\tthis._isPaginationGridBased = Utils.returnValidValue(\"isPaginationGridBased\", isPaginationGridBased,\n\t\t\tshouldReturnDefaultValue)\n\n\t\tthis._inScrollDirection = null\n\t\tthis._relativeStart = null\n\t\tthis._relativeEnd = null\n\t\tthis._referenceDimension = null\n\n\t\t// The distance to cover can change on a resize (because of the change in viewportRect),\n\t\t// but it cannot not change with a change in zoomFactor (the value is the one that applies\n\t\t// when zoomFactor === 1; it is always positive)\n\t\tthis._distanceToCover = 0\n\n\t\t// The below values can necessarily change on a resize, but also with a zoom change\n\t\tthis._progress = null // However if null, progress remains null whatever the zoomFactor\n\t\tthis._minX = 0 // Minimum value for the camera center's coordinate on the x axis\n\t\tthis._maxX = 0\n\t\tthis._minY = 0\n\t\tthis._maxY = 0\n\t\tthis._currentPosition = { x: 0, y: 0 } // Camera center in non-scaled/non-zoomed referential\n\t\tthis._signedPercent = null // Signed % of currentPosition x or y over full scene width or height\n\n\t\tthis._segmentsInfoArray = []\n\n\t\tthis._snapPointsArray = []\n\t\tthis._reset()\n\t\tthis._possibleError = 0\n\t\tthis._paginationProgressStep = null\n\t\tthis._lastNonTemporaryProgress = null\n\n\t\tthis._sliceAnimationsArray = null\n\t\tthis._soundAnimationsArray = null\n\n\t\tthis._zoomFactor = 1\n\t\tthis._zoomTouchPoint = null\n\t}\n\n\t_reset() {\n\t\tthis._jumpData = {\n\t\t\tisAutoScrolling: false,\n\t\t\tstartDate: null,\n\t\t\tduration: 0,\n\t\t\tstartProgress: null,\n\t\t\ttargetProgress: null,\n\t\t\tshouldForceToEnd: false,\n\t\t\tendCallback: null,\n\t\t}\n\t}\n\n\tsetInScrollDirection(inScrollDirection) {\n\t\tthis._inScrollDirection = inScrollDirection\n\t\tthis._setRelativeStartAndEnd(inScrollDirection)\n\t\tthis._setReferenceDimension(inScrollDirection)\n\t}\n\n\t// Based on the page's inScrollDirection, express the viewport \"start\"\n\t// and \"end\" points in relative coordinates (from the top left corner)\n\t_setRelativeStartAndEnd(inScrollDirection) {\n\t\tthis._relativeStart = null\n\t\tthis._relativeEnd = null\n\t\tswitch (inScrollDirection) {\n\t\tcase \"ltr\":\n\t\t\tthis._relativeStart = { x: 0, y: 0.5 } // Start is the middle left point\n\t\t\tthis._relativeEnd = { x: 1, y: 0.5 } // End is the middle right point\n\t\t\tbreak\n\t\tcase \"rtl\":\n\t\t\tthis._relativeStart = { x: 1, y: 0.5 }\n\t\t\tthis._relativeEnd = { x: 0, y: 0.5 }\n\t\t\tbreak\n\t\tcase \"ttb\":\n\t\t\tthis._relativeStart = { x: 0.5, y: 0 }\n\t\t\tthis._relativeEnd = { x: 0.5, y: 1 }\n\t\t\tbreak\n\t\tcase \"btt\":\n\t\t\tthis._relativeStart = { x: 0.5, y: 1 }\n\t\t\tthis._relativeEnd = { x: 0.5, y: 0 }\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t}\n\n\t_setReferenceDimension(inScrollDirection) {\n\t\tif (inScrollDirection === \"ltr\" || inScrollDirection === \"rtl\") {\n\t\t\tthis._referenceDimension = \"width\"\n\t\t}\n\t\tif (inScrollDirection === \"ttb\" || inScrollDirection === \"btt\") {\n\t\t\tthis._referenceDimension = \"height\"\n\t\t}\n\t}\n\n\taddSnapPoints(indexInLayerPile, snapPointsArray) {\n\t\tsnapPointsArray.forEach((snapPoint) => {\n\t\t\tconst fullSnapPoint = { ...snapPoint, pageSegmentIndex: indexInLayerPile }\n\t\t\tthis._snapPointsArray.push(fullSnapPoint)\n\t\t})\n\t}\n\n\taddSliceAnimation(indexInLayerPile, slice, animation) {\n\t\tthis._sliceAnimationsArray = this._sliceAnimationsArray || []\n\n\t\tconst fullAnimation = { ...animation }\n\t\tconst { type, keyframesArray } = animation\n\t\tif (type === \"point\") {\n\t\t\tkeyframesArray.forEach((keyframe, i) => {\n\t\t\t\tfullAnimation.keyframesArray[i].key.pageSegmentIndex = indexInLayerPile\n\t\t\t})\n\t\t}\n\t\tthis._sliceAnimationsArray.push({ slice, animation: fullAnimation })\n\t}\n\n\taddSoundAnimation(indexInLayerPile, animation) {\n\t\tthis._soundAnimationsArray = this._soundAnimationsArray || []\n\n\t\tconst fullAnimation = { ...animation }\n\t\tconst { type } = animation\n\t\tif (type === \"point\") {\n\t\t\tfullAnimation.start.pageSegmentIndex = indexInLayerPile\n\t\t\tif (fullAnimation.end) {\n\t\t\t\tfullAnimation.end.pageSegmentIndex = indexInLayerPile\n\t\t\t}\n\t\t} else { // If type === \"progress\", rewrite start and end to unify notation\n\t\t\tfullAnimation.start = { progress: fullAnimation.start }\n\t\t\tif (fullAnimation.end !== undefined) {\n\t\t\t\tfullAnimation.end = { progress: fullAnimation.end }\n\t\t\t}\n\t\t}\n\t\tthis._soundAnimationsArray.push(fullAnimation)\n\t}\n\n\t// After an overflowHandler's _positionSegments() operation, so in particular after a resize:\n\t// - If the total length of all segments together is less than the relevant viewport dimension,\n\t// then the camera will not have space to move (but beware: this is only true if zoomFactor = 1),\n\t// so its start and end positions will be set to the center of the whole segment block (= scene)\n\t// - If not, _distanceToCover !== 0 (which will force _hasSpaceToMove = true) and the camera\n\t// respective to the first segment (e.g. if ltr: the camera's center is positioned so that the\n\t// camera's left side corresponds to the first segment's left side, where x = 0)\n\t// (Also, do note that small pixel errors are accounted for!)\n\tsetBoundsAndUpdateOnResize() {\n\t\tconst { viewportRect } = this._player\n\t\tconst { width, height } = viewportRect\n\t\tconst sceneSize = this._scene.size\n\n\t\t// In the below:\n\t\t// - startP is a start progress value - only used on a secondary axis\n\t\t// - p0 and p1 are camera center positions for progress = 0 and progress = 1,\n\t\t// in the non-zoomed referential (meaning they depend on viewportRect, and are therefore\n\t\t// impacted by a resize), while min and max are in the zoomed (i.e. scaled) referential\n\t\tthis._camCenter = {\n\t\t\tx: {\n\t\t\t\tp0: 0, p1: 0, isPrimaryAxis: false, startP: 0.5,\n\t\t\t},\n\t\t\ty: {\n\t\t\t\tp0: 0, p1: 0, isPrimaryAxis: false, startP: 0.5,\n\t\t\t},\n\t\t}\n\t\tthis._distanceToCover = 0\n\n\t\tlet distanceToCover\n\t\tlet signFactor\n\n\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\tthis._camCenter.x.isPrimaryAxis = true\n\n\t\t\tdistanceToCover = sceneSize.width - width\n\t\t\tsignFactor = (this._inScrollDirection === \"rtl\") ? -1 : 1\n\n\t\t\tif (distanceToCover <= constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tdistanceToCover = 0\n\t\t\t\tthis._camCenter.x.p0 = signFactor * (sceneSize.width / 2)\n\t\t\t} else {\n\t\t\t\tthis._distanceToCover = distanceToCover\n\t\t\t\tthis._camCenter.x.p0 = signFactor * (width / 2)\n\t\t\t}\n\t\t\tthis._camCenter.x.p1 = this._camCenter.x.p0 + signFactor * distanceToCover\n\n\t\t\t// There is no need for a direction on the secondary axis, so we'll define p0 as the\n\t\t\t// value for which y is min (top), and p1 as the value for which y is max (bottom)\n\t\t\t// Remember that, in Page, the height in case of ltr or rtl with more than 1 segment\n\t\t\t// is set to viewport height, so y.p0 and y.p1 are left at 0, and no vAlign applies\n\t\t\t// (meaning it is considered as \"center\" by default)\n\t\t\tif (sceneSize.height >= height - constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tthis._camCenter.y.p0 = (height - sceneSize.height) / 2\n\t\t\t\tthis._camCenter.y.p1 = (sceneSize.height - height) / 2\n\t\t\t\tif (this._vAlign === \"top\") {\n\t\t\t\t\tthis._camCenter.y.startP = 0\n\t\t\t\t} else if (this._vAlign === \"bottom\") {\n\t\t\t\t\tthis._camCenter.y.startP = 1\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if (this._inScrollDirection === \"ttb\" || this._inScrollDirection === \"btt\") {\n\t\t\tthis._camCenter.y.isPrimaryAxis = true\n\n\t\t\tdistanceToCover = sceneSize.height - height\n\t\t\tsignFactor = (this._inScrollDirection === \"btt\") ? -1 : 1\n\n\t\t\tif (distanceToCover <= constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tdistanceToCover = 0\n\t\t\t\tthis._camCenter.y.p0 = signFactor * (sceneSize.height / 2)\n\t\t\t} else {\n\t\t\t\tthis._distanceToCover = distanceToCover\n\t\t\t\tthis._camCenter.y.p0 = signFactor * (height / 2)\n\t\t\t}\n\t\t\tthis._camCenter.y.p1 = this._camCenter.y.p0 + signFactor * distanceToCover\n\n\t\t\tif (sceneSize.width >= width - constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tthis._camCenter.x.p0 = (width - sceneSize.width) / 2\n\t\t\t\tthis._camCenter.x.p1 = (sceneSize.width - width) / 2\n\t\t\t\tif (this._hAlign === \"left\") {\n\t\t\t\t\tthis._camCenter.x.startP = 0\n\t\t\t\t} else if (this._hAlign === \"right\") {\n\t\t\t\t\tthis._camCenter.x.startP = 1\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst callback = () => {\n\t\t\t// Update snap point-related speeds based on inScrollDirection\n\t\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\t\tthis._snapJumpSpeed = width * constants.SNAP_JUMP_SPEED_FACTOR\n\t\t\t\tthis._stickyMoveSpeed = width * constants.STICKY_MOVE_SPEED_FACTOR\n\t\t\t} else {\n\t\t\t\tthis._snapJumpSpeed = height * constants.SNAP_JUMP_SPEED_FACTOR\n\t\t\t\tthis._stickyMoveSpeed = height * constants.STICKY_MOVE_SPEED_FACTOR\n\t\t\t}\n\n\t\t\t// Force zoomFactor to 1 and recompute x and y bounds\n\t\t\tthis._setZoomFactorAndUpdateBounds(1)\n\n\t\t\t// Recompute progress by segment\n\t\t\tthis._updateSegmentInfoArray()\n\n\t\t\t// If the page is larger than the effective viewport...\n\t\t\tif (this._distanceToCover > 0) {\n\n\t\t\t\t// Compute the possible error for progress calculations\n\t\t\t\tthis._possibleError = this._getProgressStepForLength(constants.POSSIBLE_PIXEL_ERROR)\n\n\t\t\t\t// Compute the progress delta corresponding to one pagination step forward\n\t\t\t\tthis._paginationProgressStep = this._getPaginationProgressStep()\n\n\t\t\t\tthis._computeProgressValuesForResourcePoints()\n\t\t\t}\n\n\t\t\t// Now reposition the camera and update progress (if not null)\n\t\t\tthis._updatePositionAndProgressOnResize()\n\t\t}\n\n\t\t// If we were actually jumping between snap points, force jump to end\n\t\tif (this.isAutoScrolling === true) {\n\t\t\tthis._jumpData.shouldForceToEnd = true\n\t\t\tthis._jumpData.endCallback = callback\n\t\t} else {\n\t\t\tcallback()\n\t\t}\n\t}\n\n\t_getPaginationProgressStep() {\n\t\tconst { viewportRect } = this._player\n\t\tconst { width, height } = viewportRect\n\t\tlet progressStep = 0\n\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\tprogressStep = this._getProgressStepForLength(width)\n\t\t} else if (this._inScrollDirection === \"ttb\" || this._inScrollDirection === \"btt\") {\n\t\t\tprogressStep = this._getProgressStepForLength(height)\n\t\t}\n\t\treturn progressStep\n\t}\n\n\t_getProgressStepForLength(length) {\n\t\tconst progressStep = Math.min(Math.max(length / this._distanceToCover, 0), 1)\n\t\treturn progressStep\n\t}\n\n\t// Build all relevant points (for snap points and animations)\n\t// by adding a progress value to their raw information\n\t// (ensuring that progress always increases in arrays of snap points and keyframes)\n\t_computeProgressValuesForResourcePoints() {\n\t\t// For snap points\n\t\tlet lastProgress = 0\n\t\tthis._snapPointsArray.forEach((point, i) => {\n\t\t\tlet progress = this._getProgressForPoint(point)\n\t\t\tprogress = Math.max(progress, lastProgress)\n\t\t\tthis._snapPointsArray[i].progress = progress\n\t\t\tlastProgress = progress\n\t\t})\n\n\t\t// For point-based animations\n\t\tif (this._sliceAnimationsArray) {\n\t\t\tthis._sliceAnimationsArray.forEach(({ animation }, i) => {\n\t\t\t\tlastProgress = 0\n\t\t\t\tconst { type, keyframesArray } = animation\n\t\t\t\tkeyframesArray.forEach(({ key }, j) => {\n\t\t\t\t\tlet progress = (type === \"point\") ? this._getProgressForPoint(key) : key\n\t\t\t\t\tprogress = Math.max(progress, lastProgress)\n\t\t\t\t\tthis._sliceAnimationsArray[i].animation.keyframesArray[j].progress = progress\n\t\t\t\t\tlastProgress = progress\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\tif (this._soundAnimationsArray) {\n\t\t\tthis._soundAnimationsArray.forEach(({ type, start, end }, i) => {\n\t\t\t\tif (type === \"point\") {\n\t\t\t\t\tlet progress = this._getProgressForPoint(start)\n\t\t\t\t\tthis._soundAnimationsArray[i].start.progress = progress\n\t\t\t\t\tif (end) {\n\t\t\t\t\t\tprogress = this._getProgressForPoint(end)\n\t\t\t\t\t\tthis._soundAnimationsArray[i].end.progress = progress\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t_getProgressForPoint(point) {\n\t\tconst {\n\t\t\tpageSegmentIndex,\n\t\t\tviewport,\n\t\t\tx,\n\t\t\ty,\n\t\t\tunit,\n\t\t} = point\n\t\tif (pageSegmentIndex >= this._segmentsInfoArray.length) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst segmentInfo = this._segmentsInfoArray[pageSegmentIndex]\n\t\tconst { size, unscaledSize, positionInSegmentLine } = segmentInfo\n\n\t\t// Get the center position of the camera for the snap point alignment\n\t\tconst position = this._getCameraPositionInSegmentForAlignment(viewport, { x, y }, unit, size,\n\t\t\tunscaledSize)\n\t\tif (!position) {\n\t\t\treturn null\n\t\t}\n\n\t\tlet progress = null\n\n\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\n\t\t\t// Update the position based on the segment's position in the scene\n\n\t\t\tif (this._inScrollDirection === \"ltr\") {\n\t\t\t\tposition.x += positionInSegmentLine\n\t\t\t} else {\n\t\t\t\tposition.x += -positionInSegmentLine\n\t\t\t}\n\n\t\t\t// Compute the distance from the scene container's start point to that new point\n\n\t\t\tconst xDistance = Math.abs(position.x - this._camCenter.x.p0)\n\n\t\t\tif (xDistance < constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tprogress = 0\n\t\t\t} else if (Math.abs(this._distanceToCover - xDistance) <= constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tprogress = 1\n\t\t\t} else {\n\t\t\t\tprogress = Math.min(Math.max(xDistance / this._distanceToCover, 0), 1)\n\t\t\t}\n\n\t\t} else if (this._inScrollDirection === \"ttb\" || this._inScrollDirection === \"btt\") {\n\n\t\t\tif (this._inScrollDirection === \"ttb\") {\n\t\t\t\tposition.y += positionInSegmentLine\n\t\t\t} else {\n\t\t\t\tposition.y += -positionInSegmentLine\n\t\t\t}\n\n\t\t\tconst yDistance = Math.abs(position.y - this._camCenter.y.p0)\n\n\t\t\tif (yDistance < constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tprogress = 0\n\t\t\t} else if (Math.abs(this._distanceToCover - yDistance) <= constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tprogress = 1\n\t\t\t} else {\n\t\t\t\tprogress = Math.min(Math.max(yDistance / this._distanceToCover, 0), 1)\n\t\t\t}\n\t\t}\n\n\t\treturn progress\n\t}\n\n\t// Get the position of the camera's center point corresponding to a given point alignment\n\t_getCameraPositionInSegmentForAlignment(viewport, coords, unit, segmentSize,\n\t\tunscaledSegmentSize) {\n\t\tconst sign = (this._inScrollDirection === \"rtl\" || this._inScrollDirection === \"btt\") ? -1 : 1\n\t\tlet x = null\n\t\tif (coords.x !== undefined) {\n\t\t\tif (unit === \"%\") {\n\t\t\t\tx = Math.min(Math.max(0, (coords.x * segmentSize.width) / 100), segmentSize.width)\n\t\t\t} else if (unit === \"px\") {\n\t\t\t\tconst percent = Math.min(Math.max(0, coords.x / unscaledSegmentSize.width), 1)\n\t\t\t\tx = Math.min(Math.max(0, percent * segmentSize.width), segmentSize.width)\n\t\t\t}\n\t\t} else {\n\t\t\tx = 0\n\t\t}\n\t\tlet y = null\n\t\tif (coords.y !== undefined) {\n\t\t\tif (unit === \"%\") {\n\t\t\t\ty = Math.min(Math.max(0, (coords.y * segmentSize.height) / 100), segmentSize.height)\n\t\t\t} else if (unit === \"px\") {\n\t\t\t\tconst percent = Math.min(Math.max(0, coords.y / unscaledSegmentSize.height), 1)\n\t\t\t\ty = Math.min(Math.max(0, percent * segmentSize.height), segmentSize.height)\n\t\t\t}\n\t\t} else {\n\t\t\ty = 0\n\t\t}\n\t\tif (x === null && y === null) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst { viewportRect } = this._player\n\t\tconst { width, height } = viewportRect\n\t\tconst position = {\n\t\t\tx: sign * x,\n\t\t\ty: sign * y,\n\t\t}\n\t\tswitch (viewport) {\n\t\tcase \"start\":\n\t\t\tposition.x -= (this._relativeStart.x - 0.5) * width\n\t\t\tposition.y -= (this._relativeStart.y - 0.5) * height\n\t\t\tbreak\n\t\tcase \"end\":\n\t\t\tposition.x -= (this._relativeEnd.x - 0.5) * width\n\t\t\tposition.y -= (this._relativeEnd.y - 0.5) * height\n\t\t\tbreak\n\t\tdefault: // \"center\"\n\t\t\tbreak\n\t\t}\n\n\t\treturn position\n\t}\n\n\t// Called by a resize or zoom change\n\t_setZoomFactorAndUpdateBounds(zoomFactor) {\n\t\tthis._zoomFactor = Math.min(Math.max(zoomFactor, 1), constants.MAX_ZOOM)\n\t\tthis._scene.setScale(this._zoomFactor) // Reminder: this._scene is a Container\n\n\t\tthis._player.updateDisplayForZoomFactor(zoomFactor)\n\n\t\tthis._updateMinAndMaxX()\n\t\tthis._updateMinAndMaxY()\n\t\tthis._updateOffsetInScaledReferential()\n\t}\n\n\t_updateMinAndMaxX() {\n\t\tconst { viewportRect, viewportBoundingRect } = this._player\n\n\t\tif (this._inScrollDirection === \"ltr\") {\n\t\t\t// If the scene overflows from the start...\n\t\t\tif (this._scene.size.width > viewportRect.width) {\n\t\t\t\tthis._minX = Math.min((viewportRect.width / 2) * this._zoomFactor,\n\t\t\t\t\tviewportBoundingRect.width / 2)\n\t\t\t\tthis._maxX = -this._minX + this._scene.size.width * this._zoomFactor\n\n\t\t\t// ... otherwise if the zoom makes the scene overflow\n\t\t\t} else if (this._scene.size.width * this._zoomFactor > viewportBoundingRect.width) {\n\t\t\t\tthis._minX = viewportBoundingRect.width / 2\n\t\t\t\tthis._maxX = -this._minX + this._scene.size.width * this._zoomFactor\n\n\t\t\t// ... otherwise\n\t\t\t} else {\n\t\t\t\tthis._minX = (this._scene.size.width / 2) * this._zoomFactor\n\t\t\t\tthis._maxX = this._minX\n\t\t\t}\n\n\t\t} else if (this._inScrollDirection === \"rtl\") {\n\t\t\tif (this._scene.size.width > viewportRect.width) {\n\t\t\t\tthis._maxX = -Math.min((viewportRect.width / 2) * this._zoomFactor,\n\t\t\t\t\tviewportBoundingRect.width / 2)\n\t\t\t\tthis._minX = -this._maxX - this._scene.size.width * this._zoomFactor\n\n\t\t\t} else if (this._scene.size.width * this._zoomFactor > viewportBoundingRect.width) {\n\t\t\t\tthis._maxX = -viewportBoundingRect.width / 2\n\t\t\t\tthis._minX = -this._maxX - this._scene.size.width * this._zoomFactor\n\n\t\t\t} else {\n\t\t\t\tthis._maxX = -(this._scene.size.width / 2) * this._zoomFactor\n\t\t\t\tthis._minX = this._maxX\n\t\t\t}\n\n\t\t} else {\n\t\t\tconst { p0, p1 } = this._camCenter.x\n\n\t\t\t// Compute a delta depending on whether the segment line is scrollable on its secondary x axis\n\t\t\tconst sizeDiff = (p0 === p1) // p0===p1 <=> not scrollable on secondary y axis\n\t\t\t\t? this._scene.size.width * this._zoomFactor - viewportBoundingRect.width\n\t\t\t\t: viewportRect.width * this._zoomFactor - viewportBoundingRect.width\n\t\t\tconst delta = (sizeDiff > 0) ? (sizeDiff / 2) : 0\n\n\t\t\tthis._minX = p0 * this._zoomFactor - delta\n\t\t\tthis._maxX = p1 * this._zoomFactor + delta\n\t\t}\n\t}\n\n\t_updateMinAndMaxY() {\n\t\tconst { viewportRect, viewportBoundingRect } = this._player\n\n\t\tif (this._inScrollDirection === \"ttb\") {\n\t\t\tif (this._scene.size.height > viewportRect.height) {\n\t\t\t\tthis._minY = Math.min((viewportRect.height / 2) * this._zoomFactor,\n\t\t\t\t\tviewportBoundingRect.height / 2)\n\t\t\t\tthis._maxY = -this._minY + this._scene.size.height * this._zoomFactor\n\n\t\t\t} else if (this._scene.size.height * this._zoomFactor > viewportBoundingRect.height) {\n\t\t\t\tthis._minY = viewportBoundingRect.height / 2\n\t\t\t\tthis._maxY = -this._minY + this._scene.size.height * this._zoomFactor\n\n\t\t\t} else {\n\t\t\t\tthis._minY = (this._scene.size.height / 2) * this._zoomFactor\n\t\t\t\tthis._maxY = this._minY\n\t\t\t}\n\n\t\t} else if (this._inScrollDirection === \"btt\") {\n\t\t\tif (this._scene.size.height > viewportRect.height) {\n\t\t\t\tthis._maxY = -Math.min((viewportRect.height / 2) * this._zoomFactor,\n\t\t\t\t\tviewportBoundingRect.height / 2)\n\t\t\t\tthis._minY = -this._maxY - this._scene.size.height * this._zoomFactor\n\n\t\t\t} else if (this._scene.size.height * this._zoomFactor > viewportBoundingRect.height) {\n\t\t\t\tthis._maxY = -viewportBoundingRect.height / 2\n\t\t\t\tthis._minY = -this._maxY - this._scene.size.height * this._zoomFactor\n\n\t\t\t} else {\n\t\t\t\tthis._maxY = -(this._scene.size.height / 2) * this._zoomFactor\n\t\t\t\tthis._minY = this._maxY\n\t\t\t}\n\n\t\t} else {\n\t\t\tconst { p0, p1 } = this._camCenter.y\n\n\t\t\tconst sizeDiff = (p0 === p1)\n\t\t\t\t? this._scene.size.height * this._zoomFactor - viewportBoundingRect.height\n\t\t\t\t: viewportRect.height * this._zoomFactor - viewportBoundingRect.height\n\t\t\tconst delta = (sizeDiff > 0) ? (sizeDiff / 2) : 0\n\n\t\t\tthis._minY = p0 * this._zoomFactor - delta\n\t\t\tthis._maxY = p1 * this._zoomFactor + delta\n\t\t}\n\t}\n\n\t_updateOffsetInScaledReferential() {\n\t\tlet distanceInScaledReferential = null\n\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\tdistanceInScaledReferential = this._maxX - this._minX\n\t\t} else if (this._inScrollDirection === \"ttb\" || this._inScrollDirection === \"btt\") {\n\t\t\tdistanceInScaledReferential = this._maxY - this._minY\n\t\t}\n\t\tif (!distanceInScaledReferential) {\n\t\t\treturn\n\t\t}\n\t\tthis._offsetInScaledReferential = distanceInScaledReferential\n\t\tthis._offsetInScaledReferential -= this._distanceToCover * this._zoomFactor\n\t\tthis._offsetInScaledReferential /= 2\n\t}\n\n\t_updateSegmentInfoArray() {\n\t\tif (!this._referenceDimension) {\n\t\t\treturn\n\t\t}\n\t\tconst { viewportRect } = this._player\n\n\t\tthis._segmentsInfoArray = []\n\n\t\tlet positionInSegmentLine = 0\n\t\tthis._scene.layersArray.forEach((segmentLayer) => {\n\t\t\tconst segment = segmentLayer.content\n\t\t\tconst { segmentIndex, unscaledSize } = segment\n\n\t\t\tconst { href, type } = segmentLayer.getInfo()\n\t\t\tlet segmentInfo = {\n\t\t\t\tsegmentIndex,\n\t\t\t\thref,\n\t\t\t\ttype,\n\t\t\t\tunscaledSize,\n\t\t\t\tsegment,\n\t\t\t}\n\n\t\t\tif (this._distanceToCover) {\n\t\t\t\tconst coveredDistance = positionInSegmentLine - viewportRect[this._referenceDimension] / 2\n\t\t\t\tconst progress = coveredDistance / this._distanceToCover\n\t\t\t\t// Note that we don't bound progress between 0 and 1 to allow for correct virtual points\n\t\t\t\tconst { size } = segmentLayer\n\t\t\t\tconst referenceLength = size[this._referenceDimension]\n\t\t\t\tsegmentInfo = {\n\t\t\t\t\t...segmentInfo,\n\t\t\t\t\tprogress, // Progress when the image touches the center of the viewport (going forward)\n\t\t\t\t\tsize,\n\t\t\t\t\tlength: referenceLength,\n\t\t\t\t\tpositionInSegmentLine, // In non-scaled/zoomed referential\n\t\t\t\t}\n\n\t\t\t\tpositionInSegmentLine += referenceLength\n\t\t\t}\n\n\t\t\tthis._segmentsInfoArray.push(segmentInfo)\n\t\t})\n\t}\n\n\t_updatePositionAndProgressOnResize() { // Reminder: this._zoomFactor necessarily is 1\n\n\t\t// If the scene can now entirely fit within the viewport\n\t\tif (this._distanceToCover === 0) {\n\t\t\tconst startPosition = this._getStartPosition()\n\t\t\tthis._setPosition(startPosition)\n\t\t\tconst shouldUpdatePosition = true\n\t\t\tthis.setProgress(null, shouldUpdatePosition)\n\n\t\t} else {\n\t\t\t// Keep virtual point fixed (if there is one, otherwise progress was null before)\n\t\t\tconst progress = (this._virtualPoint)\n\t\t\t\t? this._getProgressForVirtualPoint(this._virtualPoint)\n\t\t\t\t: 0\n\n\t\t\tif (this._overflow === \"paginated\" && this.isAutoScrolling === false) {\n\t\t\t\tconst shouldUpdatePosition = false\n\t\t\t\tthis.setProgress(progress, shouldUpdatePosition)\n\t\t\t\tconst isTheResultOfADragEnd = false\n\t\t\t\tthis._moveToClosestSnapPoint(isTheResultOfADragEnd)\n\n\t\t\t} else {\n\t\t\t\tconst shouldUpdatePosition = true\n\t\t\t\tthis.setProgress(progress, shouldUpdatePosition)\n\t\t\t}\n\t\t}\n\t}\n\n\t_getProgressForVirtualPoint(virtualPoint) {\n\t\tif (!virtualPoint) {\n\t\t\treturn 0\n\t\t}\n\t\tconst { pageSegmentIndex, percent } = virtualPoint\n\t\tconst point = {\n\t\t\tpageSegmentIndex,\n\t\t\tviewport: \"center\",\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tunit: \"%\",\n\t\t}\n\t\tconst coord = percent * 100\n\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\tpoint.x = coord\n\t\t} else {\n\t\t\tpoint.y = coord\n\t\t}\n\t\tconst progress = this._getProgressForPoint(point)\n\t\treturn progress\n\t}\n\n\t_getStartPosition() {\n\t\tconst { x, y } = this._camCenter\n\t\tconst startPosition = {}\n\t\tif (x.isPrimaryAxis === true) {\n\t\t\tconst { p0, p1, startP } = y\n\t\t\tconst startY = p0 + startP * (p1 - p0)\n\t\t\tstartPosition.x = x.p0\n\t\t\tstartPosition.y = startY\n\t\t} else {\n\t\t\tconst { p0, p1, startP } = x\n\t\t\tconst startX = p0 + startP * (p1 - p0)\n\t\t\tstartPosition.x = startX\n\t\t\tstartPosition.y = y.p0\n\t\t}\n\t\treturn startPosition\n\t}\n\n\t_setPosition({ x, y }) { // Note that x and y correspond to the camera's center position\n\t\tthis._currentPosition = { x, y }\n\t\tthis._scene.setPosition({ x: -x, y: -y }) // this._scene is still a Container\n\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\tthis._signedPercent = x / (this._scene.size.width * this._zoomFactor)\n\t\t} else {\n\t\t\tthis._signedPercent = y / (this._scene.size.height * this._zoomFactor)\n\t\t}\n\t}\n\n\t_updateProgressForPosition(position = this._currentPosition,\n\t\tshouldStoreLastNonTemporaryProgress = false) {\n\t\tif (this._progress === null) {\n\t\t\treturn\n\t\t}\n\t\tif (shouldStoreLastNonTemporaryProgress === true\n\t\t\t&& this._lastNonTemporaryProgress === null) {\n\t\t\tthis._lastNonTemporaryProgress = this._progress // Useful for a sticky drag\n\t\t}\n\t\tconst progress = this._getProgressForPosition(position)\n\t\tconst shouldUpdatePosition = false\n\t\tthis.setProgress(progress, shouldUpdatePosition)\n\t}\n\n\t_getProgressForPosition(position) {\n\t\tlet progress = null\n\t\tif (this._inScrollDirection === \"ltr\") {\n\t\t\tprogress = (position.x - this._minX - this._offsetInScaledReferential)\n\t\t\tprogress /= (this._maxX - this._minX - 2 * this._offsetInScaledReferential)\n\t\t} else if (this._inScrollDirection === \"rtl\") {\n\t\t\tprogress = (this._maxX - position.x - this._offsetInScaledReferential)\n\t\t\tprogress /= (this._maxX - this._minX - 2 * this._offsetInScaledReferential)\n\t\t} else if (this._inScrollDirection === \"ttb\") {\n\t\t\tprogress = (position.y - this._minY - this._offsetInScaledReferential)\n\t\t\tprogress /= (this._maxY - this._minY - 2 * this._offsetInScaledReferential)\n\t\t} else if (this._inScrollDirection === \"btt\") {\n\t\t\tprogress = (this._maxY - position.y - this._offsetInScaledReferential)\n\t\t\tprogress /= (this._maxY - this._minY - 2 * this._offsetInScaledReferential)\n\t\t}\n\t\tprogress = Math.min(Math.max(progress, 0), 1)\n\t\treturn progress\n\t}\n\n\t// Position the scene container to conform to the specified progress value\n\tsetProgress(p = null, shouldUpdatePosition = true) {\n\t\tconst hasProgressChanged = (p !== this._progress)\n\t\tthis._progress = p\n\n\t\tif (p !== null) {\n\t\t\tthis._virtualPoint = this._getVirtualPoint()\n\n\t\t\tconst { pageNavigator } = this._player\n\t\t\tif (pageNavigator.loadingMode === \"segment\" && pageNavigator.isInAGoTo === false) {\n\t\t\t\tconst forceUpdate = false\n\t\t\t\tif (this._virtualPoint) {\n\t\t\t\t\tconst { segmentIndex } = this._virtualPoint\n\t\t\t\t\tpageNavigator.updateSegmentLoadTasks(segmentIndex, forceUpdate)\n\t\t\t\t} else if (this._segmentsInfoArray.length > 0 && this._segmentsInfoArray[0]) {\n\t\t\t\t\tpageNavigator.updateSegmentLoadTasks(this._segmentsInfoArray[0].segmentIndex,\n\t\t\t\t\t\tforceUpdate)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Process progress animations\n\t\t\tif (this._sliceAnimationsArray) {\n\t\t\t\tthis._sliceAnimationsArray.forEach((animationData) => {\n\t\t\t\t\tthis._playSliceAnimation(animationData)\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (this._soundAnimationsArray) {\n\t\t\t\tthis._soundAnimationsArray.forEach((soundAnimation) => {\n\t\t\t\t\tthis._playSoundAnimation(soundAnimation)\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tthis._virtualPoint = null\n\t\t}\n\n\t\tif (hasProgressChanged === true) {\n\t\t\tconst { pageNavigator } = this._player\n\t\t\tconst { pageIndex, nbOfSegments, pageNavType } = pageNavigator\n\t\t\tlet locator = null\n\t\t\tif (this._virtualPoint) {\n\t\t\t\tconst {\n\t\t\t\t\thref, type, segmentIndex = 0, percent,\n\t\t\t\t} = this._virtualPoint || {}\n\t\t\t\tconst totalProgression = Math.min((segmentIndex + 1 + percent) / nbOfSegments, 1)\n\t\t\t\tconst locations = {\n\t\t\t\t\tposition: pageIndex || 0,\n\t\t\t\t\tprogression: this._progress,\n\t\t\t\t\ttotalProgression,\n\t\t\t\t}\n\t\t\t\tlocator = {\n\t\t\t\t\thref, type, locations, text: pageNavType,\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlocator = pageNavigator.getLocator()\n\t\t\t}\n\t\t\tconst data = { locator }\n\t\t\tthis._eventEmitter.emit(\"inpagescroll\", data)\n\t\t}\n\n\t\tif (shouldUpdatePosition === false) {\n\t\t\tif (hasProgressChanged === true) {\n\t\t\t\tthis._player.refreshOnce()\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tif (p === null) {\n\t\t\tconst startPosition = this._getStartPosition()\n\t\t\tthis._setPosition(startPosition)\n\t\t\tthis._player.refreshOnce()\n\n\t\t} else if (hasProgressChanged === true || this._progress === 0 || this._progress === 1) {\n\t\t\tlet position = this._currentPosition\n\t\t\tif (this._inScrollDirection === \"ltr\") {\n\t\t\t\tposition = {\n\t\t\t\t\tx: this._minX + p * (this._camCenter.x.p1 - this._camCenter.x.p0) * this._zoomFactor,\n\t\t\t\t\ty: Math.min(Math.max(this._currentPosition.y, this._minY), this._maxY),\n\t\t\t\t}\n\t\t\t} else if (this._inScrollDirection === \"rtl\") {\n\t\t\t\tposition = {\n\t\t\t\t\tx: this._maxX + p * (this._camCenter.x.p1 - this._camCenter.x.p0) * this._zoomFactor,\n\t\t\t\t\ty: Math.min(Math.max(this._currentPosition.y, this._minY), this._maxY),\n\t\t\t\t}\n\t\t\t} else if (this._inScrollDirection === \"ttb\") {\n\t\t\t\tposition = {\n\t\t\t\t\tx: Math.min(Math.max(this._currentPosition.x, this._minX), this._maxX),\n\t\t\t\t\ty: this._minY + p * (this._camCenter.y.p1 - this._camCenter.y.p0) * this._zoomFactor,\n\t\t\t\t}\n\t\t\t} else if (this._inScrollDirection === \"btt\") {\n\t\t\t\tposition = {\n\t\t\t\t\tx: Math.min(Math.max(this._currentPosition.x, this._minX), this._maxX),\n\t\t\t\t\ty: this._maxY + p * (this._camCenter.y.p1 - this._camCenter.y.p0) * this._zoomFactor,\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._setPosition(position)\n\t\t\tthis._player.refreshOnce()\n\t\t}\n\t}\n\n\t_playSliceAnimation(animationData) {\n\t\tconst { slice, animation } = animationData\n\n\t\tconst { variable, keyframesArray } = animation\n\t\tif (!keyframesArray || keyframesArray.length === 0) {\n\t\t\treturn\n\t\t}\n\t\tlet i = keyframesArray.length - 1\n\t\tlet { progress } = keyframesArray[i]\n\t\twhile (i >= 0 && progress >= this._progress) {\n\t\t\ti -= 1\n\t\t\tif (i >= 0) {\n\t\t\t\tprogress = keyframesArray[i].progress\n\t\t\t}\n\t\t}\n\t\ti = Math.max(i, 0)\n\n\t\tconst previousProgress = keyframesArray[i].progress\n\t\tconst previousValue = keyframesArray[i].value\n\n\t\tif (i === keyframesArray.length - 1) {\n\t\t\tconst value = previousValue\n\t\t\tslice.setVariable(variable, value)\n\n\t\t} else if (keyframesArray[i + 1].progress !== null) {\n\t\t\tconst nextProgress = keyframesArray[i + 1].progress\n\t\t\tconst nextValue = keyframesArray[i + 1].value\n\t\t\tif (nextValue !== previousValue) {\n\t\t\t\tlet value = nextValue\n\t\t\t\tif (nextProgress !== previousProgress) { // Linear easing is assumed\n\t\t\t\t\tvalue = (this._progress - previousProgress) / (nextProgress - previousProgress)\n\t\t\t\t\tvalue *= (nextValue - previousValue)\n\t\t\t\t\tvalue += previousValue\n\t\t\t\t}\n\t\t\t\tslice.setVariable(variable, value)\n\t\t\t}\n\n\t\t}\n\t}\n\n\t_playSoundAnimation(animation) {\n\t\tconst { resourceId, start, end } = animation\n\t\tconst { resourceManager } = this._player\n\t\tconst resource = resourceManager.getResourceWithId(resourceId)\n\t\tif (!resource) {\n\t\t\treturn\n\t\t}\n\t\tif (!end) {\n\t\t\tif (this._progress >= start) {\n\t\t\t\tresource.playIfNeeded()\n\t\t\t}\n\t\t} else if (this._progress >= start.progress && this._progress < end.progress) {\n\t\t\tresource.playIfNeeded()\n\t\t} else {\n\t\t\tresource.stopIfNeeded()\n\t\t}\n\t}\n\n\t_getVirtualPoint() {\n\t\tif (this._progress === null || this._segmentsInfoArray.length < 1\n\t\t\t|| !this._referenceDimension) {\n\t\t\treturn null\n\t\t}\n\n\t\tlet indexOfFirstSegmentInViewport = null\n\t\tlet indexOfSegmentAtCenterOfViewport = null\n\t\tlet indexOfLastSegmentInViewport = 1\n\t\tlet segmentInfo = this._segmentsInfoArray[1]\n\t\tconst halfViewportProgress = this._paginationProgressStep / 2\n\n\t\twhile (indexOfLastSegmentInViewport < this._segmentsInfoArray.length\n\t\t\t&& segmentInfo.progress <= this._progress + halfViewportProgress) {\n\t\t\t// Note that this._possibleError is not taken into account here\n\t\t\tif (indexOfFirstSegmentInViewport === null\n\t\t\t\t&& segmentInfo.progress > this._progress - halfViewportProgress) {\n\t\t\t\tindexOfFirstSegmentInViewport = indexOfLastSegmentInViewport\n\t\t\t}\n\t\t\tif (indexOfSegmentAtCenterOfViewport === null\n\t\t\t\t&& segmentInfo.progress > this._progress) {\n\t\t\t\tindexOfSegmentAtCenterOfViewport = indexOfLastSegmentInViewport\n\t\t\t}\n\t\t\tindexOfLastSegmentInViewport += 1\n\t\t\tsegmentInfo = this._segmentsInfoArray[indexOfLastSegmentInViewport]\n\t\t}\n\t\tindexOfLastSegmentInViewport -= 1\n\t\tindexOfSegmentAtCenterOfViewport = (indexOfSegmentAtCenterOfViewport === null)\n\t\t\t? indexOfLastSegmentInViewport\n\t\t\t: indexOfSegmentAtCenterOfViewport - 1\n\t\tindexOfFirstSegmentInViewport = (indexOfFirstSegmentInViewport === null)\n\t\t\t? indexOfLastSegmentInViewport\n\t\t\t: indexOfFirstSegmentInViewport - 1\n\n\t\tconst {\n\t\t\tpositionInSegmentLine, length, href, type,\n\t\t} = this._segmentsInfoArray[indexOfSegmentAtCenterOfViewport]\n\t\tconst { viewportRect } = this._player\n\t\tconst viewportLength = viewportRect[this._referenceDimension]\n\n\t\tconst coveredDistance = this._progress * this._distanceToCover\n\t\tlet percent = (coveredDistance - positionInSegmentLine + viewportLength / 2) / length\n\t\tpercent = Math.min(Math.max(percent, 0), 1)\n\n\t\tconst { segmentIndex } = this._segmentsInfoArray[indexOfSegmentAtCenterOfViewport]\n\t\tconst virtualPoint = {\n\t\t\tsegmentIndex,\n\t\t\tpageSegmentIndex: indexOfSegmentAtCenterOfViewport,\n\t\t\thref,\n\t\t\ttype,\n\t\t\tpercent, // percent in segment (not in page!)\n\t\t\tindexOfFirstSegmentInViewport,\n\t\t\tindexOfLastSegmentInViewport,\n\t\t}\n\n\t\tthis._segmentsInfoArray.forEach(({ segment }, k) => {\n\t\t\tconst isVisible = (k >= indexOfFirstSegmentInViewport && k <= indexOfLastSegmentInViewport)\n\t\t\tsegment.setIsInViewport(isVisible)\n\t\t})\n\n\t\treturn virtualPoint\n\t}\n\n\tsetPercent(percent) {\n\t\tif (this._progress === null || percent < 0 || percent > 1) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldUpdatePosition = true\n\t\tthis.setProgress(percent, shouldUpdatePosition)\n\t}\n\n\t_moveToClosestSnapPoint(isTheResultOfADragEnd = true) {\n\t\tlet nextProgress = this._lastNonTemporaryProgress\n\t\tlet previousProgress = this._lastNonTemporaryProgress\n\n\t\tlet allowsSameProgress = false\n\t\t// For a sticky drag...\n\t\tif (isTheResultOfADragEnd === true) {\n\t\t\tif (this._lastNonTemporaryProgress === null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this._progress >= this._lastNonTemporaryProgress) {\n\t\t\t\tnextProgress = this._getNextSnapPointProgress(allowsSameProgress,\n\t\t\t\t\tthis._lastNonTemporaryProgress)\n\t\t\t} else {\n\t\t\t\tpreviousProgress = this._getPreviousSnapPointProgress(allowsSameProgress,\n\t\t\t\t\tthis._lastNonTemporaryProgress)\n\t\t\t}\n\n\t\t// ...whereas after a resize or dezoom\n\t\t} else {\n\t\t\tallowsSameProgress = true\n\t\t\tconst lastNonTemporaryProgress = null\n\t\t\tnextProgress = this._getNextSnapPointProgress(allowsSameProgress,\n\t\t\t\tlastNonTemporaryProgress)\n\t\t\tpreviousProgress = this._getPreviousSnapPointProgress(allowsSameProgress,\n\t\t\t\tlastNonTemporaryProgress)\n\t\t}\n\n\t\tconst progressDifferenceToNext = nextProgress - this._progress\n\t\tconst progressDifferenceToPrevious = this._progress - previousProgress\n\t\tlet targetProgress = this._progress\n\t\tif (progressDifferenceToNext <= progressDifferenceToPrevious) {\n\t\t\ttargetProgress = nextProgress\n\t\t} else if (progressDifferenceToNext > progressDifferenceToPrevious) {\n\t\t\ttargetProgress = previousProgress\n\t\t}\n\n\t\tif (isTheResultOfADragEnd === true) {\n\t\t\tconst isUpdate = false\n\t\t\tthis._startSnapPointJump(targetProgress, isUpdate)\n\n\t\t} else { // Move instantly\n\t\t\tconst shouldUpdatePosition = true\n\t\t\tthis.setProgress(targetProgress, shouldUpdatePosition)\n\t\t}\n\t\tthis._lastNonTemporaryProgress = null\n\t}\n\n\t// Get the progress value of the next snap point in the list (1 if there is none)\n\t_getNextSnapPointProgress(allowsSameProgress = false, lastNonTemporaryProgress) {\n\n\t\t// If lastNonTemporaryProgress is defined, then a step forward\n\t\t// (via a discontinuous gesture or a sticky drag) is under way\n\t\tconst referenceProgress = (lastNonTemporaryProgress !== null)\n\t\t\t? lastNonTemporaryProgress\n\t\t\t: this._progress\n\n\t\tlet i = 0\n\t\twhile (i < this._snapPointsArray.length\n\t\t\t&& this._isSnapProgressInferior(allowsSameProgress, referenceProgress, i) === true) {\n\t\t\ti += 1\n\t\t}\n\n\t\tlet nextProgress = 1 // Will ensure a jump to the end of the page at least\n\t\tif (i < this._snapPointsArray.length) {\n\t\t\tnextProgress = this._snapPointsArray[i].progress\n\t\t}\n\n\t\t// Select the closest value between that one and the one corresponding to one pagination away\n\t\tif (this._paginationProgressStep && this._allowsPaginatedScroll === true) {\n\t\t\tlet nextPaginatedProgress = nextProgress\n\n\t\t\tif (lastNonTemporaryProgress !== null && this._isPaginationGridBased === false) {\n\t\t\t\tnextPaginatedProgress = lastNonTemporaryProgress + this._paginationProgressStep\n\n\t\t\t} else {\n\t\t\t\tnextPaginatedProgress = (allowsSameProgress === true)\n\t\t\t\t\t? Math.ceil((this._progress - this._possibleError) / this._paginationProgressStep)\n\t\t\t\t\t: Math.floor((this._progress + this._possibleError) / this._paginationProgressStep + 1)\n\t\t\t\tnextPaginatedProgress *= this._paginationProgressStep\n\t\t\t}\n\t\t\tnextPaginatedProgress = Math.min(Math.max(nextPaginatedProgress, 0), 1)\n\n\t\t\tnextProgress = Math.min(nextProgress, nextPaginatedProgress)\n\t\t}\n\n\t\treturn nextProgress\n\t}\n\n\t_isSnapProgressInferior(allowsSameProgress, referenceProgress, i) {\n\t\tif (allowsSameProgress === true) { // A kind of \"isSnapProgressStrictlyInferior\"\n\t\t\treturn (this._snapPointsArray[i].progress < referenceProgress - this._possibleError)\n\t\t}\n\t\treturn (this._snapPointsArray[i].progress <= referenceProgress + this._possibleError)\n\t}\n\n\t// Get the progress value of the previous snap point in the list (0 if there is none)\n\t_getPreviousSnapPointProgress(allowsSameProgress = false, lastNonTemporaryProgress) {\n\n\t\t// If lastNonTemporaryProgress is defined, then a step backward\n\t\t// (via a discontinuous gesture or a sticky drag) is under way\n\t\tconst referenceProgress = (lastNonTemporaryProgress !== null)\n\t\t\t? lastNonTemporaryProgress\n\t\t\t: this._progress\n\n\t\tlet i = this._snapPointsArray.length - 1\n\t\twhile (i >= 0\n\t\t\t&& this._isSnapProgressSuperior(allowsSameProgress, referenceProgress, i) === true) {\n\t\t\ti -= 1\n\t\t}\n\n\t\tlet previousProgress = 0 // Will ensure a jump to the start of the page at least\n\t\tif (i >= 0) {\n\t\t\tpreviousProgress = this._snapPointsArray[i].progress\n\t\t}\n\n\t\t// Select the closest value between that one and the one corresponding to one pagination away\n\t\tif (this._paginationProgressStep && this._allowsPaginatedScroll === true) {\n\t\t\tlet previousPaginatedProgress = previousProgress\n\n\t\t\tif (lastNonTemporaryProgress !== null && this._isPaginationGridBased === false) {\n\t\t\t\tpreviousPaginatedProgress = lastNonTemporaryProgress - this._paginationProgressStep\n\t\t\t} else {\n\t\t\t\tpreviousPaginatedProgress = (allowsSameProgress === true)\n\t\t\t\t\t? Math.floor((this._progress + this._possibleError) / this._paginationProgressStep)\n\t\t\t\t\t: Math.ceil((this._progress - this._possibleError) / this._paginationProgressStep - 1)\n\t\t\t\tpreviousPaginatedProgress *= this._paginationProgressStep\n\t\t\t}\n\t\t\tpreviousPaginatedProgress = Math.min(Math.max(previousPaginatedProgress, 0), 1)\n\n\t\t\tpreviousProgress = Math.max(previousProgress, previousPaginatedProgress)\n\t\t}\n\t\treturn previousProgress\n\t}\n\n\t_isSnapProgressSuperior(allowsSameProgress, referenceProgress, i) {\n\t\tif (allowsSameProgress === true) { // A kind of \"isSnapProgressStrictlySuperior\"\n\t\t\treturn (this._snapPointsArray[i].progress > referenceProgress + this._possibleError)\n\t\t}\n\t\treturn (this._snapPointsArray[i].progress >= referenceProgress - this._possibleError)\n\t}\n\n\tzoom(zoomData) {\n\t\t// Prevent camera from zooming if is undergoing changes (i.e. jumping between points)\n\t\tif (this.isAutoScrolling === true) {\n\t\t\treturn\n\t\t}\n\n\t\tconst {\n\t\t\tisContinuous,\n\t\t\ttouchPoint,\n\t\t\tdelta,\n\t\t\tmultiplier,\n\t\t} = zoomData\n\t\tif (!touchPoint) {\n\t\t\treturn\n\t\t}\n\t\tconst { viewportRect } = this._player\n\n\t\tlet zoomFactor = this._zoomFactor\n\t\tlet zoomFixedPoint = this._currentPosition\n\n\t\t// For a \"quick change\" (toggle between min = 1 and maxZoomFactor value)\n\t\tif (isContinuous === false) {\n\n\t\t\t// Compute zoom factor\n\t\t\tzoomFactor = (this._zoomFactor !== 1) ? 1 : constants.MAX_ZOOM\n\n\t\t\t// Compute camera's fixed point\n\t\t\tzoomFixedPoint = this._computeFixedPoint(touchPoint, viewportRect)\n\n\t\t} else {\n\t\t\tif (!delta && !multiplier) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Compute zoom factor\n\t\t\tif (delta) {\n\t\t\t\tconst { height } = viewportRect\n\t\t\t\tconst zoomSensitivity = constants.ZOOM_SENSITIVITY / height\n\t\t\t\tzoomFactor = Math.min(Math.max(this._zoomFactor - delta * zoomSensitivity, 1),\n\t\t\t\t\tconstants.MAX_ZOOM)\n\t\t\t} else {\n\t\t\t\tzoomFactor = this._zoomFactor * multiplier\n\t\t\t}\n\n\t\t\t// Compute camera's fixed point (only update it if the touch point has changed)\n\t\t\tzoomFixedPoint = (touchPoint !== this._zoomTouchPoint)\n\t\t\t\t? this._computeFixedPoint(touchPoint, viewportRect)\n\t\t\t\t: this._currentPosition\n\n\t\t\tthis._zoomTouchPoint = touchPoint\n\t\t}\n\n\t\t// Compute zoomChange difference now, before setting the new zoomFactor\n\t\tconst zoomChange = zoomFactor - this._zoomFactor\n\n\t\tthis._setZoomFactorAndUpdateBounds(zoomFactor, zoomFixedPoint)\n\n\t\tthis._updatePositionAndProgressOnZoomChange(zoomChange, zoomFixedPoint)\n\t}\n\n\t_computeFixedPoint(point, viewportRect) {\n\t\tconst {\n\t\t\tx, y, width, height,\n\t\t} = viewportRect\n\n\t\t// Express the point's coordinates in the non-scaled (i.e. non-zoomed) referential\n\t\t// centered on the scene container's center (from which resources are positioned)\n\t\tconst topLeftCameraPointInSceneReferential = {\n\t\t\tx: this._currentPosition.x - width / 2,\n\t\t\ty: this._currentPosition.y - height / 2,\n\t\t} // Reminder: this._currentPosition is the opposite of the position of the scene's container\n\n\t\tconst fixedPoint = {\n\t\t\tx: (topLeftCameraPointInSceneReferential.x + point.x - x) / this._zoomFactor,\n\t\t\ty: (topLeftCameraPointInSceneReferential.y + point.y - y) / this._zoomFactor,\n\t\t}\n\n\t\treturn fixedPoint\n\t}\n\n\t_updatePositionAndProgressOnZoomChange(zoomChange, zoomFixedPoint) {\n\t\t// Change currentPosition so that zoomFixedPoint remains visually fixed\n\t\tconst position = {\n\t\t\tx: Math.min(Math.max(this._currentPosition.x + zoomChange * zoomFixedPoint.x,\n\t\t\t\tthis._minX), this._maxX),\n\t\t\ty: Math.min(Math.max(this._currentPosition.y + zoomChange * zoomFixedPoint.y,\n\t\t\t\tthis._minY), this._maxY),\n\t\t}\n\t\tthis._setPosition(position)\n\n\t\t// Update progress to conform to that new position\n\t\tconst shouldStoreLastNonTemporaryProgress = (this._overflow === \"paginated\"\n\t\t\t&& this._isPaginationSticky === true)\n\t\tthis._updateProgressForPosition(this._currentPosition, shouldStoreLastNonTemporaryProgress)\n\n\t\t// If reverting to normal zoomFactor=1 value when overflow=paginated, snap to closest snap point\n\t\tif (this._hasSpaceToMove === true\n\t\t\t&& this._zoomFactor === 1 && this._overflow === \"paginated\") {\n\t\t\tconst isTheResultOfADragEnd = false\n\t\t\tthis._moveToClosestSnapPoint(isTheResultOfADragEnd)\n\t\t}\n\t}\n\n\tmoveToNextSnapPoint() {\n\t\tif (this.isAutoScrolling === true) {\n\t\t\tconst { startProgress, targetProgress } = this._jumpData\n\t\t\tconst isJumpGoingForward = (targetProgress - startProgress >= 0)\n\t\t\tif (isJumpGoingForward === true) {\n\t\t\t\tthis._jumpData.shouldForceToEnd = true\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\tconst allowsSameProgress = false\n\t\tconst targetProgress = this._getNextSnapPointProgress(allowsSameProgress, this._progress)\n\t\tif (targetProgress === null) {\n\t\t\treturn\n\t\t}\n\t\tconst isUpdate = false\n\t\tthis._startSnapPointJump(targetProgress, isUpdate)\n\t}\n\n\tmoveToPreviousSnapPoint() {\n\t\tif (this.isAutoScrolling === true) {\n\t\t\tconst { startProgress, targetProgress } = this._jumpData\n\t\t\tconst isJumpGoingForward = (targetProgress - startProgress >= 0)\n\t\t\tif (isJumpGoingForward === false) {\n\t\t\t\tthis._jumpData.shouldForceToEnd = true\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\tconst allowsSameProgress = false\n\t\tconst targetProgress = this._getPreviousSnapPointProgress(allowsSameProgress, this._progress)\n\t\tif (targetProgress === null) {\n\t\t\treturn\n\t\t}\n\t\tconst isUpdate = false\n\t\tthis._startSnapPointJump(targetProgress, isUpdate)\n\t}\n\n\t_startSnapPointJump(targetProgress, isUpdate = false) {\n\t\tthis._jumpData.isAutoScrolling = true\n\t\tthis._jumpData.startDate = Date.now()\n\t\tthis._jumpData.duration = this._getJumpDuration(this._progress, targetProgress)\n\t\tthis._jumpData.startProgress = this._progress\n\t\tthis._jumpData.targetProgress = targetProgress\n\n\t\t// If a jump was not under way, start one\n\t\tif (isUpdate === false) {\n\t\t\trequestAnimationFrame(this._autoProgress.bind(this))\n\t\t}\n\t}\n\n\t_getJumpDuration(startProgress, targetProgress) {\n\t\tif (this._distanceToCover === 0) {\n\t\t\treturn 0\n\t\t}\n\t\tconst distance = Math.abs((targetProgress - startProgress) * this._distanceToCover)\n\t\tconst duration = (this._isPaginationSticky === true)\n\t\t\t? distance / this._stickyMoveSpeed\n\t\t\t: distance / this._snapJumpSpeed\n\t\treturn duration\n\t}\n\n\t_autoProgress() {\n\t\tif (this.isAutoScrolling === false) {\n\t\t\treturn\n\t\t}\n\n\t\tconst {\n\t\t\tstartDate,\n\t\t\tduration,\n\t\t\tstartProgress,\n\t\t\ttargetProgress,\n\t\t\tshouldForceToEnd,\n\t\t\tendCallback,\n\t\t} = this._jumpData\n\n\t\tconst percent = (Date.now() - startDate) / (duration || 1)\n\n\t\tconst shouldUpdatePosition = true\n\n\t\tif (duration === 0 || percent >= 1 || shouldForceToEnd === true) {\n\t\t\tthis.setProgress(targetProgress, shouldUpdatePosition)\n\t\t\tthis._reset()\n\t\t\tif (endCallback) {\n\t\t\t\tendCallback()\n\t\t\t}\n\n\t\t} else {\n\t\t\tlet forcedProgress = startProgress + (targetProgress - startProgress) * percent\n\t\t\tforcedProgress = Math.min(Math.max(forcedProgress, 0), 1)\n\t\t\tthis.setProgress(forcedProgress, shouldUpdatePosition)\n\t\t\trequestAnimationFrame(this._autoProgress.bind(this))\n\t\t}\n\t}\n\n\tattemptStickyStep() {\n\t\tif (this._hasSpaceToMove === false || this.isZoomed === true) {\n\t\t\treturn false\n\t\t}\n\t\tconst isTheResultOfADragEnd = true\n\t\tthis._moveToClosestSnapPoint(isTheResultOfADragEnd)\n\t\treturn true\n\t}\n\n\tattemptToMoveSideways(way) {\n\t\tif (this._allowsPaginatedScroll === false && this._overflow === \"scrolled\") {\n\t\t\treturn false\n\t\t}\n\t\tconst { viewportRect } = this._player\n\t\tconst { width, height } = viewportRect\n\t\tconst currentPosition = { ...this._currentPosition }\n\t\tswitch (way) {\n\t\tcase \"left\":\n\t\t\tif (currentPosition.x > this._camCenter.x.p0 + constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tcurrentPosition.x = Math.max(this._camCenter.x.p0, currentPosition.x - width)\n\t\t\t}\n\t\t\tbreak\n\t\tcase \"right\":\n\t\t\tif (currentPosition.x < this._camCenter.x.p1 - constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tcurrentPosition.x = Math.min(this._camCenter.x.p1, currentPosition.x + width)\n\t\t\t}\n\t\t\tbreak\n\t\tcase \"up\":\n\t\t\tif (currentPosition.y > this._camCenter.y.p0 + constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tcurrentPosition.y = Math.max(this._camCenter.y.p0, currentPosition.y - height)\n\t\t\t}\n\t\t\tbreak\n\t\tcase \"down\":\n\t\t\tif (currentPosition.y < this._camCenter.y.p1 - constants.POSSIBLE_PIXEL_ERROR) {\n\t\t\t\tcurrentPosition.y = Math.min(this._camCenter.y.p1, currentPosition.y + height)\n\t\t\t}\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn false\n\t\t}\n\t\tif (currentPosition.x !== this._currentPosition.x\n\t\t\t|| currentPosition.y !== this._currentPosition.y) {\n\t\t\tthis._setPosition(currentPosition)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\t// Apply the amount of user scrolling to the scene container's position via the camera\n\t// by computing what new progress value the delta corresponds to\n\thandleScroll(scrollData, isWheelScroll) {\n\t\tif (this._hasSpaceToMove === false\n\t\t\t|| (this.isZoomed === false && (this._overflow === \"paginated\"\n\t\t\t\t&& (this._isPaginationSticky === false || isWheelScroll === true)))) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { deltaX, deltaY } = scrollData\n\t\tconst currentPosition = { ...this._currentPosition }\n\n\t\t// Entirely disallow sideways scroll for a sideways gesture when pagination should be sticky\n\t\tif (this.isZoomed === false && this._overflow === \"paginated\"\n\t\t\t&& this._isPaginationSticky === true) {\n\t\t\tif (this._camCenter.x.isPrimaryAxis === true) {\n\t\t\t\tcurrentPosition.x -= deltaX\n\t\t\t} else {\n\t\t\t\tcurrentPosition.y -= deltaY\n\t\t\t}\n\t\t} else {\n\t\t\tcurrentPosition.x -= deltaX\n\t\t\tcurrentPosition.y -= deltaY\n\t\t}\n\n\t\tcurrentPosition.x = Math.min(Math.max(currentPosition.x, this._minX), this._maxX)\n\t\tcurrentPosition.y = Math.min(Math.max(currentPosition.y, this._minY), this._maxY)\n\t\tthis._setPosition(currentPosition)\n\n\t\tconst shouldStoreLastNonTemporaryProgress = (this._overflow === \"paginated\"\n\t\t\t&& this._isPaginationSticky === true)\n\t\tthis._updateProgressForPosition(this._currentPosition, shouldStoreLastNonTemporaryProgress)\n\n\t\t// What images are visible?\n\n\t\treturn true\n\t}\n\n\t// Used in a goTo\n\tmoveToSegmentIndex(pageSegmentIndex, isGoingForward) {\n\t\t// If the scene is not larger than the viewport, just display it\n\t\tif (this._hasSpaceToMove === false) {\n\t\t\treturn\n\t\t}\n\n\t\t// If a pageSegmentIndex is specified and progress is defined,\n\t\t// then get the progress value to which the segment corresponds\n\t\tif (pageSegmentIndex !== null && this._progress !== null) {\n\t\t\tconst progress = this._getProgressForSegmentIndex(pageSegmentIndex)\n\t\t\tconst shouldUpdatePosition = true\n\t\t\tthis.setProgress(progress, shouldUpdatePosition)\n\n\t\t// Otherwise just go to the start or end of the scene\n\t\t} else {\n\t\t\tthis.moveToStartOrEnd(isGoingForward)\n\t\t}\n\t}\n\n\t_getProgressForSegmentIndex(pageSegmentIndex) {\n\t\t// The progress value is computed for the \"start\" viewport point in the case\n\t\t// the inScrollDirection is ltr or btt, and for the \"end\" point otherwise\n\t\tconst point = {\n\t\t\tpageSegmentIndex,\n\t\t\tviewport: \"start\",\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tunit: \"%\",\n\t\t}\n\t\tconst progress = this._getProgressForPoint(point)\n\t\treturn progress\n\t}\n\n\tmoveToStartOrEnd(isGoingForward = true) {\n\t\tif (this._distanceToCover === 0) {\n\t\t\treturn\n\t\t}\n\n\t\tthis._reset()\n\t\tconst progress = (isGoingForward === true) ? 0 : 1\n\t\tconst shouldUpdatePosition = true\n\t\tthis.setProgress(progress, shouldUpdatePosition)\n\n\t\tif (isGoingForward === true) {\n\t\t\tthis._signedPercent = 0\n\t\t} else {\n\t\t\tthis._signedPercent = (this._inScrollDirection === \"rtl\"\n\t\t\t\t|| this._inScrollDirection === \"btt\")\n\t\t\t\t? -1\n\t\t\t\t: 1\n\t\t}\n\t}\n\n\tgetCurrentHref() {\n\t\tif (this._virtualPoint) {\n\t\t\treturn this._virtualPoint.href\n\t\t}\n\t\tif (this._segmentsInfoArray.length > 0 && this._segmentsInfoArray[0]) {\n\t\t\treturn this._segmentsInfoArray[0].href\n\t\t}\n\t\treturn null\n\t}\n\n}","import Camera from \"./Camera\"\n\nexport default class OverflowHandler {\n\n\tget type() { return this._type }\n\n\t// Used in LayerPile\n\n\tget activeLayersArray() { return (this._layerPile) ? this._layerPile.layersArray : [] }\n\n\tget isAtStart() { return (this._camera) ? this._camera.isAtStart : true }\n\n\tget isAtEnd() { return (this._camera) ? this._camera.isAtEnd : true }\n\n\tget isUndergoingChanges() { return (this._camera.isAutoScrolling === true) }\n\n\tget inScrollDirection() { return this._inScrollDirection }\n\n\t// Constructor\n\n\tconstructor(layerPile, overflow, hAlign, vAlign, player) {\n\t\tthis._layerPile = layerPile\n\n\t\t// An overflowHandler necessarily has a camera\n\t\tthis._camera = new Camera(layerPile, overflow, hAlign, vAlign, player)\n\n\t\tthis._type = \"overflowHandler\"\n\n\t\tthis._inScrollDirection = null\n\t}\n\n\tsetInScrollDirection(inScrollDirection) {\n\t\tthis._inScrollDirection = inScrollDirection\n\t\tthis._camera.setInScrollDirection(inScrollDirection)\n\t}\n\n\t// Snap points\n\taddSnapPoints(indexInLayerPile, snapPointsArray) {\n\t\tconst segmentsArray = this._layerPile.layersArray.map((layer) => (layer.content))\n\t\tif (indexInLayerPile >= segmentsArray.length) {\n\t\t\treturn\n\t\t}\n\t\tthis._camera.addSnapPoints(indexInLayerPile, snapPointsArray)\n\t}\n\n\t// Animations\n\n\taddSliceAnimation(indexInLayerPile, slice, animation) {\n\t\tthis._camera.addSliceAnimation(indexInLayerPile, slice, animation)\n\t}\n\n\taddSoundAnimation(indexInLayerPile, animation) {\n\t\tthis._camera.addSoundAnimation(indexInLayerPile, animation)\n\t}\n\n\t// Functions linked to segments\n\n\tgoToSegmentIndex(indexInLayerPile, isGoingForward) {\n\t\tthis._camera.moveToSegmentIndex(indexInLayerPile, isGoingForward)\n\t}\n\n\tsetupForEntry(isGoingForward) {\n\t\tif (this._camera.isZoomed === true) { // Should never hapen\n\t\t\treturn\n\t\t}\n\t\tthis._camera.moveToStartOrEnd(isGoingForward)\n\t}\n\n\t// Functions linked to LayerPile\n\n\tattemptToGoForward(shouldGoInstantly = false) { // Step forward\n\t\tif (this._camera.isZoomed === true) { // Block all interactions\n\t\t\treturn true\n\t\t}\n\t\tif (this._camera.isAtEnd === true) {\n\t\t\treturn false\n\t\t}\n\t\tthis._camera.moveToNextSnapPoint(shouldGoInstantly)\n\t\treturn true\n\t}\n\n\tattemptToGoBackward(shouldGoInstantly = false) { // Step backward\n\t\tif (this._camera.isZoomed === true) { // Block all interactions\n\t\t\treturn true\n\t\t}\n\t\tif (this._camera.isAtStart === true) {\n\t\t\treturn false\n\t\t}\n\t\tthis._camera.moveToPreviousSnapPoint(shouldGoInstantly)\n\t\treturn true\n\t}\n\n\tattemptToGoSideways(way) {\n\t\treturn this._camera.attemptToMoveSideways(way)\n\t}\n\n\t// Functions to deal with continuous gestures and zoom\n\n\thandleScroll(scrollData, isWheelScroll) {\n\t\tif (this.isUndergoingChanges === true) {\n\t\t\treturn true\n\t\t}\n\t\treturn this._camera.handleScroll(scrollData, isWheelScroll)\n\t}\n\n\tattemptStickyStep() {\n\t\treturn (this.isUndergoingChanges === false && this._camera.attemptStickyStep())\n\t}\n\n\tzoom(zoomData) {\n\t\tif (this.isUndergoingChanges === true) {\n\t\t\treturn\n\t\t}\n\t\tthis._camera.zoom(zoomData)\n\t}\n\n\tsetPercent(percent) {\n\t\tif (this.isUndergoingChanges === true) {\n\t\t\treturn\n\t\t}\n\t\tthis._camera.setPercent(percent)\n\t}\n\n\tgetCurrentHref() {\n\t\treturn this._camera.getCurrentHref()\n\t}\n\n\t// Functions to deal with inner changes (jumps) and resize\n\n\tresize() {\n\t\t// After all segments have been resized, (re)position them\n\t\tthis._positionSegments()\n\n\t\t// Update camera and possible snap points (note that zoomFactor will be forced to 1)\n\t\tthis._camera.setBoundsAndUpdateOnResize()\n\t}\n\n\t_positionSegments() {\n\t\tlet sumOfPreviousSegmentDimensions = 0\n\n\t\t// Translate all segment containers in the page by half their size plus the sum\n\t\t// of all previous segment dimensions (so that the first one is translated only\n\t\t// half its size and all others are then glued next to it, one after the other)\n\t\tthis._layerPile.layersArray.forEach((layer) => {\n\t\t\tconst segment = layer.content\n\t\t\tconst { size } = segment\n\t\t\tconst { width, height } = size\n\t\t\tif (!width || !height) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tswitch (this._inScrollDirection) {\n\t\t\tcase \"ltr\":\n\t\t\t\tsegment.setPosition({\n\t\t\t\t\tx: sumOfPreviousSegmentDimensions + width / 2,\n\t\t\t\t\ty: 0,\n\t\t\t\t})\n\t\t\t\tsumOfPreviousSegmentDimensions += width\n\t\t\t\tbreak\n\t\t\tcase \"rtl\":\n\t\t\t\tsegment.setPosition({\n\t\t\t\t\tx: -sumOfPreviousSegmentDimensions - width / 2,\n\t\t\t\t\ty: 0,\n\t\t\t\t})\n\t\t\t\tsumOfPreviousSegmentDimensions += width\n\t\t\t\tbreak\n\t\t\tcase \"ttb\":\n\t\t\t\tsegment.setPosition({\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: sumOfPreviousSegmentDimensions + height / 2,\n\t\t\t\t})\n\t\t\t\tsumOfPreviousSegmentDimensions += height\n\t\t\t\tbreak\n\t\t\tcase \"btt\":\n\t\t\t\tsegment.setPosition({\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: -sumOfPreviousSegmentDimensions - height / 2,\n\t\t\t\t})\n\t\t\t\tsumOfPreviousSegmentDimensions += height\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\t\t})\n\t}\n\n}","import { Container } from \"../Renderer\"\nimport StateHandler from \"./StateHandler\"\nimport OverflowHandler from \"./OverflowHandler\"\n\nexport default class LayerPile extends Container {\n\n\t// Used in Slideshow, PageNavigator and below\n\tget layersArray() { return this._layersArray }\n\n\t// Used in Page\n\tget handler() { return this._handler }\n\n\t// Used in Page and Layer\n\tget loadStatus() { return this._loadStatus }\n\n\t// Used below\n\n\tget activeLayersArray() {\n\t\treturn this._layersArray.filter((layer) => (layer.isActive === true))\n\t}\n\n\tget isAtStart() { return (this._handler) ? this._handler.isAtStart : true }\n\n\tget isAtEnd() { return (this._handler) ? this._handler.isAtEnd : true }\n\n\tget isUndergoingChanges() { return (this._handler) ? this._handler.isUndergoingChanges : false }\n\n\t// Note that isAtStart, isAtEnd and isUndergoingChanges are not recursive!\n\n\tget resourcePath() { // Return the resourcePath of the first slice if there is one\n\t\tif (this._layersArray.length === 0 || !this._layersArray[0]) {\n\t\t\treturn null\n\t\t}\n\t\treturn this._layersArray[0].resourcePath\n\t}\n\n\tget size() { // Note that Page overrides this function\n\n\t\t// If a Segment with multiple layers\n\t\tif (this._parentSlice) {\n\t\t\treturn this._parentSlice.size\n\t\t}\n\n\t\tif (this._layersArray.length > 0) {\n\t\t\treturn this._layersArray[0].size\n\t\t}\n\n\t\t// All cases must have been covered already, but just in case\n\t\treturn { width: 0, height: 0 }\n\t}\n\n\tconstructor(type, name, parent = null, layersArray = [], isFirstSliceAParentSlice = false) {\n\t\tsuper(type, name, parent)\n\n\t\t// Build layers\n\t\tthis._layersArray = []\n\t\t// Note that the parent slice is added too, although its texture will be hidden\n\t\tif (layersArray) {\n\t\t\tlayersArray.forEach((layer) => {\n\t\t\t\tthis.addLayer(layer)\n\t\t\t\tlayer.setParent(this)\n\t\t\t})\n\t\t}\n\n\t\tconst parentSliceLayer = (isFirstSliceAParentSlice === true && layersArray.length > 0)\n\t\t\t? layersArray[0]\n\t\t\t: null\n\t\tthis._parentSlice = (parentSliceLayer) ? parentSliceLayer.content : null\n\n\t\tthis._loadStatus = 0\n\n\t\tthis._handler = null\n\t}\n\n\taddLayer(layer) {\n\t\tthis._layersArray.push(layer)\n\t}\n\n\taddStateHandler(shouldStateLayersCoexistOutsideTransitions, player) {\n\t\tthis._handler = new StateHandler(this, shouldStateLayersCoexistOutsideTransitions,\n\t\t\tplayer)\n\t}\n\n\t_addOverflowHandler(overflow, hAlign, vAlign, player) {\n\t\tthis._handler = new OverflowHandler(this, overflow, hAlign, vAlign, player)\n\t}\n\n\tgetLayerAtIndex(layerIndex) {\n\t\tif (this._layersArray.length === 0\n\t\t\t|| layerIndex < 0 || layerIndex >= this._layersArray.length) {\n\t\t\treturn null\n\t\t}\n\t\tconst layer = this._layersArray[layerIndex]\n\t\treturn layer\n\t}\n\n\t// Used in StateHandler\n\tgetDepthOfNewLayer() {\n\t\treturn this._layersArray.length\n\t}\n\n\t// Following a discontinuous gesture\n\n\tattemptToGoForward(shouldSkipTransition = false, doIfIsUndergoingChanges = null) {\n\t\t// If a change is under way, end it\n\t\tif (this._handler && this.isUndergoingChanges === true) {\n\t\t\treturn (this._handler.attemptToGoForward(shouldSkipTransition,\n\t\t\t\tdoIfIsUndergoingChanges) === true)\n\t\t}\n\t\t// If not, try to go forward in the first layer (child)\n\t\tif (this.activeLayersArray.length > 0) {\n\t\t\tconst layer = this.activeLayersArray[0]\n\t\t\tif (layer.attemptToGoForward(shouldSkipTransition, doIfIsUndergoingChanges) === true) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\t// Otherwise try go forward via the handler if there is one\n\t\treturn (this._handler\n\t\t\t&& this._handler.attemptToGoForward(shouldSkipTransition, doIfIsUndergoingChanges) === true)\n\t}\n\n\tattemptToGoBackward(shouldSkipTransition = false, doIfIsUndergoingChanges = null) {\n\t\t// If a change is under way, end it then go backward\n\t\tif (this._handler && this.isUndergoingChanges === true) {\n\t\t\treturn (this._handler.attemptToGoBackward(shouldSkipTransition,\n\t\t\t\tdoIfIsUndergoingChanges) === true)\n\t\t}\n\t\t// If not, try to go backward in the last layer (child)\n\t\tif (this.activeLayersArray.length > 0) {\n\t\t\tconst layer = this.activeLayersArray[this.activeLayersArray.length - 1]\n\t\t\tif (layer.attemptToGoBackward(shouldSkipTransition, doIfIsUndergoingChanges) === true) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\t// Otherwise try go backward via the handler if there is one\n\t\treturn (this._handler\n\t\t\t&& this._handler.attemptToGoBackward(shouldSkipTransition,\n\t\t\t\tdoIfIsUndergoingChanges) === true)\n\t}\n\n\tattemptToGoSideways(way) {\n\t\tif (this.isUndergoingChanges === true) {\n\t\t\treturn true\n\t\t}\n\t\tif (this.activeLayersArray.length > 0) {\n\t\t\tconst layer = this.activeLayersArray[this.activeLayersArray.length - 1]\n\t\t\tif (layer.attemptToGoSideways(way) === true) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn (this._handler && this._handler.attemptToGoSideways\n\t\t\t&& this._handler.attemptToGoSideways(way) === true)\n\t}\n\n\t// Following a continuous gesture\n\n\thandleScroll(scrollData, isWheelScroll) {\n\t\tif (!this._handler) {\n\t\t\treturn false\n\t\t}\n\t\tif (this._handler.type === \"overflowHandler\"\n\t\t\t&& this._handler.handleScroll(scrollData, isWheelScroll) === true) {\n\t\t\treturn true\n\t\t}\n\t\tif (this._handler.type === \"stateHandler\"\n\t\t\t&& this._handler.handleScroll(scrollData, isWheelScroll) === true) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tendControlledTransition(viewportPercent, shouldBeAnimated = true) {\n\t\tif (!this._handler) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (this._handler.type === \"overflowHandler\") {\n\t\t\tif (this._layersArray.length === 1) {\n\t\t\t\tconst layer = this._layersArray[0] // Check only the first Segment in a Page\n\t\t\t\tconst { content } = layer\n\t\t\t\tif (content.endControlledTransition(viewportPercent, shouldBeAnimated) === true) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn (this._handler.type === \"stateHandler\"\n\t\t\t&& this._handler.endControlledTransition(viewportPercent, shouldBeAnimated) === true)\n\t}\n\n\tresize() {\n\t\tthis.activeLayersArray.forEach((layer) => layer.resize())\n\t\tthis._resizeMyself()\n\t}\n\n\t_resizeMyself() {\n\t\tif (this._parentSlice) { // If this is a Segment with multiple layers\n\t\t\tthis._parentSlice.resize()\n\t\t\tthis._layersArray.forEach((layer) => { layer.setScale(this._parentSlice.scale) })\n\t\t}\n\t\tif (this._handler && this._handler.resize) {\n\t\t\tthis._handler.resize()\n\t\t}\n\t}\n\n\tsetupForEntry(isGoingForward = true) {\n\t\tthis._layersArray.forEach((layer) => {\n\t\t\t// If the LayerPile is a Segment with a unique Slice (or a basic LayerPile)\n\t\t\tif (!this._handler) {\n\t\t\t\tconst slice = layer.content\n\t\t\t\tthis.addChild(slice)\n\t\t\t}\n\t\t\tlayer.setupForEntry(isGoingForward)\n\t\t})\n\n\t\tthis._resizeMyself()\n\n\t\t// If the LayerPile has a StateHandler (i.e. it is a PageNavigator or a multi-layered\n\t\t// Segment with layer transitions) or an OverflowHandler (i.e. it is a Page)\n\t\tif (this._handler) {\n\t\t\tthis._handler.setupForEntry(isGoingForward)\n\t\t}\n\t}\n\n\tfinalizeEntry() {\n\t\tthis.activeLayersArray.forEach((layer) => { layer.finalizeEntry() })\n\t}\n\n\tfinalizeExit() {\n\t\tthis.activeLayersArray.forEach((layer) => { layer.finalizeExit() })\n\n\t\t// If a Segment with multiple states\n\t\tif (this._handler && this._handler.type === \"stateHandler\") {\n\t\t\tthis._handler.finalizeExit()\n\t\t}\n\t}\n\n\tsetIsInViewport(isInViewport) {\n\t\tthis._layersArray.forEach((layer) => {\n\t\t\tlayer.setIsInViewport(isInViewport)\n\t\t})\n\t}\n\n\tgetResourceIdsToLoad(recursive, force) {\n\t\tconst resourceIdsArray = []\n\t\tthis._layersArray.forEach((layer) => {\n\t\t\tconst idsArray = layer.getResourceIdsToLoad(recursive, force)\n\t\t\tresourceIdsArray.push(...idsArray)\n\t\t})\n\t\treturn resourceIdsArray\n\t}\n\n\tdestroyResourcesIfPossible() {\n\t\tthis._layersArray.forEach((layer) => { layer.destroyResourcesIfPossible() })\n\t}\n\n\t// Used in Layer (in a Segment, the first layer only will be considered)\n\tgetInfo() {\n\t\tif (this._layersArray.length < 1 || !this._layersArray[0].getInfo) {\n\t\t\treturn null\n\t\t}\n\t\treturn this._layersArray[0].getInfo()\n\t}\n\n\t// Slice functions\n\n\tresizePage() {\n\t\tif (!this.parent || !this.parent.resizePage) {\n\t\t\treturn\n\t\t}\n\t\tthis.parent.resizePage()\n\t}\n\n\tupdateLoadStatus() {\n\t\tconst oldLoadStatus = this._loadStatus\n\n\t\tlet nbOfLoadedLayers = 0\n\t\tlet hasAtLeastOneLoadingLayer = false\n\t\tlet hasAtLeastOnePartiallyLoadedLayer = false\n\n\t\tthis._layersArray.forEach((layer) => {\n\t\t\tif (hasAtLeastOneLoadingLayer === false\n\t\t\t\t&& hasAtLeastOnePartiallyLoadedLayer === false) {\n\t\t\t\tconst { loadStatus } = layer\n\t\t\t\tswitch (loadStatus) {\n\t\t\t\tcase 2:\n\t\t\t\t\tnbOfLoadedLayers += 1\n\t\t\t\t\tbreak\n\t\t\t\tcase 1:\n\t\t\t\t\thasAtLeastOneLoadingLayer = true\n\t\t\t\t\tbreak\n\t\t\t\tcase -1:\n\t\t\t\t\thasAtLeastOnePartiallyLoadedLayer = true\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tif (hasAtLeastOnePartiallyLoadedLayer === true\n\t\t\t|| (nbOfLoadedLayers > 0 && nbOfLoadedLayers < this._layersArray.length)) {\n\t\t\tthis._loadStatus = -1\n\t\t} else if (hasAtLeastOneLoadingLayer === true) {\n\t\t\tthis._loadStatus = 1\n\t\t} else if (nbOfLoadedLayers > 0 && nbOfLoadedLayers === this._layersArray.length) {\n\t\t\tthis._loadStatus = 2\n\t\t} else {\n\t\t\tthis._loadStatus = 0\n\t\t}\n\n\t\tif (this._loadStatus !== oldLoadStatus && this.parent && this.parent.updateLoadStatus) {\n\t\t\tthis.parent.updateLoadStatus()\n\t\t}\n\t}\n\n}","import LayerPile from \"./LayerPile\"\n\nexport default class PageNavigator extends LayerPile {\n\n\t// Used in Player, Page and Slice\n\tget pageNavType() { return this._pageNavType }\n\n\t// Used below and in Camera\n\tget loadingMode() { return this._resourceManager.loadingMode }\n\n\t// Used in Camera (for segment loading mode, when using a target goTo\n\tget isInAGoTo() { return (this._targetPageSegmentIndex !== null) }\n\n\t// Used in StateHandler\n\tget doOnStateChangeStartOrCancel() {\n\t\treturn (stateIndex, isGoingForward) => this._updatePageLoadTasks(stateIndex, isGoingForward)\n\t}\n\n\t// Used below, in Player and in ResourceManager\n\tget pageIndex() {\n\t\tconst pageIndex = (this.handler && this.handler.type === \"stateHandler\")\n\t\t\t? this.handler.stateIndex\n\t\t\t: 0\n\t\treturn pageIndex\n\t}\n\n\t// Used in InteractionManager and Camera\n\tget currentPage() { return this._currentPage }\n\n\t// Used in InteractionManager\n\tget direction() { return this._direction }\n\n\t// Used in Slice\n\n\tget metadata() { return this._metadata }\n\n\tget segmentRange() { return this._segmentRange }\n\n\t// Used below and in Slideshow\n\tget nbOfPages() { return this.layersArray.length }\n\n\t// Used in Slideshow\n\tget interactionManager() { return this._interactionManager }\n\n\t// Used in Camera\n\tget nbOfSegments() { return this._allSegmentLayersArray.length }\n\n\tconstructor(pageNavType, metadata, pageLayersArray, player) {\n\t\tconst name = `${pageNavType}PageNav`\n\t\tconst parent = null\n\t\tsuper(\"pageNavigator\", name, parent, pageLayersArray)\n\n\t\tthis._pageNavType = pageNavType\n\t\tthis._metadata = metadata\n\t\tthis._player = player\n\n\t\tthis._direction = null\n\n\t\tconst {\n\t\t\teventEmitter, interactionManager, resourceManager, timeAnimationManager,\n\t\t} = player\n\t\tthis._eventEmitter = eventEmitter\n\t\tthis._interactionManager = interactionManager\n\t\tthis._resourceManager = resourceManager\n\t\tthis._timeAnimationManager = timeAnimationManager\n\n\t\tconst shouldStateLayersCoexistOutsideTransitions = false\n\t\tthis.addStateHandler(shouldStateLayersCoexistOutsideTransitions, player)\n\n\t\t// Pages and segments have been fully populated by the time we create the PageNavigator\n\t\tconst allSegmentLayersArray = []\n\t\tthis.layersArray.forEach((layer) => {\n\t\t\tconst page = layer.content\n\t\t\tconst { layersArray } = page || {}\n\t\t\tif (layersArray) {\n\t\t\t\tallSegmentLayersArray.push(...layersArray)\n\t\t\t}\n\t\t})\n\t\tthis._allSegmentLayersArray = allSegmentLayersArray\n\n\t\tthis._currentPage = null // The current page will be the page pointed to by pageIndex\n\n\t\tthis._targetPageSegmentIndex = null // A segment index in the considered page\n\n\t\t// Segments for which resources are required to be loaded\n\t\tthis._segmentRange = {\n\t\t\tstartIndex: null,\n\t\t\tendIndex: null,\n\t\t\tsegmentIndex: null,\n\t\t}\n\n\t\tthis._pageDeltaForTransitionControl = null\n\n\t\tthis._soundsDataArray = null\n\t}\n\n\t// Used in StoryBuilder\n\taddSoundData(soundData) {\n\t\tif (!this._soundsDataArray) {\n\t\t\tthis._soundsDataArray = []\n\t\t}\n\t\tthis._soundsDataArray.push(soundData)\n\t}\n\n\t// Used in Slideshow and Player (targetSegmentIndex can be null in the case of a tag change)\n\tupdateLoadTasks(targetPageIndex, targetSegmentIndex) {\n\t\t// Kill tasks in the async task queue\n\t\tthis._resourceManager.killPendingLoads()\n\n\t\t// Create async tasks for destroying and loading resources (i.e. force an update of load tasks\n\t\t// within the segment range even if the range's start and end indices have not changed)\n\t\tconst forceUpdate = true\n\t\tif (this.loadingMode === \"segment\") {\n\t\t\tthis.updateSegmentLoadTasks(targetSegmentIndex, forceUpdate)\n\t\t} else {\n\t\t\tconst pageIndex = (targetPageIndex !== null) ? targetPageIndex : (this.pageIndex || 0)\n\t\t\tconst isGoingForward = ((pageIndex - (this.pageIndex || 0)) >= 0)\n\t\t\tthis._updatePageLoadTasks(pageIndex, isGoingForward, forceUpdate)\n\t\t}\n\t}\n\n\t// Used just above and in Camera\n\tupdateSegmentLoadTasks(segmentIndex, forceUpdate) {\n\t\tif (segmentIndex === null) { // In the case of a tag change, keep current segmentRange\n\t\t\tthis._updateLoadTasksForSegmentRange(this.pageIndex, this._segmentRange.segmentIndex,\n\t\t\t\tthis._segmentRange, forceUpdate)\n\n\t\t} else {\n\t\t\tconst segmentRange = this._getPageOrSegmentRange(\"segment\", segmentIndex)\n\t\t\tsegmentRange.segmentIndex = segmentIndex\n\n\t\t\t// Note that pageIndex is not affected by a scroll (and is initially null)\n\t\t\tthis._updateLoadTasksForSegmentRange(this.pageIndex || 0, segmentIndex, segmentRange,\n\t\t\t\tforceUpdate)\n\t\t}\n\t}\n\n\t// Used above (on starting a page change or after a goTo or tag change in page loading mode)\n\t_updatePageLoadTasks(targetPageIndex, isGoingForward, forceUpdate = false) {\n\t\tconst targetSegmentIndex = (isGoingForward === true)\n\t\t\t? this.getIndexOfFirstSegmentInPage(targetPageIndex)\n\t\t\t: this.getIndexOfFirstSegmentInPage(targetPageIndex + 1) - 1\n\n\t\tlet segmentRange = {}\n\t\tif (this.loadingMode === \"page\") {\n\t\t\tconst pageRange = this._getPageOrSegmentRange(\"page\", targetPageIndex)\n\t\t\tsegmentRange = this._getSegmentRangeFromPageRange(pageRange)\n\t\t} else {\n\t\t\tsegmentRange = this._getPageOrSegmentRange(\"segment\", targetSegmentIndex)\n\t\t}\n\t\tsegmentRange.segmentIndex = targetSegmentIndex\n\n\t\tthis._updateLoadTasksForSegmentRange(targetPageIndex, targetSegmentIndex, segmentRange,\n\t\t\tforceUpdate)\n\t}\n\n\t_updateLoadTasksForSegmentRange(targetPageIndex = 0, targetSegmentIndex, segmentRange,\n\t\tforceUpdate = false) {\n\t\t// Update priorities for load tasks (if some tasks are still pending)\n\t\tthis._resourceManager.updatePriorities(targetPageIndex, targetSegmentIndex)\n\n\t\t// Determine which pages have been added or removed\n\t\tconst { startIndex, endIndex } = segmentRange\n\t\tif (forceUpdate === false // forceUpdate = true on a reading mode or tag change, false otherwise\n\t\t\t&& (startIndex === null || endIndex === null\n\t\t\t|| (startIndex === this._segmentRange.startIndex // start and end indices have not changed\n\t\t\t\t&& endIndex === this._segmentRange.endIndex))) {\n\t\t\treturn\n\t\t}\n\n\t\tconst segmentsToAddIndices = []\n\t\tconst segmentsToRemoveIndices = []\n\t\t// Determine added page indices\n\t\tfor (let i = startIndex; i <= endIndex; i += 1) {\n\t\t\tif (forceUpdate === true || this._segmentRange.startIndex === null\n\t\t\t\t|| (i < this._segmentRange.startIndex || i > this._segmentRange.endIndex)\n\t\t\t\t|| this._allSegmentLayersArray[i].loadStatus === 0) {\n\t\t\t\tsegmentsToAddIndices.push(i)\n\t\t\t}\n\t\t}\n\t\t// Determine removed page indices\n\t\tif (forceUpdate === false // No need to populate the list on a reading mode or tag change\n\t\t\t&& this._segmentRange.startIndex !== null && this._segmentRange.endIndex !== null) {\n\t\t\tfor (let i = this._segmentRange.startIndex;\n\t\t\t\ti <= this._segmentRange.endIndex; i += 1) {\n\t\t\t\tif (i < startIndex || i > endIndex) {\n\t\t\t\t\tsegmentsToRemoveIndices.push(i)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Store active page range for next time (i.e. next page change)\n\t\tthis._segmentRange = segmentRange\n\n\t\t// Load relevant resources\n\t\tconst newResourceIdsSet = new Set() // Used to list all *individual* resource ids\n\t\tsegmentsToAddIndices.forEach((segmentIndex) => {\n\t\t\tconst segmentLayer = this._getSegmentLayerWithIndex(segmentIndex)\n\t\t\tif (segmentLayer) {\n\t\t\t\tconst arrayOfSliceResourceDataArray = []\n\n\t\t\t\t// Get ids for resources in transitions (which are stored at page layer level)\n\t\t\t\tconst segment = segmentLayer.content\n\t\t\t\tconst { pageSegmentIndex, pageIndex } = segment\n\t\t\t\tif (pageSegmentIndex === 0 && pageIndex < this.layersArray.length) {\n\t\t\t\t\tconst pageLayer = this.layersArray[pageIndex]\n\t\t\t\t\tconst recursive = false\n\t\t\t\t\tconst array = pageLayer.getResourceIdsToLoad(recursive, forceUpdate)\n\t\t\t\t\tarrayOfSliceResourceDataArray.push(...array)\n\t\t\t\t}\n\n\t\t\t\t// Get ids for resources in slices (including child layers/slices)\n\t\t\t\tconst recursive = true\n\t\t\t\tconst array = segmentLayer.getResourceIdsToLoad(recursive, forceUpdate)\n\t\t\t\tarrayOfSliceResourceDataArray.push(...array)\n\n\t\t\t\tarrayOfSliceResourceDataArray.forEach((sliceResourceDataArray) => {\n\t\t\t\t\tthis._resourceManager.loadResources(sliceResourceDataArray, pageIndex, segmentIndex)\n\t\t\t\t\tsliceResourceDataArray.forEach(({ resourceId }) => {\n\t\t\t\t\t\tnewResourceIdsSet.add(resourceId)\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t// Handle sound resources\n\t\t\t\tif (this._soundsDataArray) {\n\t\t\t\t\tthis._soundsDataArray.forEach((soundData) => {\n\t\t\t\t\t\tconst { resourceId, segmentIndicesArray } = soundData\n\t\t\t\t\t\tif (!segmentIndicesArray) { // For a global sound\n\t\t\t\t\t\t\tthis._resourceManager.loadResources([{ resourceId }], pageIndex, segmentIndex)\n\t\t\t\t\t\t\tnewResourceIdsSet.add(resourceId)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet result = false\n\t\t\t\t\t\t\tsegmentsToAddIndices.forEach((index) => {\n\t\t\t\t\t\t\t\tif (segmentIndicesArray.includes(index) === true) {\n\t\t\t\t\t\t\t\t\tresult = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tif (result === true) {\n\t\t\t\t\t\t\t\tthis._resourceManager.loadResources([{ resourceId }], pageIndex, segmentIndex)\n\t\t\t\t\t\t\t\tnewResourceIdsSet.add(resourceId)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\t// Destroy relevant resources\n\t\tif (this._resourceManager.allowsDestroy === true) {\n\n\t\t\tif (forceUpdate === true) {\n\t\t\t\t// Destroy all resources except those whose ids are in newResourceIdsSet\n\t\t\t\tconst newResourceIdsArray = []\n\t\t\t\tnewResourceIdsSet.forEach((resourceId) => {\n\t\t\t\t\tnewResourceIdsArray.push(resourceId)\n\t\t\t\t})\n\t\t\t\tthis._resourceManager.forceDestroyAllResourcesExceptIds(newResourceIdsArray)\n\t\t\t}\n\n\t\t\tsegmentsToRemoveIndices.forEach((segmentIndex) => {\n\t\t\t\tconst segmentLayer = this._getSegmentLayerWithIndex(segmentIndex)\n\t\t\t\tif (segmentLayer) {\n\t\t\t\t\t// Destroy resources in transitions and sound animations\n\t\t\t\t\t// (which are stored at page layer level)\n\t\t\t\t\tconst segment = segmentLayer.content\n\t\t\t\t\tconst { pageSegmentIndex, pageIndex } = segment\n\t\t\t\t\tif (pageSegmentIndex === 0 && pageIndex < this.layersArray.length) {\n\t\t\t\t\t\tconst pageLayer = this.layersArray[pageIndex]\n\t\t\t\t\t\tpageLayer.destroyResourcesIfPossible()\n\t\t\t\t\t}\n\t\t\t\t\tsegmentLayer.destroyResourcesIfPossible()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t// Used in Slideshow\n\tgetLastPageSegmentIndexForPage(pageIndex) {\n\t\tconst page = this.layersArray[pageIndex].content\n\t\tconst pageSegmentIndex = page.getLastPageSegmentIndex()\n\t\treturn pageSegmentIndex\n\t}\n\n\t// Used above, in Slideshow and in Player\n\tgetIndexOfFirstSegmentInPage(targetPageIndex) {\n\t\tlet i = 0\n\t\tlet nbOfSegments = 0\n\t\twhile (i < this.nbOfPages && i !== targetPageIndex) {\n\t\t\tconst layer = this.layersArray[i]\n\t\t\tconst page = layer.content\n\t\t\tconst { layersArray } = page\n\t\t\tnbOfSegments += layersArray.length\n\t\t\ti += 1\n\t\t}\n\t\treturn nbOfSegments\n\t}\n\n\t_getPageOrSegmentRange(type, index) {\n\t\tlet maxIndex = null\n\n\t\tswitch (type) {\n\t\tcase \"segment\":\n\t\t\tmaxIndex = (this._allSegmentLayersArray.length > 0)\n\t\t\t\t? (this._allSegmentLayersArray.length - 1)\n\t\t\t\t: null\n\t\t\tbreak\n\t\tdefault: // \"page\"\n\t\t\tmaxIndex = (this.nbOfPages > 0) ? (this.nbOfPages - 1) : null\n\t\t\tbreak\n\t\t}\n\t\tif (maxIndex === null) {\n\t\t\treturn { startIndex: null, endIndex: null }\n\t\t}\n\n\t\tconst { maxNbOfUnitsToLoadAfter, maxNbOfUnitsToLoadBefore } = this._resourceManager\n\n\t\tlet startIndex = 0\n\t\tlet endIndex = maxIndex\n\t\tif (maxNbOfUnitsToLoadAfter !== null) {\n\t\t\tstartIndex = (maxNbOfUnitsToLoadBefore === null)\n\t\t\t\t? 0\n\t\t\t\t: Math.max(0, index - maxNbOfUnitsToLoadBefore)\n\t\t\tendIndex = (maxNbOfUnitsToLoadAfter === null)\n\t\t\t\t? maxIndex\n\t\t\t\t: Math.min(maxIndex, index + maxNbOfUnitsToLoadAfter)\n\t\t}\n\n\t\treturn { startIndex, endIndex }\n\t}\n\n\t_getSegmentRangeFromPageRange(pageRange) {\n\t\tlet startIndex = 0\n\t\tlet endIndex = 0\n\t\tlet currentNbOfSegments = 0\n\t\tlet hasEndBeenReached = false\n\t\tlet i = 0\n\t\twhile (i < this.nbOfPages && hasEndBeenReached === false) {\n\t\t\tif (i === pageRange.startIndex) {\n\t\t\t\tstartIndex = currentNbOfSegments\n\t\t\t}\n\t\t\tconst layer = this.layersArray[i]\n\t\t\tconst page = layer.content\n\t\t\tconst { layersArray } = page\n\t\t\tconst nbOfSegmentsInPage = layersArray.length\n\t\t\tcurrentNbOfSegments += nbOfSegmentsInPage\n\t\t\tif (i === pageRange.endIndex) {\n\t\t\t\tendIndex = currentNbOfSegments - 1\n\t\t\t\thasEndBeenReached = true\n\t\t\t}\n\t\t\ti += 1\n\t\t}\n\t\tif (hasEndBeenReached === false) {\n\t\t\tendIndex = currentNbOfSegments - 1\n\t\t}\n\t\tif (endIndex < 0) {\n\t\t\treturn { startIndex: null, endIndex: null }\n\t\t}\n\t\treturn { startIndex, endIndex }\n\t}\n\n\t_getSegmentLayerWithIndex(segmentIndex) { // Which is an absolute segment index\n\t\tif (this._allSegmentLayersArray.length > 0\n\t\t\t&& segmentIndex >= 0 && segmentIndex < this._allSegmentLayersArray.length) {\n\t\t\tconst layer = this._allSegmentLayersArray[segmentIndex]\n\t\t\treturn layer\n\t\t}\n\t\treturn null\n\t}\n\n\t// On a successful page change (post-transition), when this.pageIndex (= stateIndex) has changed\n\t// (note that it's not the page navigator itself that has achieved an entry, but this function\n\t// is triggered by StateHandler's _endStateChange on a page transition's end nonetheless)\n\tfinalizeEntry() {\n\t\tif (this.pageIndex < this.nbOfPages) {\n\t\t\tconst pageLayer = this.layersArray[this.pageIndex]\n\t\t\tthis._currentPage = pageLayer.content\n\t\t} else {\n\t\t\treturn\n\t\t}\n\t\tif (!this._currentPage) {\n\t\t\treturn\n\t\t}\n\n\t\t// Signal the page change (to be done before goToSegmentIndex for better event management)\n\t\tconst locator = this.getLocator()\n\t\tconst data = { locator, nbOfPages: this.nbOfPages }\n\t\tthis._eventEmitter.emit(\"pagechange\", data)\n\n\t\t// If the pageNavigator has sounds to play, and they haven't started playing yet, do it\n\t\tif (this._timeAnimationManager) { // DO NOT CREATE IT IF NO ANIMATIONS!!!\n\t\t\tthis._timeAnimationManager.initializeAnimations(this.pageIndex)\n\t\t}\n\n\t\t// If _doOnStateChangeEnd has been called by a goTo, go to the relevant segment directly\n\t\tif (this._targetPageSegmentIndex !== null) { // In a normal page change, this will be null, yes!\n\t\t\tconst targetPageSegmentIndex = this._targetPageSegmentIndex\n\t\t\tthis._targetPageSegmentIndex = null // To ensure segmentRange update in \"segment\" loading mode\n\t\t\tthis._currentPage.goToSegmentIndex(targetPageSegmentIndex)\n\t\t}\n\t}\n\n\tgetLocator() {\n\t\tconst { href, type } = this._currentPage.getInfo() // Will get info from first slice in page\n\t\tconst segmentIndex = this.getIndexOfFirstSegmentInPage(this.pageIndex)\n\t\tconst totalProgression = (segmentIndex + 1) / this.nbOfSegments\n\t\tconst locations = {\n\t\t\tposition: this.pageIndex,\n\t\t\ttotalProgression,\n\t\t}\n\t\tconst locator = {\n\t\t\thref, type, locations, text: this._pageNavType,\n\t\t}\n\t\treturn locator\n\t}\n\n\t// Used in StateHandler\n\tgetDepthOfNewLayer(oldPageIndex, isGoingForward) {\n\t\tif (oldPageIndex < 0 || oldPageIndex >= this.layersArray.length\n\t\t\t|| !this.layersArray[oldPageIndex]) {\n\t\t\treturn 1\n\t\t}\n\t\tconst { exitForward, exitBackward } = this.layersArray[oldPageIndex]\n\t\tif ((isGoingForward === true && exitForward && exitForward.type === \"slide-out\")\n\t\t\t|| (isGoingForward === false && exitBackward\n\t\t\t\t&& (exitBackward.type === \"fade-out\" || exitBackward.type === \"slide-out\"))) {\n\t\t\treturn 0\n\t\t}\n\t\treturn 1\n\t}\n\n\tattemptStickyStep() {\n\t\tif (!this._currentPage || this.isUndergoingChanges === true\n\t\t\t|| this._metadata.overflow !== \"paginated\") {\n\t\t\treturn false\n\t\t}\n\t\treturn this._currentPage.attemptStickyStep()\n\t}\n\n\tzoom(zoomData) {\n\t\tif (!this._currentPage || this.isUndergoingChanges === true) {\n\t\t\treturn\n\t\t}\n\t\tthis._currentPage.zoom(zoomData)\n\t}\n\n\t// Player functions\n\n\t// Also called in Slideshow\n\tgoToPageWithIndex(pageIndex, pageSegmentIndex, progress = 0, shouldSkipTransition = false,\n\t\tisChangeControlled = false) {\n\t\tlet isGoingForward = true\n\t\tthis._targetPageSegmentIndex = pageSegmentIndex\n\t\tif (pageSegmentIndex === null) {\n\t\t\tconst targetPage = this.layersArray[pageIndex].content\n\t\t\tthis._targetPageSegmentIndex = targetPage.layersArray.length - 1\n\t\t}\n\t\tif (!this.handler || this.handler.type !== \"stateHandler\") {\n\t\t\treturn\n\t\t}\n\n\t\tconst callback = () => {\n\t\t\t// If changing pages\n\t\t\tif (pageIndex !== this.pageIndex) {\n\t\t\t\tif (this.pageIndex !== null) { // isGoingForward remains true otherwise\n\t\t\t\t\tisGoingForward = (pageIndex - this.pageIndex > 0)\n\t\t\t\t}\n\t\t\t\tthis.handler.goToState(pageIndex, isGoingForward, shouldSkipTransition, isChangeControlled)\n\t\t\t\t// And then the finalizeEntry above will ensure that\n\t\t\t\t// we go to _targetPageSegmentIndex directly via goToSegmentIndex\n\n\t\t\t// Or if staying on the same page but changing segments\n\t\t\t// (in this case, we only need to do the goToSegmentIndex)\n\t\t\t} else {\n\t\t\t\tthis._currentPage.goToSegmentIndex(this._targetPageSegmentIndex, isGoingForward)\n\t\t\t\tthis._targetPageSegmentIndex = null\n\t\t\t}\n\n\t\t\tif (progress) {\n\t\t\t\tthis.setPercentInPage(progress)\n\t\t\t}\n\t\t}\n\n\t\t// If forcing a page change (e.g. via ToC while a transition is running)\n\t\tif (this.handler.isUndergoingChanges === true) {\n\t\t\tthis.handler.forceChangesToEnd(callback)\n\t\t} else {\n\t\t\tcallback()\n\t\t}\n\t}\n\n\tsetPercentInPage(percent) {\n\t\tif (!this._currentPage) {\n\t\t\treturn\n\t\t}\n\t\tthis._currentPage.setPercent(percent)\n\t}\n\n\t// On changing PageNavigators\n\n\tgetCurrentHref() {\n\t\tif (!this._currentPage) {\n\t\t\treturn null\n\t\t}\n\t\treturn this._currentPage.getCurrentHref()\n\t}\n\n\tfinalizeExit() {\n\t\tsuper.finalizeExit()\n\t\tthis._currentPage = null\n\t\tthis.removeFromParent()\n\t}\n\n\tsetIsMuted(isMuted) {\n\t\tif (!this._soundsDataArray) {\n\t\t\treturn\n\t\t}\n\t\tthis._soundsDataArray.forEach(({ resourceId }) => {\n\t\t\tconst audioResource = this._resourceManager.getResourceWithId(resourceId)\n\t\t\tif (audioResource) {\n\t\t\t\tif (isMuted === true) {\n\t\t\t\t\taudioResource.mute()\n\t\t\t\t} else {\n\t\t\t\t\taudioResource.unmute()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tdestroy() {\n\t\tthis.removeFromParent()\n\t}\n\n}","import PageNavigator from \"./PageNavigator\"\n\nexport default class Slideshow extends PageNavigator {\n\n\tconstructor(pageNavType, metadata, pageLayersArray, player) {\n\t\tsuper(pageNavType, metadata, pageLayersArray, player)\n\n\t\tconst { direction } = metadata || {}\n\t\tif (direction) {\n\t\t\tthis._setDirection(direction)\n\t\t}\n\t}\n\n\t_setDirection(direction) {\n\t\tthis._direction = direction\n\n\t\tthis.layersArray.forEach((layer) => {\n\t\t\tconst page = layer.content\n\t\t\tpage.setInScrollDirection(direction)\n\n\t\t\tswitch (direction) {\n\t\t\tcase \"ltr\":\n\t\t\t\tpage.setHitZoneToPrevious(\"left\")\n\t\t\t\tpage.setHitZoneToNext(\"right\")\n\t\t\t\tpage.setSecondaryAxis(\"y\")\n\t\t\t\tbreak\n\t\t\tcase \"rtl\":\n\t\t\t\tpage.setHitZoneToPrevious(\"right\")\n\t\t\t\tpage.setHitZoneToNext(\"left\")\n\t\t\t\tpage.setSecondaryAxis(\"y\")\n\t\t\t\tbreak\n\t\t\tcase \"ttb\":\n\t\t\t\tpage.setHitZoneToPrevious(\"top\")\n\t\t\t\tpage.setHitZoneToNext(\"bottom\")\n\t\t\t\tpage.setSecondaryAxis(\"x\")\n\t\t\t\tbreak\n\t\t\tcase \"btt\":\n\t\t\t\tpage.setHitZoneToPrevious(\"bottom\")\n\t\t\t\tpage.setHitZoneToNext(\"top\")\n\t\t\t\tpage.setSecondaryAxis(\"x\")\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\t\t})\n\t}\n\n\tgo(way, shouldGoToMax) {\n\t\tif (!this._direction\n\t\t\t|| ((way === \"right\" || way === \"left\")\n\t\t\t\t&& (this._direction === \"ttb\" || this._direction === \"btt\"))\n\t\t\t|| ((way === \"down\" || way === \"up\")\n\t\t\t\t&& (this._direction === \"rtl\" || this._direction === \"ltr\"))) {\n\t\t\treturn\n\t\t}\n\n\t\tif (shouldGoToMax === true) {\n\t\t\tlet targetPageIndex = 0\n\t\t\tlet targetPageSegmentIndex = 0\n\t\t\tif (((way === \"right\" || way === \"down\")\n\t\t\t\t&& (this._direction === \"ltr\" || this._direction === \"ttb\"))\n\t\t\t\t|| ((way === \"left\" || way === \"up\")\n\t\t\t\t\t&& (this._direction === \"rtl\" || this._direction === \"btt\"))) {\n\t\t\t\ttargetPageIndex = this.nbOfPages - 1\n\t\t\t\ttargetPageSegmentIndex = this.getLastPageSegmentIndexForPage(targetPageIndex)\n\t\t\t}\n\t\t\tif (targetPageIndex >= 0) {\n\t\t\t\tlet targetSegmentIndex = this.getIndexOfFirstSegmentInPage(targetPageIndex)\n\t\t\t\ttargetSegmentIndex += targetPageSegmentIndex\n\t\t\t\tthis.updateLoadTasks(targetPageIndex, targetSegmentIndex)\n\n\t\t\t\tconst shouldSkipTransition = true\n\t\t\t\tconst progress = ((way === \"right\" && this._direction === \"ltr\")\n\t\t\t\t\t|| (way === \"left\" && this._direction === \"rtl\")\n\t\t\t\t\t|| (way === \"down\" && this._direction === \"ttb\")\n\t\t\t\t\t|| (way === \"up\" && this._direction === \"btt\"))\n\t\t\t\t\t? 1\n\t\t\t\t\t: 0\n\t\t\t\tthis.goToPageWithIndex(targetPageIndex, targetPageSegmentIndex, progress,\n\t\t\t\t\tshouldSkipTransition)\n\t\t\t}\n\n\t\t} else {\n\t\t\tswitch (way) {\n\t\t\tcase \"right\":\n\t\t\t\tthis.interactionManager.goRight()\n\t\t\t\tbreak\n\t\t\tcase \"left\":\n\t\t\t\tthis.interactionManager.goLeft()\n\t\t\t\tbreak\n\t\t\tcase \"down\":\n\t\t\t\tthis.interactionManager.goDown()\n\t\t\t\tbreak\n\t\t\tcase \"up\":\n\t\t\t\tthis.interactionManager.goUp()\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\tgoForward() {\n\t\tconst shouldSkipTransition = false\n\t\tthis.attemptToGoForward(shouldSkipTransition)\n\t}\n\n\tgoBackward() {\n\t\tconst shouldSkipTransition = false\n\t\tthis.attemptToGoBackward(shouldSkipTransition)\n\t}\n\n\tgoSidewaysIfPossible(way) {\n\t\treturn this.attemptToGoSideways(way) // A return is needed here (see InteractionManager)\n\t}\n\n}","export default class Layer {\n\n\tget type() { return this._type }\n\n\tget content() { return this._content } // A Container in any case\n\n\tget entryForward() { return this._entryForward }\n\n\tget exitForward() { return this._exitForward }\n\n\tget entryBackward() { return this._entryBackward }\n\n\tget exitBackward() { return this._exitBackward }\n\n\tget loadStatus() { return (this._content) ? this._content.loadStatus : 0 }\n\n\tget size() {\n\t\tif (!this._content) {\n\t\t\treturn { width: 0, height: 0 }\n\t\t}\n\t\treturn this._content.size\n\t}\n\n\tget resourcePath() {\n\t\tif (this._type !== \"slice\" || !this._content) {\n\t\t\treturn null\n\t\t}\n\t\treturn this._content.resourcePath\n\t}\n\n\t// Used in LayerPile: only a layer can be active, and it basically means that its content\n\t// could be displayed on screen right now (i.e. it is an on-screen page, an on-screen page's\n\t// on-screen or out-of-screen segment, or such a segment's slice - however slice transitions,\n\t// which never form the content of a layer, will not be concerned by this property)\n\tget isActive() { return this._isActive }\n\n\tconstructor(type, content) {\n\t\tthis._type = type\n\t\tthis._content = content\n\t\tif (this._content.setParentLayer) {\n\t\t\tthis._content.setParentLayer(this)\n\t\t}\n\n\t\tthis._soundAnimationsArray = null\n\n\t\tthis._isActive = false\n\t}\n\n\tsetParent(parent) {\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.setParent(parent)\n\t}\n\n\t// Used in StoryBuilder\n\tsetHalfTransition(type, value) {\n\t\tswitch (type) {\n\t\tcase \"entryForward\":\n\t\t\tthis._entryForward = value\n\t\t\tbreak\n\t\tcase \"exitForward\":\n\t\t\tthis._exitForward = value\n\t\t\tbreak\n\t\tcase \"entryBackward\":\n\t\t\tthis._entryBackward = value\n\t\t\tbreak\n\t\tcase \"exitBackward\":\n\t\t\tthis._exitBackward = value\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t}\n\n\taddSoundAnimations(soundAnimationsArray) {\n\t\tthis._soundAnimationsArray = this._soundAnimationsArray || []\n\t\tthis._soundAnimationsArray.push(...soundAnimationsArray)\n\t}\n\n\tattemptToGoForward(shouldCancelTransition, doIfIsUndergoingChanges) {\n\t\tif (!this._content || !this._content.attemptToGoForward) {\n\t\t\treturn false\n\t\t}\n\t\treturn this._content.attemptToGoForward(shouldCancelTransition, doIfIsUndergoingChanges)\n\t}\n\n\tattemptToGoBackward(shouldCancelTransition, doIfIsUndergoingChanges) {\n\t\tif (!this._content || !this._content.attemptToGoBackward) {\n\t\t\treturn false\n\t\t}\n\t\treturn this._content.attemptToGoBackward(shouldCancelTransition, doIfIsUndergoingChanges)\n\t}\n\n\tattemptToGoSideways(way) {\n\t\tif (!this._content || !this._content.attemptToGoSideways) {\n\t\t\treturn false\n\t\t}\n\t\treturn this._content.attemptToGoSideways(way)\n\t}\n\n\tsetScale(scale) {\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.setScale(scale)\n\t}\n\n\t// Recursive functions (used in LayerPile)\n\n\tresize() {\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.resize()\n\t}\n\n\tsetupForEntry(isGoingForward) {\n\t\tthis._isActive = true\n\t\tthis.setIsInViewport(true)\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.setupForEntry(isGoingForward)\n\t}\n\n\tsetIsInViewport(isInViewport) {\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.setIsInViewport(isInViewport)\n\t}\n\n\tfinalizeEntry() {\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.finalizeEntry()\n\t}\n\n\tfinalizeExit() {\n\t\tthis._isActive = false\n\t\tthis.setIsInViewport(false)\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.finalizeExit()\n\t}\n\n\t// Used in PageNavigator\n\tgetResourceIdsToLoad(recursive = true, force) {\n\t\tif (!this._content) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst resourceIdsArray = []\n\n\t\tif (recursive === true) {\n\t\t\tconst idsArray = this._content.getResourceIdsToLoad(recursive, force)\n\t\t\tresourceIdsArray.push(...idsArray)\n\t\t}\n\n\t\tif (this._entryForward) {\n\t\t\tconst idsArray = Layer.getResourceIdsForLayerTransition(this._entryForward, force)\n\t\t\tresourceIdsArray.push(...idsArray)\n\t\t}\n\t\tif (this._exitForward) {\n\t\t\tconst idsArray = Layer.getResourceIdsForLayerTransition(this._exitForward, force)\n\t\t\tresourceIdsArray.push(...idsArray)\n\t\t}\n\t\tif (this._entryBackward) {\n\t\t\tconst idsArray = Layer.getResourceIdsForLayerTransition(this._entryBackward, force)\n\t\t\tresourceIdsArray.push(...idsArray)\n\t\t}\n\t\tif (this._exitBackward) {\n\t\t\tconst idsArray = Layer.getResourceIdsForLayerTransition(this._exitBackward, force)\n\t\t\tresourceIdsArray.push(...idsArray)\n\t\t}\n\n\t\tif (this._soundAnimationsArray) {\n\t\t\tthis._soundAnimationsArray.forEach((soundAnimation) => {\n\t\t\t\tconst { resourceId } = soundAnimation || {}\n\t\t\t\tif (resourceId !== undefined) {\n\t\t\t\t\tresourceIdsArray.push([{ resourceId }])\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn resourceIdsArray\n\t}\n\n\tstatic getResourceIdsForLayerTransition(layerTransition, force) {\n\t\tconst { slice } = layerTransition\n\t\tif (!slice) {\n\t\t\treturn []\n\t\t}\n\t\treturn slice.getResourceIdsToLoad(force)\n\t}\n\n\tdestroyResourcesIfPossible() {\n\t\tif (!this._content) {\n\t\t\treturn\n\t\t}\n\t\tthis._content.destroyResourcesIfPossible()\n\n\t\tif (this._entryForward) {\n\t\t\tLayer.destroyResourcesIfPossibleForHalfTransition(this._entryForward)\n\t\t}\n\t\tif (this._exitForward) {\n\t\t\tLayer.destroyResourcesIfPossibleForHalfTransition(this._exitForward)\n\t\t}\n\t\tif (this._entryBackward) {\n\t\t\tLayer.destroyResourcesIfPossibleForHalfTransition(this._entryBackward)\n\t\t}\n\t\tif (this._exitBackward) {\n\t\t\tLayer.destroyResourcesIfPossibleForHalfTransition(this._exitBackward)\n\t\t}\n\t}\n\n\tstatic destroyResourcesIfPossibleForHalfTransition(halfTransition) {\n\t\tconst { slice } = halfTransition\n\t\tif (!slice) {\n\t\t\treturn\n\t\t}\n\t\tslice.destroyResourcesIfPossible()\n\t}\n\n\t// Used in Camera for virtual points\n\tgetInfo() {\n\t\tif (!this._content || !this._content.getInfo) {\n\t\t\treturn null\n\t\t}\n\t\treturn this._content.getInfo()\n\t}\n\n}","import LayerPile from \"./LayerPile\"\nimport Layer from \"./Layer\"\n\nexport default class Page extends LayerPile {\n\n\tget isAtStart() {\n\t\treturn (this.handler && this.handler.type === \"overflowHandler\"\n\t\t\t&& this.handler.isAtStart === true)\n\t}\n\n\tget isAtEnd() {\n\t\treturn (this.handler && this.handler.type === \"overflowHandler\"\n\t\t\t&& this.handler.isAtEnd === true)\n\t}\n\n\t// Used in PageNavigator\n\tget doesOverflow() { return (this.isAtStart === false || this.isAtEnd === false) }\n\n\t// Used in Segment\n\tget pageIndex() { return this._pageIndex }\n\n\t// Used in InteractionManager\n\n\tget inScrollDirection() { return this._inScrollDirection }\n\n\tget hitZoneToPrevious() { return this._hitZoneToPrevious }\n\n\tget hitZoneToNext() { return this._hitZoneToNext }\n\n\tget secondaryAxis() { return this._secondaryAxis }\n\n\tget size() {\n\t\tlet width = 0\n\t\tlet height = 0\n\t\t// The size is derived from the sizes of all segments\n\t\tthis.layersArray.forEach((layer) => {\n\t\t\tconst segment = layer.content\n\t\t\tconst { size } = segment\n\t\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\t\twidth += size.width\n\t\t\t\theight = Math.max(height, size.height)\n\t\t\t} else {\n\t\t\t\theight += size.height\n\t\t\t\twidth = Math.max(width, size.width)\n\t\t\t}\n\t\t})\n\t\tif (this._layersArray.length > 1) {\n\t\t\tconst { viewportRect } = this._player\n\t\t\tif (this._inScrollDirection === \"ltr\" || this._inScrollDirection === \"rtl\") {\n\t\t\t\theight = Math.min(height, viewportRect.height)\n\t\t\t} else if (this._inScrollDirection === \"ttb\" || this._inScrollDirection === \"btt\") {\n\t\t\t\twidth = Math.min(width, viewportRect.width)\n\t\t\t}\n\t\t\t// Note that the above will prevent scrolling on the secondary axis\n\t\t\t// in a page that has more than one segment\n\t\t}\n\t\treturn { width, height }\n\t}\n\n\tconstructor(pageIndex, overflow, hAlign, vAlign, player) {\n\t\tconst name = `page${pageIndex}`\n\t\tsuper(\"page\", name)\n\n\t\tthis._pageIndex = pageIndex\n\t\tthis._player = player\n\n\t\tthis._hitZoneToPrevious = null\n\t\tthis._hitZoneToNext = null\n\t\tthis._inScrollDirection = null\n\n\t\tthis._addOverflowHandler(overflow, hAlign, vAlign, player)\n\n\t\tthis._timeAnimationsArray = []\n\t}\n\n\tsetInScrollDirection(inScrollDirection) {\n\t\tthis._inScrollDirection = inScrollDirection\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn\n\t\t}\n\t\tthis.handler.setInScrollDirection(inScrollDirection)\n\t}\n\n\tsetHitZoneToPrevious(quadrant) {\n\t\tthis._hitZoneToPrevious = quadrant\n\t}\n\n\tsetHitZoneToNext(quadrant) {\n\t\tthis._hitZoneToNext = quadrant\n\t}\n\n\tsetSecondaryAxis(axis) {\n\t\tthis._secondaryAxis = axis\n\t}\n\n\taddSegment(segment) {\n\t\t// Add the segment to the layer pile\n\t\tconst segmentLayer = new Layer(\"segment\", segment)\n\t\tthis.addLayer(segmentLayer)\n\t}\n\n\taddSnapPoints(pageSegmentIndex, snapPointsArray) {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn\n\t\t}\n\t\tthis.handler.addSnapPoints(pageSegmentIndex, snapPointsArray)\n\t}\n\n\taddSliceAnimation(pageSegmentIndex, slice, animation) {\n\t\tif (this.handler && this.handler.type === \"overflowHandler\") {\n\t\t\tthis.handler.addSliceAnimation(pageSegmentIndex, slice, animation)\n\t\t}\n\t}\n\n\taddSoundAnimation(pageSegmentIndex, animation) {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn\n\t\t}\n\t\tthis.handler.addSoundAnimation(pageSegmentIndex, animation)\n\t}\n\n\t// Used in PageNavigator\n\tgoToSegmentIndex(pageSegmentIndex, isGoingForward = true) {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn\n\t\t}\n\t\tthis.handler.goToSegmentIndex(pageSegmentIndex, isGoingForward)\n\t}\n\n\t// Used in PageNavigator\n\tgetLastPageSegmentIndex() {\n\t\treturn (this.layersArray.length - 1)\n\t}\n\n\tattemptStickyStep() {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn false\n\t\t}\n\t\treturn this.handler.attemptStickyStep()\n\t}\n\n\tzoom(zoomData) {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn\n\t\t}\n\t\tthis.handler.zoom(zoomData)\n\t}\n\n\tsetPercent(percent) {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn\n\t\t}\n\t\tthis.handler.setPercent(percent)\n\t}\n\n\t// Used in PageNavigator\n\tgetCurrentHref() {\n\t\tif (!this.handler || this.handler.type !== \"overflowHandler\") {\n\t\t\treturn null\n\t\t}\n\t\treturn this.handler.getCurrentHref()\n\t}\n\n\tresizePage() {\n\t\tconst pageNavigator = this.parent\n\t\tif (!pageNavigator) {\n\t\t\treturn\n\t\t}\n\t\tpageNavigator.layersArray.forEach((layer) => {\n\t\t\tconst { content, isActive } = layer // content is a Page\n\t\t\tif (content === this && isActive === true) {\n\t\t\t\tthis.resize()\n\t\t\t}\n\t\t})\n\t}\n\n\tupdateLoadStatus() {\n\t\tconst oldStatus = this.loadStatus\n\n\t\tsuper.updateLoadStatus()\n\n\t\tif (this.loadStatus !== oldStatus) {\n\t\t\tconst { eventEmitter } = this._player\n\t\t\tconst data = { pageIndex: this._pageIndex, loadStatus: this.loadStatus }\n\t\t\teventEmitter.emit(\"pageloadstatusupdate\", data)\n\t\t}\n\t}\n\n\tgetInfo() {\n\t\tconst pageNavigator = this.parent\n\t\tif (!pageNavigator) {\n\t\t\treturn {}\n\t\t}\n\t\tconst { pageNavType } = pageNavigator\n\t\tif (pageNavType !== \"double\") {\n\t\t\treturn super.getInfo()\n\t\t}\n\t\t// For a double page, if the first (half) page is empty, then the second one may be considered\n\t\tconst result = this.layersArray[0].getInfo()\n\t\tif (result.href === \"\" && this.layersArray.length === 2) {\n\t\t\treturn this.layersArray[1].getInfo()\n\t\t}\n\t\treturn result\n\t}\n\n}","import LayerPile from \"./LayerPile\"\n\nexport default class Segment extends LayerPile {\n\n\t// Used in StoryBuilder and PageNavigator\n\tget pageSegmentIndex() { return this._pageSegmentIndex }\n\n\t// Used in PageNavigator\n\tget pageIndex() { return this._pageIndex }\n\n\t// Used in Camera and Slice\n\tget segmentIndex() { return this._segmentIndex }\n\n\t// Used in Camera\n\tget unscaledSize() {\n\t\treturn (this.layersArray.length > 0)\n\t\t\t? this.layersArray[0].content.unscaledSize\n\t\t\t: { width: 0, height: 0 }\n\t}\n\n\tconstructor(pageSegmentIndex, segmentIndex, page, sliceLayersArray, player) {\n\t\tconst { pageIndex } = page\n\t\tconst name = `page${pageIndex}Segment${pageSegmentIndex}`\n\t\tconst isFirstSliceAParentSlice = (sliceLayersArray.length > 1)\n\t\tsuper(\"segment\", name, page, sliceLayersArray, isFirstSliceAParentSlice)\n\n\t\tthis._pageIndex = pageIndex\n\t\tthis._pageSegmentIndex = pageSegmentIndex // Segment index in page\n\t\tthis._segmentIndex = segmentIndex\n\n\t\t// Add a StateHandler to the Segment if it has multiple layers\n\t\tif (sliceLayersArray.length > 1) {\n\t\t\tconst shouldStateLayersCoexistOutsideTransitions = true\n\t\t\tthis.addStateHandler(shouldStateLayersCoexistOutsideTransitions, player)\n\t\t}\n\n\t\t// It is useful to do the following right away for (double page) empty slices,\n\t\t// so that their loadStatus equal 2\n\t\tthis.updateLoadStatus()\n\t}\n\n\tresize() {\n\t\tsuper.resize()\n\n\t\t// If the segment has multiple layers, clip it to its actual size\n\t\tif (this.layersArray.length > 1) {\n\t\t\tthis.clipToSize(this.size)\n\t\t}\n\t}\n\n}","import { Slice } from \"../Slice\"\nimport Slideshow from \"./Slideshow\"\nimport Page from \"./Page\"\nimport Segment from \"./Segment\"\nimport Layer from \"./Layer\"\n\nexport default class StoryBuilder {\n\n\tstatic createPageNavigator(pageNavType, pageNavData, sharedMetadata, slices, player) {\n\t\tconst { metadata, globalSoundsArray } = pageNavData // Note that this metadata is specific\n\t\tconst fullMetadata = { ...sharedMetadata, ...metadata }\n\n\t\tconst pageLayersArray = StoryBuilder.buildPageLayersArray(pageNavType, pageNavData,\n\t\t\tfullMetadata, slices, player)\n\t\tconst pageNavigator = new Slideshow(pageNavType, fullMetadata, pageLayersArray, player)\n\n\t\tif (globalSoundsArray) { // Global sounds are necessarily time animations\n\t\t\tglobalSoundsArray.forEach(({ resourceId }) => {\n\t\t\t\tpageNavigator.addSoundData({ resourceId }) // No segment indices will mean all pages!\n\t\t\t})\n\n\t\t\t// Add to TimeAnimationsManager\n\t\t\tconst pageIndex = null\n\t\t\tplayer.timeAnimationManager.addSoundAnimations(globalSoundsArray, pageIndex)\n\t\t}\n\n\t\t// Scan all sound animations, storing sound data on the one hand (see just below),\n\t\t// and adding time animations to the time animation manager on the other\n\t\tlet segmentIndex = 0\n\t\tconst soundDataByResourceId = {}\n\t\tconst { pagesDataArray } = pageNavData\n\t\tpagesDataArray.forEach((pageData, i) => {\n\t\t\tconst { segmentsDataArray } = pageData\n\t\t\tsegmentsDataArray.forEach((segmentData) => {\n\t\t\t\tconst { soundAnimationsArray } = segmentData\n\t\t\t\tif (soundAnimationsArray) {\n\t\t\t\t\tsoundAnimationsArray.forEach((animation) => {\n\t\t\t\t\t\tconst { type, resourceId } = animation\n\t\t\t\t\t\tif (!soundDataByResourceId[resourceId]) {\n\t\t\t\t\t\t\tsoundDataByResourceId[resourceId] = []\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst { length } = soundDataByResourceId[resourceId]\n\t\t\t\t\t\tif (length === 0\n\t\t\t\t\t\t\t|| soundDataByResourceId[resourceId][length - 1] !== i) {\n\t\t\t\t\t\t\tsoundDataByResourceId[resourceId].push(segmentIndex)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (type === \"time\") {\n\t\t\t\t\t\t\tplayer.timeAnimationManager.addSoundAnimations([animation], i)\n\t\t\t\t\t\t} // Progress and point animations are dealt with below\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tsegmentIndex += 1\n\t\t\t})\n\t\t})\n\n\t\t// Store all sound data in the page navigator to allow for related load tasks\n\t\tObject.entries(soundDataByResourceId).forEach(([resourceId, segmentIndicesArray]) => {\n\t\t\tpageNavigator.addSoundData({ resourceId, segmentIndicesArray })\n\t\t})\n\n\t\treturn pageNavigator\n\t}\n\n\tstatic buildPageLayersArray(pageNavType, pageNavData, metadata, slices, player) {\n\t\tconst { pagesDataArray } = pageNavData\n\t\tconst { overflow, hAlign, vAlign } = metadata\n\n\t\tconst pagesArray = []\n\t\tlet segmentIndex = 0\n\n\t\t// For double pages\n\t\tlet emptySlice = null\n\t\tlet lastSlice = null\n\n\t\tpagesDataArray.forEach((pageData, i) => {\n\n\t\t\tconst actualHAlign = pageData.hAlign || hAlign\n\t\t\tconst actualVAlign = pageData.vAlign || vAlign\n\n\t\t\tconst page = new Page(i, overflow, actualHAlign, actualVAlign, player)\n\n\t\t\tconst { segmentsDataArray } = pageData\n\t\t\tsegmentsDataArray.forEach((segmentData, j) => {\n\t\t\t\tconst {\n\t\t\t\t\tsliceId, childrenArray, snapPointsArray, soundAnimationsArray,\n\t\t\t\t} = segmentData\n\t\t\t\tconst sliceLayersArray = []\n\n\t\t\t\t// If an empty slice (in a double page)\n\t\t\t\tif (sliceId === undefined) {\n\t\t\t\t\temptySlice = Slice.createEmptySlice(player)\n\t\t\t\t\tconst emptySliceLayersArray = [new Layer(\"slice\", emptySlice)]\n\t\t\t\t\tconst emptySegment = new Segment(j, segmentIndex, page, emptySliceLayersArray,\n\t\t\t\t\t\tplayer)\n\t\t\t\t\tpage.addSegment(emptySegment)\n\n\t\t\t\t\tif (j === 1) {\n\t\t\t\t\t\temptySlice._neighbor = lastSlice\n\t\t\t\t\t\temptySlice = null\n\t\t\t\t\t\tlastSlice = null\n\t\t\t\t\t}\n\n\t\t\t\t// Otherwise, for a normal page\n\t\t\t\t} else {\n\t\t\t\t\tconst slice = slices[sliceId]\n\t\t\t\t\tconst sliceLayer = new Layer(\"slice\", slice)\n\t\t\t\t\tsliceLayersArray.push(sliceLayer)\n\n\t\t\t\t\t// For double pages\n\t\t\t\t\tif (emptySlice) { // If emptySlice was in the first position in the page\n\t\t\t\t\t\temptySlice._neighbor = slice\n\t\t\t\t\t\temptySlice = null\n\t\t\t\t\t}\n\t\t\t\t\tlastSlice = slice\n\n\t\t\t\t\t// If there are child layers, add them (the parent one is used to define a reference size)\n\t\t\t\t\tif (childrenArray && childrenArray.length > 0) {\n\t\t\t\t\t\tchildrenArray.forEach((child) => {\n\t\t\t\t\t\t\tconst childSlice = slices[child.sliceId]\n\t\t\t\t\t\t\tconst childSliceLayer = new Layer(\"slice\", childSlice)\n\n\t\t\t\t\t\t\t// Add layer transitions, except for a continuous = true story\n\t\t\t\t\t\t\tif (pageNavType !== \"scroll\") {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tentryForward, exitForward, entryBackward, exitBackward,\n\t\t\t\t\t\t\t\t} = child\n\t\t\t\t\t\t\t\tif (entryForward) {\n\t\t\t\t\t\t\t\t\tStoryBuilder._setHalfTransition(\"entryForward\", entryForward,\n\t\t\t\t\t\t\t\t\t\tchildSliceLayer)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (exitForward) {\n\t\t\t\t\t\t\t\t\tStoryBuilder._setHalfTransition(\"exitForward\", exitForward,\n\t\t\t\t\t\t\t\t\t\tchildSliceLayer)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (entryBackward) {\n\t\t\t\t\t\t\t\t\tStoryBuilder._setHalfTransition(\"entryBackward\", entryBackward,\n\t\t\t\t\t\t\t\t\t\tchildSliceLayer)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (exitBackward) {\n\t\t\t\t\t\t\t\t\tStoryBuilder._setHalfTransition(\"exitBackward\", exitBackward,\n\t\t\t\t\t\t\t\t\t\tchildSliceLayer)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsliceLayersArray.push(childSliceLayer)\n\n\t\t\t\t\t\t\tif (child.visualAnimationsArray) {\n\t\t\t\t\t\t\t\tchild.visualAnimationsArray.forEach((animation) => {\n\t\t\t\t\t\t\t\t\tconst { type } = animation\n\t\t\t\t\t\t\t\t\tif (type === \"progress\" || type === \"point\") {\n\t\t\t\t\t\t\t\t\t\tpage.addSliceAnimation(j, childSlice, animation)\n\t\t\t\t\t\t\t\t\t} else { // type === \"time\"\n\t\t\t\t\t\t\t\t\t\tplayer.timeAnimationManager.addSliceAnimation(childSlice,\n\t\t\t\t\t\t\t\t\t\t\tanimation, i)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tconst segment = new Segment(j, segmentIndex, page, sliceLayersArray, player)\n\t\t\t\t\tpage.addSegment(segment)\n\n\t\t\t\t\tif (soundAnimationsArray) { // Non-global sounds are linked to a page\n\t\t\t\t\t\tsoundAnimationsArray.forEach((animation) => {\n\t\t\t\t\t\t\tconst { type } = animation\n\t\t\t\t\t\t\t// However time animations will be directly handled by timeAnimationManager\n\t\t\t\t\t\t\tif (type === \"progress\" || type === \"point\") {\n\t\t\t\t\t\t\t\tpage.addSoundAnimation(j, animation)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tlastSlice = slice\n\t\t\t\t}\n\n\t\t\t\tif (snapPointsArray) {\n\t\t\t\t\tpage.addSnapPoints(j, snapPointsArray)\n\t\t\t\t}\n\n\t\t\t\tsegmentIndex += 1\n\t\t\t})\n\n\t\t\tpagesArray.push(page)\n\t\t})\n\n\t\t// Create pageLayersArray\n\t\tconst pageLayersArray = pagesArray.map((page) => (new Layer(\"page\", page)))\n\n\t\t// Now assign entry and exit half transitions\n\t\t// (if forcedTransitionType=\"cut\", don't add transitions at all)\n\t\tconst { forcedTransitionType } = metadata\n\t\tif (!forcedTransitionType || forcedTransitionType !== \"cut\") {\n\t\t\tpagesDataArray.forEach((pageData, i) => {\n\t\t\t\tconst {\n\t\t\t\t\tentryForward, exitForward, entryBackward, exitBackward,\n\t\t\t\t} = pageData\n\t\t\t\tconst pageLayer = pageLayersArray[i]\n\t\t\t\tif (entryForward) {\n\t\t\t\t\tStoryBuilder._setHalfTransition(\"entryForward\", entryForward, pageLayer)\n\t\t\t\t}\n\t\t\t\tif (exitForward) {\n\t\t\t\t\tStoryBuilder._setHalfTransition(\"exitForward\", exitForward, pageLayer)\n\t\t\t\t}\n\t\t\t\tif (entryBackward) {\n\t\t\t\t\tStoryBuilder._setHalfTransition(\"entryBackward\", entryBackward, pageLayer)\n\t\t\t\t}\n\t\t\t\tif (exitBackward) {\n\t\t\t\t\tStoryBuilder._setHalfTransition(\"exitBackward\", exitBackward, pageLayer)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn pageLayersArray\n\t}\n\n\tstatic _setHalfTransition(type, value, pageLayer) {\n\t\tconst { slice } = value\n\t\tif (slice) {\n\t\t\tconst page = pageLayer.content\n\t\t\tslice.setParent(page)\n\t\t}\n\t\tpageLayer.setHalfTransition(type, value)\n\t}\n\n}","import { Renderer } from \"../Renderer\"\n\nimport TextManager from \"./TextManager\"\nimport InteractionManager from \"./InteractionManager\"\nimport ResourceManager from \"../ResourceManager\"\nimport TimeAnimationManager from \"./TimeAnimationManager\"\nimport EventEmitter from \"./EventEmitter\"\nimport DivinaParser from \"../DivinaParser\"\nimport TagManager from \"./TagManager\"\nimport StoryBuilder from \"../StoryBuilder\"\n\nimport * as Utils from \"../utils\"\n\nexport default class Player {\n\n\t// Size of the effective viewport (i.e. once viewport ratio constraint is applied),\n\t// used in TextureElement, InteractionManager, StateHandler, PageNavigator and Camera\n\tget viewportRect() { return this._viewportRect }\n\n\t// Used in Camera\n\tget viewportBoundingRect() { return this._renderer.size }\n\n\t// Used in Camera\n\tget options() { return this._options }\n\n\t// Used in TextureElement\n\tget readingMode() { return (this._pageNavigator) ? this._pageNavigator.pageNavType : null }\n\n\t// Used in PageNavigator\n\tget interactionManager() { return this._interactionManager }\n\n\t// Used in SliceResource, TextureElement, PageNavigator and TagManager\n\tget resourceManager() { return this._resourceManager }\n\n\t// Used in StoryBuilder\n\tget timeAnimationManager() { return this._timeAnimationManager }\n\n\t// Used in ResourceManager and TagManager\n\tget slices() { return this._slices }\n\n\t// Used in Slice and InteractionManager\n\tget pageNavigator() { return this._pageNavigator }\n\n\t// Used below and in InteractionManager\n\tget canConsiderInteractions() {\n\t\treturn (this._pageNavigator && this._resourceManager.haveFirstResourcesLoaded === true)\n\t}\n\n\t// Used in outside app and PageNavigator\n\tget eventEmitter() { return this._eventEmitter }\n\n\t// Used in AudioResource\n\tget isMuted() { return this._isMuted }\n\n\t// The rootElement is the parent DOM element (HTML page's body)\n\tconstructor(rootElement, backgroundColor = null) {\n\t\tthis._rootElement = rootElement\n\n\t\t// Create the player's renderer\n\t\tthis._renderer = new Renderer(rootElement, backgroundColor, this)\n\n\t\t// Size the player for the first time\n\t\tthis._viewportRect = {\n\t\t\tx: 0, y: 0, width: 0, height: 0,\n\t\t}\n\t\tthis.resize()\n\n\t\t// Create the container that will hold the loading message\n\t\tthis._textManager = new TextManager(this._renderer.mainContainer, this)\n\n\t\t// Create the interaction manager (which will deal with user gestures)\n\t\tthis._interactionManager = new InteractionManager(this, rootElement)\n\n\t\t// Initialize story data\n\t\tthis._minRatio = null\n\t\tthis._maxRatio = null\n\t\tconst shouldReturnDefaultValue = true\n\t\tthis._spread = Utils.returnValidValue(\"spread\", null, shouldReturnDefaultValue)\n\n\t\tthis._tagManager = null\n\t\tthis._options = {}\n\n\t\tthis._target = { pageIndex: 0, pageSegmentIndex: 0, segmentIndex: 0 }\n\t\tthis._resourceManager = new ResourceManager(this)\n\n\t\tthis._isMuted = true\n\n\t\tthis._timeAnimationManager = new TimeAnimationManager(this)\n\n\t\tthis._storyData = {}\n\t\tthis._slices = {}\n\t\tthis._pageNavigatorsData = {}\n\t\tthis._pageNavigator = null\n\t\tthis._wasDoublePageReadingModeAvailable = false\n\n\t\t// Add a resize event listener\n\t\tthis.resize = this.resize.bind(this)\n\t\twindow.addEventListener(\"resize\", this.resize)\n\t\twindow.addEventListener(\"orientationchange\", this._doOnOrientationChange)\n\t\tthis._timeout = null\n\n\t\tthis._eventEmitter = new EventEmitter()\n\n\t\t// Create DivinaParser\n\t\tthis._divinaParser = new DivinaParser(this)\n\t}\n\n\trefreshOnce() {\n\t\tthis._renderer.refreshOnce()\n\t}\n\n\t// The resize function is called on creating the Player, at the end of _setRatioConstraint\n\t// and whenever a \"resize\" event is detected (e.g. after an orientation change)\n\tresize() {\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\t// Size the renderer based on the rootElement's size\n\t\t\tconst { width, height } = this._rootElement.getBoundingClientRect()\n\t\t\tthis._renderer.setSize(width, height)\n\n\t\t\tthis._sizeViewport(width, height) // The list of available page navigators may be updated\n\t\t})\n\t}\n\n\t// This function sizes the viewport based on the rootElement's size and possible ratio constraints\n\t_sizeViewport(width, height) {\n\t\tlet viewportWidth = width\n\t\tlet viewportHeight = height\n\n\t\t// Get the (target) ratio value that conforms to the viewport ratio constraints\n\t\tconst applicableRatio = this._getApplicableRatio(width, height)\n\t\tconst boundingRectRatio = width / height\n\n\t\tconst topLeftPoint = { x: 0, y: 0 }\n\n\t\tif (boundingRectRatio >= applicableRatio) {\n\t\t\t// The _rootElement's height becomes the viewport's and constrains the viewport's width\n\t\t\tviewportWidth = height * applicableRatio\n\t\t\ttopLeftPoint.x = (width - viewportWidth) / 2\n\n\t\t} else {\n\t\t\t// The _rootElement's width becomes the viewport's and constrains the viewport's height\n\t\t\tviewportHeight = width / applicableRatio\n\t\t\ttopLeftPoint.y = (height - viewportHeight) / 2\n\t\t}\n\n\t\t// Store the viewport's rectangle\n\t\tthis._viewportRect = {\n\t\t\tx: topLeftPoint.x, // NOTE THAT x AND y VALUES ARE ONLY USED IN CAMERA, FOR ZOOM!\n\t\t\ty: topLeftPoint.y,\n\t\t\twidth: viewportWidth,\n\t\t\theight: viewportHeight,\n\t\t}\n\n\t\t// Update the renderer's display (note that zoomFactor is forced to 1 on a resize)\n\t\tthis.updateDisplayForZoomFactor(1, this._viewportRect)\n\n\t\t// Now resize the current pageNavigator if there is one\n\t\tif (this._pageNavigator) {\n\t\t\tthis._pageNavigator.resize()\n\t\t}\n\n\t\t// Update availability of double reading mode if necessary\n\t\tif (this._pageNavigator\n\t\t\t&& this._isDoublePageReadingModeAvailable() !== this._wasDoublePageReadingModeAvailable) {\n\n\t\t\tconst data = { readingMode: this._pageNavigator.pageNavType }\n\t\t\tconst actualReadingModes = { ...this._pageNavigatorsData }\n\t\t\tdelete actualReadingModes.metadata\n\t\t\tif (this._wasDoublePageReadingModeAvailable === true) {\n\t\t\t\tdelete actualReadingModes.double\n\t\t\t\tthis.setReadingMode(\"single\")\n\t\t\t}\n\t\t\tdata.readingModesArray = Object.keys(actualReadingModes)\n\t\t\tthis._eventEmitter.emit(\"readingmodesupdate\", data)\n\n\t\t\tthis._wasDoublePageReadingModeAvailable = !this._wasDoublePageReadingModeAvailable\n\t\t}\n\t}\n\n\t// Called above and externally\n\tsetReadingMode(readingMode) {\n\t\tif (!this._pageNavigator || !readingMode || readingMode === this._pageNavigator.pageNavType) {\n\t\t\treturn\n\t\t}\n\t\tthis._setPageNavigator(readingMode)\n\t}\n\n\t// _getApplicableRatio computes the (target) ratio that conforms to viewportRatio constraints\n\t// Reminder: viewportRatio = { min, max } where both min and max are written as \"width:height\"\n\t_getApplicableRatio(width, height) {\n\t\t// The default ratio is that of the rootElement's dimensions\n\t\tconst currentRatio = width / height\n\n\t\t// If there are no viewportRatio constraints, then keep the rootElement's ratio\n\t\tif (!this._minRatio && !this._maxRatio) {\n\t\t\treturn currentRatio\n\t\t}\n\n\t\t// If there's only a min, or only a max, then apply the constraint\n\t\tif (this._minRatio && !this._maxRatio) {\n\t\t\treturn Math.max(this._minRatio, currentRatio)\n\t\t}\n\t\tif (this._maxRatio && !this._minRatio) {\n\t\t\treturn Math.min(this._maxRatio, currentRatio)\n\t\t}\n\n\t\t// If both a min and max are defined, then apply both constraints\n\t\treturn Math.min(Math.max(currentRatio, this._minRatio), this._maxRatio)\n\t}\n\n\t// Used in _sizeViewport above (after a resize) and in Camera (when changing zoom)\n\tupdateDisplayForZoomFactor(zoomFactor, viewportRect = this._viewportRect) {\n\t\tthis._renderer.updateDisplay(zoomFactor, viewportRect)\n\t}\n\n\t// If an orientation change is detected, trigger a resize event after half a second\n\t// (an awkward hack to deal with orientation changes on iOS devices...)\n\t_doOnOrientationChange() {\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\tthis._timeout = setTimeout(this.resize, 500)\n\t}\n\n\tzoom(zoomData) {\n\t\tthis._pageNavigator.zoom(zoomData)\n\t}\n\n\t_isDoublePageReadingModeAvailable() {\n\t\treturn (this._spread === \"both\"\n\t\t\t|| (this._spread === \"landscape\" && this._viewportRect.width >= this._viewportRect.height))\n\t}\n\n\t// For loading the divina data from a folder path\n\topenDivinaFromFolderPath(path, locator = null, options = null) {\n\t\tconst resourceSource = { folderPath: path }\n\t\tconst asyncLoadFunction = () => (this._divinaParser.loadFromPath(path, \"folder\"))\n\t\tthis._loadDataAndBuildStory(asyncLoadFunction, locator, options, resourceSource)\n\t}\n\n\t// For loading the divina data from a manifest path\n\topenDivinaFromManifestPath(path, locator = null, options = null) {\n\t\tconst resourceSource = { folderPath: Utils.getFolderPathFromManifestPath(path) }\n\t\tconst asyncLoadFunction = () => (this._divinaParser.loadFromPath(path, \"manifest\"))\n\t\tthis._loadDataAndBuildStory(asyncLoadFunction, locator, options, resourceSource)\n\t}\n\n\t// For loading the divina data from a json and folder path\n\topenDivinaFromJsonAndFolderPath(json, path, locator = null, options = null) {\n\t\tconst resourceSource = { folderPath: path }\n\t\tconst asyncLoadFunction = () => (this._divinaParser.loadFromJson(json))\n\t\tthis._loadDataAndBuildStory(asyncLoadFunction, locator, options, resourceSource)\n\t}\n\n\t// For loading the divina data from a json\n\topenDivinaFromJson(json, locator = null, options = null) {\n\t\tconst path = null\n\t\tthis.openDivinaFromJsonAndFolderPath(json, path, locator, options)\n\t}\n\n\t// For loading the divina data from data = { json, base64DataByHref }\n\topenDivinaFromData(data, locator = null, options = null) {\n\t\tconst resourceSource = { data }\n\t\tconst json = (data && data.json) ? data.json : null\n\t\tconst asyncLoadFunction = () => (this._divinaParser.loadFromJson(json))\n\t\tthis._loadDataAndBuildStory(asyncLoadFunction, locator, options, resourceSource)\n\t}\n\n\t_loadDataAndBuildStory(asyncLoadFunction, locator, options, resourceSource) {\n\t\tasyncLoadFunction()\n\t\t\t.then((result) => {\n\t\t\t\tif (!result || result.error) {\n\t\t\t\t\tthis._showErrorMessage((result) ? result.error : null)\n\t\t\t\t} else {\n\t\t\t\t\tconst { folderPath, pageNavigatorsData } = result\n\t\t\t\t\tthis._buildStory(locator, options, resourceSource, folderPath, pageNavigatorsData)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (this._textManager) {\n\t\t\t\t\tthis._showErrorMessage(error)\n\t\t\t\t} else {\n\t\t\t\t\tthrow error\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t_showErrorMessage(error) {\n\t\tif (!this._textManager || !error || !error.message) {\n\t\t\treturn\n\t\t}\n\t\tthis._textManager.showMessage({ type: \"error\", data: error.message })\n\t}\n\n\t_buildStory(locator = null, options = null, resourceSource, folderPath, pageNavigatorsData) {\n\t\tthis._options = options || {}\n\n\t\t// Set allowed story interactions based on options\n\t\tthis._interactionManager.setStoryInteractions(this._options)\n\n\t\t// Configure resource manager\n\t\tconst actualResourceSource = resourceSource\n\t\tif (folderPath) {\n\t\t\tactualResourceSource.folderPath = folderPath\n\t\t}\n\t\tthis._resourceManager.setResourceSourceAndOptions(actualResourceSource, options)\n\n\t\tconst doWithLoadPercentChange = (loadPercent) => {\n\t\t\tif (this._textManager) {\n\t\t\t\tconst { loadingMessage } = this._options\n\t\t\t\tthis._textManager.showMessage({ type: \"loading\", data: loadPercent, loadingMessage })\n\t\t\t}\n\t\t}\n\t\tthis._resourceManager.setDoWithLoadPercentChange(doWithLoadPercentChange)\n\n\t\tthis._buildStoryFromPageNavigatorsData(pageNavigatorsData, locator)\n\t}\n\n\t// Used in Slice (on creating the Slice)\n\taddSlice(id, slice) {\n\t\tthis._slices[id] = slice\n\t}\n\n\t_buildStoryFromPageNavigatorsData(pageNavigatorsData, locator) {\n\t\tthis._pageNavigatorsData = pageNavigatorsData\n\n\t\tconst { metadata } = this._pageNavigatorsData // Common/shared metadata\n\t\tconst {\n\t\t\tdirection, continuous, spread, viewportRatio, languagesArray,\n\t\t} = metadata || {}\n\n\t\t// Set spread (used to check whether the double reading mode is available)\n\t\tthis._spread = spread\n\n\t\t// Update HTML canvas size to conform to viewportRatio constraints (will trigger a resize)\n\t\tthis._setRatioConstraint(viewportRatio)\n\n\t\t// Create TagManager to store all tags\n\t\t// (note that this._slices has been populated thanks to the Slice's constructor)\n\t\tthis._tagManager = new TagManager(languagesArray, this._slices, this._resourceManager)\n\n\t\t// If required, do something with the information on available reading modes and languages\n\t\tconst actualReadingModes = { ...this._pageNavigatorsData }\n\t\tdelete actualReadingModes.metadata\n\n\t\tif (this._pageNavigatorsData.double) {\n\t\t\tif (this._isDoublePageReadingModeAvailable() === true) {\n\t\t\t\tthis._wasDoublePageReadingModeAvailable = true\n\t\t\t} else {\n\t\t\t\tthis._wasDoublePageReadingModeAvailable = false\n\t\t\t\tdelete actualReadingModes.double\n\t\t\t}\n\t\t}\n\n\t\tconst data = {\n\t\t\treadingProgression: direction,\n\t\t\tcontinuous,\n\t\t\treadingModesArray: Object.keys(actualReadingModes),\n\t\t\tlanguagesArray,\n\t\t}\n\t\tthis._eventEmitter.emit(\"dataparsing\", data)\n\n\t\t// Now build (and set) the page navigator to start with\n\t\tif (this._pageNavigatorsData.single) {\n\t\t\tthis._setPageNavigator(\"single\", locator)\n\t\t} else if (this._pageNavigatorsData.scroll) {\n\t\t\tthis._setPageNavigator(\"scroll\", locator)\n\t\t}\n\t}\n\n\t_setRatioConstraint(viewportRatio) {\n\t\tif (!viewportRatio) {\n\t\t\tthis._minRatio = null\n\t\t\tthis._maxRatio = null\n\t\t\treturn\n\t\t}\n\n\t\t// Parse viewportRatio properties to compute the applicable min and max ratio\n\t\tlet minRatio = null\n\t\tlet maxRatio = null\n\t\tconst { aspectRatio, constraint } = viewportRatio\n\t\tconst ratio = Utils.parseAspectRatio(aspectRatio)\n\t\tif (!ratio) {\n\t\t\treturn\n\t\t}\n\t\tswitch (constraint) {\n\t\tcase \"min\":\n\t\t\tminRatio = ratio\n\t\t\tbreak\n\t\tcase \"max\":\n\t\t\tmaxRatio = ratio\n\t\t\tbreak\n\t\tcase \"exact\":\n\t\t\tminRatio = ratio\n\t\t\tmaxRatio = ratio\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn\n\t\t}\n\n\t\t// If the min and max values are contradictory, then discard them\n\t\tif (minRatio && maxRatio && minRatio > maxRatio) {\n\t\t\treturn\n\t\t}\n\n\t\t// Now store those min and max values and resize the viewport\n\t\tthis._minRatio = minRatio\n\t\tthis._maxRatio = maxRatio\n\t\tthis.resize()\n\t}\n\n\t// Set the pageNavigator, load its first resources and start playing the story\n\t_setPageNavigator(pageNavType, locator = null) {\n\t\tconst oldPageNavigator = this._pageNavigator\n\n\t\tlet actualLocator = locator\n\t\tif (!actualLocator && oldPageNavigator) {\n\t\t\tconst href = oldPageNavigator.getCurrentHref()\n\t\t\tactualLocator = { href }\n\t\t}\n\t\tif (actualLocator) {\n\t\t\tconst canUseShortenedHref = true\n\t\t\tthis._setTargetBasedOnLocator(locator, pageNavType, oldPageNavigator,\n\t\t\t\tcanUseShortenedHref)\n\t\t}\n\n\t\t// Now clean old page navigator\n\t\tif (oldPageNavigator) {\n\t\t\toldPageNavigator.finalizeExit() // Will also remove its container from its parent\n\t\t}\n\n\t\t// Create the page navigator\n\t\tconst pageNavData = this._pageNavigatorsData[pageNavType]\n\t\tconst sharedMetadata = this._pageNavigatorsData.metadata\n\t\tthis._pageNavigator = StoryBuilder.createPageNavigator(pageNavType,\n\t\t\tpageNavData, sharedMetadata, this._slices, this)\n\n\t\t// Repopulate the main container\n\t\tthis._renderer.mainContainer.addChild(this._pageNavigator)\n\n\t\t// Set language if none has been defined yet (otherwise keep it)\n\t\tconst { tags } = this._tagManager\n\t\tconst { index, array } = tags.language\n\t\tif (index === null) {\n\t\t\tlet languageIndex = 0 // The language array is always at least [\"unspecified\"]\n\t\t\tif (this._options.language) {\n\t\t\t\tconst { language } = this._options\n\t\t\t\tconst foundLanguageIndex = array.indexOf(language)\n\t\t\t\tif (foundLanguageIndex >= 0) {\n\t\t\t\t\tlanguageIndex = foundLanguageIndex\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst currentLanguage = array[languageIndex]\n\t\t\tconst shouldUpdateLoadTasks = false // Since the first ones haven't been created yet\n\t\t\tthis.setLanguage(currentLanguage, shouldUpdateLoadTasks)\n\t\t}\n\n\t\t// Do any required updates on the calling app side (e.g. color loadViewer cells differently)\n\t\tconst data = {\n\t\t\treadingMode: pageNavType,\n\t\t\tnbOfPages: this._pageNavigator.nbOfPages,\n\t\t\thasSounds: (this._pageNavigator.metadata.hasSounds === true),\n\t\t\tisMuted: this._isMuted,\n\t\t}\n\t\tthis._eventEmitter.emit(\"readingmodechange\", data)\n\n\t\tthis._updateLoadTasks(this._target)\n\n\t\t// If the story navigator change occurred before the first resources were loaded\n\t\tif (this._resourceManager.haveFirstResourcesLoaded === false) {\n\n\t\t\t// Add a last task to trigger doAfterInitialLoad and start async queue\n\t\t\t// (if not already running)\n\n\t\t\tconst doAfterRunningInitialLoadTasks = () => {\n\n\t\t\t\t// Signal the end of the initial load\n\t\t\t\tthis._eventEmitter.emit(\"initialload\", {})\n\n\t\t\t\t// Remove the _textManager\n\t\t\t\tif (this._textManager) {\n\t\t\t\t\tthis._textManager.destroy()\n\t\t\t\t\tthis._textManager = null\n\t\t\t\t}\n\n\t\t\t\tthis._renderer.applyViewportConstraints() // Before that, would have impacted textManager\n\n\t\t\t\t// Now go to the required resource in the current page navigator\n\t\t\t\tthis._goToTarget(this._target)\n\t\t\t}\n\n\t\t\tconst { initialNbOfResourcesToLoad } = this._options\n\t\t\tconst forcedNb = (initialNbOfResourcesToLoad !== undefined\n\t\t\t\t&& Utils.isANumber(initialNbOfResourcesToLoad) && initialNbOfResourcesToLoad > 0)\n\t\t\t\t? initialNbOfResourcesToLoad\n\t\t\t\t: null\n\t\t\tthis._resourceManager.runInitialTasks(doAfterRunningInitialLoadTasks, forcedNb)\n\n\t\t// Otherwise determine what page the new story navigator should start on by getting the href\n\t\t// of the first resource in the page (in the old story navigator)\n\t\t} else {\n\t\t\tthis._goToTarget(this._target)\n\t\t}\n\t}\n\n\t_setTargetBasedOnLocator(locator, pageNavType = null, oldPageNavigator = null,\n\t\tcanUseShortenedHref = false) {\n\t\tif (!locator) {\n\t\t\treturn\n\t\t}\n\n\t\t// Get target page and segment indices\n\n\t\tlet { href } = locator\n\t\tconst { locations, text } = locator\n\t\tconst readingMode = pageNavType || text\n\t\t\t|| (locations && locations.progression !== undefined) ? \"scroll\" : \"single\"\n\t\tif (this._resourceManager.haveFirstResourcesLoaded === true && oldPageNavigator) {\n\t\t\thref = oldPageNavigator.getCurrentHref()\n\t\t}\n\n\t\tif (href) {\n\t\t\tthis._target = this._getTargetFromHref(readingMode, href, canUseShortenedHref)\n\n\t\t} else if (locations) {\n\t\t\tconst { position, progression } = locations\n\t\t\tif (position !== undefined) {\n\t\t\t\tconst segmentIndex = position\n\t\t\t\tthis._target = this._getTargetFromSegmentIndex(readingMode, segmentIndex)\n\t\t\t\tif (progression !== undefined) {\n\t\t\t\t\tthis._target.progress = progression\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// For reaching a specific resource directly in the story (typically via a table of contents,\n\t// however it is also used as the first step into the story navigation)\n\t_getTargetFromHref(readingMode, targetHref, canUseShortenedHref = false) {\n\t\tif (!targetHref) {\n\t\t\treturn { pageIndex: 0, pageSegmentIndex: 0, segmentIndex: 0 }\n\t\t}\n\n\t\tconst targetPath = (canUseShortenedHref === true)\n\t\t\t? Utils.getShortenedHref(targetHref) // Which is actually the resource path\n\t\t\t: null\n\n\t\tlet hardTarget = null\n\t\tlet softTarget = null\n\n\t\tObject.values(this._slices).forEach((slice) => {\n\t\t\tconst { pageNavInfo } = slice\n\t\t\tconst info = pageNavInfo[readingMode]\n\t\t\tif (info) {\n\t\t\t\tconst { href, path } = slice.getInfo() || {}\n\t\t\t\tif (hardTarget === null && targetHref === href) {\n\t\t\t\t\thardTarget = info\n\t\t\t\t} else if (softTarget === null && targetPath === path) {\n\t\t\t\t\tsoftTarget = info\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tif (hardTarget) {\n\t\t\treturn hardTarget\n\t\t}\n\t\tif (softTarget) {\n\t\t\treturn softTarget\n\t\t}\n\t\treturn { pageIndex: 0, pageSegmentIndex: 0, segmentIndex: 0 }\n\t}\n\n\t_getTargetFromSegmentIndex(readingMode, segmentIndex) {\n\t\tlet target = { pageIndex: 0, pageSegmentIndex: 0, segmentIndex: 0 }\n\t\tif (segmentIndex === undefined) {\n\t\t\treturn target\n\t\t}\n\n\t\tObject.values(this._slices).forEach((slice) => {\n\t\t\tconst { pageNavInfo } = slice\n\t\t\tconst info = pageNavInfo[readingMode]\n\t\t\tconst { pageIndex, pageSegmentIndex } = info || {}\n\t\t\tif (info && info.segmentIndex === segmentIndex) {\n\t\t\t\ttarget = { pageIndex, pageSegmentIndex, segmentIndex }\n\t\t\t}\n\t\t})\n\n\t\treturn target\n\t}\n\n\t_updateLoadTasks(target) {\n\t\tconst { pageIndex = null, segmentIndex = null } = target || {}\n\t\tthis._pageNavigator.updateLoadTasks(pageIndex, segmentIndex)\n\t}\n\n\t// Used above or externally (in the latter case the change will be validated here,\n\t// and note that shouldUpdateLoadTasks is false on first language set)\n\tsetLanguage(language, shouldUpdateLoadTasks = true) {\n\t\tthis.setTag(\"language\", language, shouldUpdateLoadTasks)\n\t}\n\n\tsetTag(tagName, tagValue, shouldUpdateLoadTasks = true) {\n\t\tconst hasSucceeded = this._tagManager.setTag(tagName, tagValue)\n\t\tif (hasSucceeded === false) {\n\t\t\treturn\n\t\t}\n\n\t\t// For text slices\n\t\tObject.values(this._slices).forEach((slice) => {\n\t\t\tif (tagName === \"language\" && slice.setLanguage) {\n\t\t\t\tslice.setLanguage(tagValue)\n\t\t\t}\n\t\t\tthis.refreshOnce()\n\t\t})\n\n\t\t// For resource slices\n\t\tif (shouldUpdateLoadTasks === true) { // False only on first set\n\t\t\tthis._updateLoadTasks(null)\n\t\t}\n\n\t\tif (tagName === \"language\") {\n\t\t\tconst data = { language: tagValue }\n\t\t\tthis._eventEmitter.emit(\"languagechange\", data)\n\t\t}\n\t}\n\n\t_goToTarget(target) {\n\t\tconst { pageIndex = 0, pageSegmentIndex = 0, progress = 0 } = target || {}\n\t\tthis._target = null\n\t\tconst shouldSkipTransition = true\n\t\tthis._pageNavigator.goToPageWithIndex(pageIndex, pageSegmentIndex, progress,\n\t\t\tshouldSkipTransition)\n\t}\n\n\t// Used in VideoTexture (for fallbacks) and Slice (for alternates)\n\tgetBestMatchForCurrentTags(idPathFragmentAndTagsArray) {\n\t\treturn this._tagManager.getBestMatchForCurrentTags(idPathFragmentAndTagsArray)\n\n\t}\n\n\tgoTo(locator) {\n\t\tthis._setTargetBasedOnLocator(locator)\n\n\t\tif (!this._pageNavigator) {\n\t\t\treturn\n\t\t}\n\t\tthis._updateLoadTasks(this._target)\n\n\t\tif (this.canConsiderInteractions === true) {\n\t\t\tthis._goToTarget(this._target)\n\t\t}\n\t}\n\n\tgoToPageWithIndex(pageIndex) {\n\t\tif (!this._pageNavigator) {\n\t\t\treturn\n\t\t}\n\t\tconst actualPageIndex = pageIndex || 0\n\t\tconst segmentIndex = this._pageNavigator.getIndexOfFirstSegmentInPage(actualPageIndex)\n\t\tthis._target = { pageIndex: actualPageIndex, pageSegmentIndex: 0, segmentIndex }\n\n\t\tthis._updateLoadTasks(this._target)\n\n\t\tif (this.canConsiderInteractions === true) {\n\t\t\tthis._goToTarget(this._target)\n\t\t}\n\t}\n\n\tgoRight() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = false\n\t\tthis._pageNavigator.go(\"right\", shouldGoToMax)\n\t}\n\n\tgoLeft() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = false\n\t\tthis._pageNavigator.go(\"left\", shouldGoToMax)\n\t}\n\n\tgoDown() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = false\n\t\tthis._pageNavigator.go(\"down\", shouldGoToMax)\n\t}\n\n\tgoUp() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = false\n\t\tthis._pageNavigator.go(\"up\", shouldGoToMax)\n\t}\n\n\tgoToMaxRight() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = true\n\t\tthis._pageNavigator.go(\"right\", shouldGoToMax)\n\t}\n\n\tgoToMaxLeft() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = true\n\t\tthis._pageNavigator.go(\"left\", shouldGoToMax)\n\t}\n\n\tgoToMaxDown() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = true\n\t\tthis._pageNavigator.go(\"down\", shouldGoToMax)\n\t}\n\n\tgoToMaxUp() {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tconst shouldGoToMax = true\n\t\tthis._pageNavigator.go(\"up\", shouldGoToMax)\n\t}\n\n\tsetPercentInPage(percent) {\n\t\tif (this.canConsiderInteractions === false) {\n\t\t\treturn\n\t\t}\n\t\tthis._pageNavigator.setPercentInPage(percent)\n\t}\n\n\tunmute() {\n\t\tthis._isMuted = false\n\t\tif (this._pageNavigator) {\n\t\t\tthis._pageNavigator.setIsMuted(false)\n\t\t}\n\t}\n\n\tmute() {\n\t\tthis._isMuted = true\n\t\tif (this._pageNavigator) {\n\t\t\tthis._pageNavigator.setIsMuted(true)\n\t\t}\n\t}\n\n\t// For exiting the application\n\tdestroy() {\n\t\twindow.removeEventListener(\"resize\", this.resize)\n\t\twindow.removeEventListener(\"orientationchange\", this._doOnOrientationChange)\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\n\t\tif (this._timeAnimationManager) {\n\t\t\tthis._timeAnimationManager.destroy()\n\t\t\tthis._timeAnimationManager = null\n\t\t}\n\n\t\t// Remove textures and event listeners from slices\n\t\tObject.values(this._slices).forEach((slice) => {\n\t\t\tslice.stop()\n\t\t\tslice.destroy()\n\t\t})\n\n\t\tif (this._pageNavigator) {\n\t\t\tthis._pageNavigator.destroy()\n\t\t\tthis._pageNavigator = null\n\t\t}\n\n\t\tif (this._resourceManager) {\n\t\t\tthis._resourceManager.destroy()\n\t\t\tthis._resourceManager = null\n\t\t}\n\n\t\tif (this._interactionManager) {\n\t\t\tthis._interactionManager.destroy()\n\t\t\tthis._interactionManager = null\n\t\t}\n\n\t\tif (this._textManager) {\n\t\t\tthis._textManager.destroy()\n\t\t\tthis._textManager = null\n\t\t}\n\n\t\tif (this._renderer) {\n\t\t\tthis._renderer.destroy()\n\t\t\tthis._renderer = null\n\t\t}\n\t}\n\n}","/*! divinaPlayer\n *\n * Copyright (c) 2021 Florian Dupas (Kwalia);\n * Licensed under the MIT license */\n\n/*!\n * divinaPlayer - v0.3.0\n * Compiled Thu, 3 oct 2019 16:04:36 UTC\n *\n * divinaPlayer is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n\nimport Player from \"./Player\"\n\nexport default Player"],"names":["Loop","Container","PixiContainer","PixiGraphics","LOADING_FILL_COLOR","LOADING_FONT_FAMILY","LOADING_FONT_SIZE","constants.DEFAULT_MANIFEST_FILENAME","constants.ACCEPTED_VALUES","constants.ACCEPTED_VIDEO_EXTENSIONS","constants.DEFAULT_MIME_TYPE","Renderer","Utils.returnValidValue","Utils.convertColorStringToNumber","PixiUtils","TextBlock","PixiTextStyle","PixiTextContainer","TextElement","constants.MAX_LETTER_SPACING","constants.MAX_FONT_SIZE","PixiTextMetrics","PixiTicker","constants.ROTATION_BY_TICK","PixiTexture","TextureElement","PixiSprite","constants.DEFAULT_DUMMY_COLOR","PixiAnimatedSprite","constants.POSSIBLE_PIXEL_ERROR","Texture","Utils.getRectForMediaFragmentAndSize","PixiRectangle","Loader","PixiLoader","PixiLoaderResource","PixiBaseTexture","Utils.getDistance","constants.VELOCITY_FACTOR","constants.TIME_CONSTANT","constants.POSSIBLE_TAG_NAMES","Utils.isAString","constants.DEFAULT_VIDEO_LOAD_TIMEOUT","constants.MIN_SHARE_OF_UNITS_TO_LOAD_BEFORE","Utils.isANumber","constants.DEFAULT_MAX_NB_OF_UNITS_TO_LOAD_AFTER","Utils.hasAScheme","Utils.getRectWithSize","Utils.getPathAndMediaFragment","Utils.getResourceAndMimeTypes","Utils.isAnObject","constants.DEFAULT_DURATION","Utils.parseStringRect","Utils.getValidValueAndUnit","Utils.getFolderPathFromManifestPath","constants.SNAP_JUMP_SPEED_FACTOR","constants.STICKY_MOVE_SPEED_FACTOR","constants.MAX_ZOOM","constants.ZOOM_SENSITIVITY","Utils.parseAspectRatio","Utils.getShortenedHref"],"mappings":"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"}